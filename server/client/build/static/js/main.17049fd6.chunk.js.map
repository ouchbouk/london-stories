{"version":3,"sources":["reducers/userReducer.js","reducers/attractionsReducer.js","reducers/attractionsSearchReducer.js","reducers/AttractionCountReducer.js","reducers/flashMessageReducer.js","reducers/queryReducer.js","reducers/index.js","reducers/addressesReducer.js","history.js","actions/index.js","validation/validateUser.js","components/styledComponents/authPage.js","components/styledComponents/general.js","components/auth/LoginGoogle.js","components/auth/Register.js","validation/validateLogin.js","components/auth/Login.js","components/styledComponents/Header.js","components/auth/LogoutGoogle.js","components/Header.js","validation/validateAttration.js","components/styledComponents/createAttraction.js","components/attractions/Create.js","components/styledComponents/attractionsList.js","components/styledComponents/attractionDetails.js","components/attractions/AttractionsList.js","components/Map.js","components/styledComponents/pageNotFound.js","validation/validateReview.js","components/attractions/AttractionDetails.js","components/attractions/myAttractions.js","components/styledComponents/search.js","components/attractions/SearchBar.js","components/attractions/Search.js","components/attractions/Edit.js","components/attractions/AttractionsMap.js","styles/GlobalStyles.js","components/PageNotFound.js","components/styledComponents/home.js","components/Home.js","components/App.js","index.js"],"names":["userReducer","state","loggedIn","type","payload","error","attractions","_id","_","mapKeys","omit","attractionsSearchReducer","AttractionCountReducer","count","flashMessageReducer","data","queryReducer","combineReducers","user","attractionsSearchResults","attractionsSearch","addresses","attractionsCount","flashMessage","query","createHistory","require","createBrowserHistory","instance","axios","create","baseURL","withCredentials","dispatchMessage","dispatch","setTimeout","logout","a","post","getAttraction","id","get","searchAttractions","getAllAttractions","getUserAttractions","first","second","third","beenThere","wantToVisit","list","isLoggedIn","getAdresses","term","process","suggestions","googleAuth","token","history","action","goBack","push","validateUsername","Joi","object","username","string","pattern","RegExp","message","min","max","required","validateEmail","email","tlds","allow","validatePassword","password","Container","styled","div","Input","input","Label","label","Button","button","GoogleButton","Title","h1","CenterText","Error","p","FlashError","MainContainer","loadingKF","keyframes","LoadingRing","connect","text","render","renderProps","onClick","clientId","buttonText","onSuccess","res","tokenId","onFailure","console","log","cookiePolicy","style","marginTop","Register","usernameError","passwordError","emailError","loading","usernameChange","e","setState","target","value","passwordChange","emailChange","handleSubmit","preventDefault","validate","details","props","register","this","onSubmit","htmlFor","onChange","name","onBlur","LoginGoogle","fontSize","nextProps","prevState","React","Component","creds","Login","login","Nav","nav","collapsed","theme","onLogoutSuccess","useState","toggle","setToggle","location","useLocation","pathname","className","to","oauth","LogoutGoogle","validateName","validateDescription","description","validateLocation","TextArea","textarea","Select","select","FlashMessage","Create","onNameChange","onDescriptionChange","onTermChange","debounce","length","locationError","onLocationChange","onImageChange","images","files","imagesError","nameError","descriptionError","firstAddress","address","createAttraction","renderAdressDropdown","map","i","autoComplete","encType","backgroundColor","multiple","renderForm","values","fd","FormData","append","image","AttractionImg","img","AttractionCard","figure","CardContent","CenterButton","ContinueBtn","Header","TitleContainer","BtnsContainer","Btn","Flag","IoFlagSharp","Star","IoStarSharp","List","IoListSharp","ImgsWrapper","ImgsContainer","Img","ModalImg","CloseModalIcon","IoCloseSharp","LeftBtn","IoArrowBackSharp","RightBtn","IoArrowForwardSharp","BodyContainer","SmallContainer","Description","AddReview","ReviewButton","Stars","Face","IoPersonCircleSharp","Author","DeleteButton","Reviews","Review","MapContainer","Delete","Edit","LoginButton","RegisterButton","Rating","RatingsNumber","AttractionsList","buttonVisibilty","renderAttractions","averageRating","reviews","textDecoration","src","url","alt","rating","starDimension","starSpacing","starRatedColor","split","slice","join","renderGetAllButton","visibility","getAttractions","getAttractionCount","Marker","transform","height","width","Map","geocode","bootstrapURLKeys","key","defaultCenter","defaultZoom","lat","lng","schema","content","Modal","setAppElement","AttractionDetails","renderScrollButtons","container","imgsContainer","current","attraction","imagesLength","querySelectorAll","widths","clientWidth","loadedImages","scrollWidth","renderReviews","stars","author","deleteAttrationReview","attractionId","reviewId","changeRating","renderAddReview","reviewError","validateReview","review","addAttractionReview","method","numberOfStars","starHoverColor","cols","rows","renderDeleteButton","addedBy","variant","deleteAttraction","renderEditButton","isOnList","some","renderAddToListButton","removeFromList","addToList","renderButtons","visited","addToWantToVisit","addToBeenThere","openModal","modalIsOpen","document","body","overflow","closeModal","renderImageModal","top","left","right","bottom","marginRight","padding","overlay","zIndex","isOpen","currentImage","renderImages","public_id","onLoad","renderAttraction","sideScroll","ref","scroll","createRef","match","params","window","scrollTo","element","speed","distance","step","scrollAmount","slideTimer","setInterval","scrollLeft","Math","abs","clearInterval","ownProps","delete","MyAttractions","substring","BarContainer","SearchBar","onQueryChange","placeholder","emptyQuery","Search","whiteSpace","componentDidMount","deleteImages","editAttraction","index","indexOf","splice","marginBottom","opacity","JSON","stringify","put","isShown","setIsShown","setZIndex","position","onMouseOver","onMouseLeave","animation","AttractionsMap","renderMarkers","GlobalStyles","createGlobalStyle","PageNotFound","Hero","HeadingPrimary","HeadingSecondary","h2","Home","textAlign","as","Link","App","exact","path","component","myAttractions","config","persistConfig","storage","whitelist","persistedReducer","persistReducer","reducers","store","createStore","applyMiddleware","thunk","persistor","persistStore","ReactDOM","getElementById"],"mappings":"8MAiBeA,MAjBf,WAAsE,IAAjDC,EAAgD,uDAAxC,CAAEC,UAAU,GAA4B,yCAAjBC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QACxD,OAAQD,GACN,IAAK,WAEL,IAAK,SACH,OAAO,2BAAKC,GAAZ,IAAqBF,UAAU,IACjC,IAAK,UACH,MAAO,CAAEA,UAAU,GACrB,IAAK,mBACH,OAAO,2BAAKD,GAAUG,GACxB,IAAK,QACH,MAAO,CAAEC,MAAOD,GAClB,QACE,OAAOH,I,yBCIEK,MAff,WAAqD,IAAhCL,EAA+B,uDAAvB,GAAuB,yCAAjBE,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QACvC,OAAQD,GACN,IAAK,mBACH,OAAO,2BAAKF,GAAZ,kBAAoBG,EAAQG,IAAMH,IACpC,IAAK,kBACH,OAAO,2BAAKH,GAAUO,IAAEC,QAAQL,EAAS,QAC3C,IAAK,iBACH,OAAO,2BAAKH,GAAZ,kBAAoBG,EAAQG,IAAMH,IACpC,IAAK,oBACH,OAAOI,IAAEE,KAAKT,EAAOG,EAAQG,KAC/B,QACE,OAAON,ICDEU,MAVf,WAAkE,IAAhCV,EAA+B,uDAAvB,GAAuB,yCAAjBE,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QACpD,OAAQD,GACN,IAAK,6BACH,OAAO,eAAKK,IAAEC,QAAQL,EAAS,QAEjC,QACE,OAAOH,ICCEW,MATf,WAA0E,IAA1CX,EAAyC,uDAAjC,CAAEY,MAAO,GAAwB,yCAAjBV,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QAC5D,OAAQD,GACN,IAAK,uBACH,MAAO,CAAEU,MAAOT,GAClB,QACE,OAAOH,ICIEa,MATf,WAA6D,IAAhCb,EAA+B,uDAAvB,GAAuB,yCAAjBE,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QAC/C,OAAQD,GACN,IAAK,gBACH,MAAO,CAAEY,KAAMX,GACjB,QACE,OAAOH,ICKEe,MAVf,WAAsD,IAAhCf,EAA+B,uDAAvB,GAAuB,yCAAjBE,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QACxC,OAAQD,GAEN,IAAK,QACH,OAAOC,EACT,QACE,OAAOH,ICGEgB,cAAgB,CAC7BC,OACAZ,cACAa,yBAA0BC,EAC1BC,UCba,WAAwD,IAAhCpB,EAA+B,uDAAvB,GAAuB,yCAAjBE,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QACzD,OAAQD,GACN,IAAK,gBACH,OAAOC,EACT,QACE,OAAOH,IDSXqB,iBAAkBV,EAClBW,aAAcT,EACdU,MAAOR,I,sCEdMS,G,MAFOC,EAAQ,IAAWC,wB,iDCGrCC,EAAWC,IAAMC,OAAO,CAC1BC,QAAS,OACTC,iBAAiB,IAGnB,SAASC,EAAgBC,EAAzB,GAAuD,IAAlB/B,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QACzC8B,EAAS,CAAE/B,OAAMC,YAEjB+B,YAAW,WACTD,EAAS,CAAE/B,OAAMC,QAAS,OACzB,KAGE,I,wBAgCMgC,EAAS,WACpB,OAAO,SAACF,GACN,sBAAC,sBAAAG,EAAA,sEACOT,EAASU,KAAK,WADrB,OAECJ,EAAS,CAAE/B,KAAM,YACjB8B,EAAgBC,EAAU,CACxB/B,KAAM,gBACNC,QAAS,uBALZ,0CAAD,KA8DSmC,EAAgB,SAACC,GAC5B,OAAO,SAACN,GACN,sBAAC,8BAAAG,EAAA,sEACsBT,EAASa,IAAT,uBAA6BD,IADnD,gBACOzB,EADP,EACOA,KACNmB,EAAS,CAAE/B,KAAM,iBAAkBC,QAASW,IAF7C,0CAAD,KAoBS2B,EAAoB,SAAClB,GAChC,OAAO,SAACU,GACN,sBAAC,8BAAAG,EAAA,sEACsBT,EAASa,IAAT,gCAAsCjB,IAD5D,gBACOT,EADP,EACOA,KACNmB,EAAS,CAAE/B,KAAM,6BAA8BC,QAASW,IACxDmB,EAAS,CAAE/B,KAAM,QAASC,QAASoB,IAHpC,0CAAD,KAQSmB,GAAoB,WAC/B,OAAO,SAACT,GACN,sBAAC,8BAAAG,EAAA,sEACsBT,EAASa,IAAI,oBADnC,gBACO1B,EADP,EACOA,KACNmB,EAAS,CAAE/B,KAAM,kBAAmBC,QAASW,IAF9C,0CAAD,KAiJS6B,GAAqB,WAChC,OAAO,SAACV,GACN,sBAAC,gCAAAG,EAAA,sEACmBT,EAASa,IAAI,mBADhC,cACKI,EADL,gBAEoBjB,EAASa,IAAI,oBAFjC,cAEKK,EAFL,gBAGmBlB,EAASa,IAAI,cAHhC,OAGKM,EAHL,OAKCb,EAAS,CACP/B,KAAM,mBACNC,QAAS,CACP4C,UAAWH,EAAM9B,KACjBkC,YAAaH,EAAO/B,KACpBmC,KAAMH,EAAMhC,QAVjB,2CAAD,KAiBSoC,GAAa,WACxB,OAAO,SAACjB,GACN,sBAAC,4BAAAG,EAAA,sEACsBT,EAASa,IAAI,aADnC,kBACO1B,KACIoC,YAAYjB,EAAS,CAAE/B,KAAM,YAFxC,0CAAD,KAOSiD,GAAc,SAACC,GAC1B,OAAO,SAACnB,GACN,sBAAC,8BAAAG,EAAA,sEACsBR,IAAMY,IAAN,iDACuBY,EADvB,gCACmDC,8BADnD,MADtB,gBACOvC,EADP,EACOA,KAINmB,EAAS,CAAE/B,KAAM,gBAAiBC,QAASW,EAAKwC,cALjD,0CAAD,KAUSC,GAAa,SAACC,GACzB,OAAO,SAACvB,GACN,sBAAC,8BAAAG,EAAA,sEACsBT,EAASU,KAAK,SAAU,CAAEmB,UADhD,gBACO1C,EADP,EACOA,KACNmB,EAAS,CAAE/B,KAAM,SAAUC,QAASW,IACb,QAAnB2C,EAAQC,OAAkBD,EAAQE,SACjCF,EAAQG,KAAK,KAJnB,0CAAD,K,oBC1USC,GAAmBC,KAAIC,OAAO,CACzCC,SAAUF,KAAIG,SACXC,QAAQ,IAAIC,OAAO,qBACnBC,QAAQ,CAAE,sBAAuB,qBACjCC,IAAI,GACJC,IAAI,IACJC,aAGQC,GAAgBV,KAAIC,OAAO,CACtCU,MAAOX,KAAIG,SACRQ,MAAM,CAAEC,KAAM,CAAEC,OAAO,KACvBJ,aAGQK,GAAmBd,KAAIC,OAAO,CACzCc,SAAUf,KAAIG,SACXC,QAAQ,IAAIC,OAAO,2BACnBC,QAAQ,CAAE,sBAAuB,qBACjCC,IAAI,GACJC,IAAI,IACJC,a,gBCtBQO,GAAYC,KAAOC,IAAV,4LASTC,GAAQF,KAAOG,MAAV,2RAWN,qBAAG9E,MAAqB,gBAAkB,UAMzC+E,GAAQJ,KAAOK,MAAV,oEAKLC,GAASN,KAAOO,OAAV,sWAmBNC,GAAeR,KAAOO,OAAV,sWAmBZE,GAAQT,KAAOU,GAAV,qJAQLC,GAAaX,KAAOC,IAAV,yEAKVW,GAAQZ,KAAOa,EAAV,4FAMLC,GAAad,KAAOa,EAAV,4ICxFVE,GAAgBf,KAAOC,IAAV,mGAMpBe,GAAYC,aAAH,uHASFC,GAAclB,KAAOC,IAAV,sVAaPe,I,iBCCFG,I,GAAAA,eAAQ,KAAM,CAAE3C,eAAhB2C,EA1Bf,YAAsC,IAArB3C,EAAoB,EAApBA,WAAY4C,EAAQ,EAARA,KAS3B,OACE,+BACE,eAAC,eAAD,CACEC,OAAQ,SAACC,GAAD,OACN,uBAAMC,QAASD,EAAYC,QAA3B,SAAqCH,KAEvCI,SAAUlD,2EACVmD,WAAW,QACXC,UAhBY,SAACC,GACjBnD,EAAWmD,EAAIC,UAgBXC,UAbY,SAACF,GACjBG,QAAQC,IAAI,kBAaRC,aAAc,qBACdC,MAAO,CAAEC,UAAW,gB,SCDtBC,G,4MACJlH,MAAQ,CACNgE,SAAU,GACVa,SAAU,GACVJ,MAAO,GACP0C,cAAe,GACfC,cAAe,GACfC,WAAY,GACZC,SAAS,G,EAGXC,eAAiB,SAACC,GAChB,EAAKC,SAAS,CAAEzD,SAAUwD,EAAEE,OAAOC,S,EAGrCC,eAAiB,SAACJ,GAChB,EAAKC,SAAS,CAAE5C,SAAU2C,EAAEE,OAAOC,S,EAGrCE,YAAc,SAACL,GACb,EAAKC,SAAS,CAAEhD,MAAO+C,EAAEE,OAAOC,S,EAGlCG,aAAe,SAACN,GACdA,EAAEO,iBAEF,IAAIZ,EAAgBtD,GAAiBmE,SAAS,CAC5ChE,SAAU,EAAKhE,MAAMgE,WACpB5D,MAEC+G,GACF,EAAKM,SAAS,CAAEN,cAAeA,EAAcc,QAAQ,GAAG7D,UAE1D,IAAIgD,EAAgBxC,GAAiBoD,SAAS,CAC5CnD,SAAU,EAAK7E,MAAM6E,WACpBzE,MAECgH,GACF,EAAKK,SAAS,CAAEL,cAAeA,EAAca,QAAQ,GAAG7D,UAE1D,IAAIiD,EAAa7C,GAAcwD,SAAS,CACtCvD,MAAO,EAAKzE,MAAMyE,QACjBrE,MAECiH,GACF,EAAKI,SAAS,CAAEJ,WAAYA,EAAWY,QAAQ,GAAG7D,UAE/C+C,GAAkBC,GAAkBC,IACvC,EAAKa,MAAMC,SAAS,EAAKnI,OACzB,EAAKyH,SAAS,CAAEH,SAAS,M,4CAW7B,WAAU,IAAD,OAGP,OAFIc,KAAKF,MAAMjH,MAAQmH,KAAKF,MAAMjH,KAAKhB,UAAUwD,EAAQG,KAAK,KAG5D,gBAACkC,GAAD,WACE,eAACJ,GAAD,UACE,gBAACF,GAAD,qBAEG4C,KAAKF,MAAMjH,KAAKb,OACf,eAACyF,GAAD,UAAauC,KAAKF,MAAMjH,KAAKb,aAKnC,eAAC0E,GAAD,UACE,wBAAMuD,SAAUD,KAAKN,aAArB,UACE,iCACE,eAAC3C,GAAD,CAAOmD,QAAQ,WAAf,mBACA,eAACrD,GAAD,CACE0C,MAAOS,KAAKpI,MAAMyE,MAClB8D,SAAUH,KAAKP,YACfW,KAAK,QACLtI,KAAK,OACLE,MAAOgI,KAAKpI,MAAMqH,WAClBoB,OAAQ,SAACjB,GACHhD,GAAcwD,SAAS,CAAEvD,MAAO+C,EAAEE,OAAOC,QAASvH,MACpD,EAAKqH,SAAS,CACZJ,WAAY7C,GAAcwD,SAAS,CACjCvD,MAAO+C,EAAEE,OAAOC,QACfvH,MAAM6H,QAAQ,GAAG7D,UAGtB,EAAKqD,SAAS,CAAEJ,WAAY,QAIlC,eAAC1B,GAAD,UAAQyC,KAAKpI,MAAMqH,gBAErB,iCACE,eAAClC,GAAD,CAAOmD,QAAQ,WAAf,sBACA,eAACrD,GAAD,CACE0C,MAAOS,KAAKpI,MAAMgE,SAClBuE,SAAUH,KAAKb,eACfiB,KAAK,WACLtI,KAAK,OACLE,MAAOgI,KAAKpI,MAAMmH,cAClBsB,OAAQ,SAACjB,GAEL3D,GAAiBmE,SAAS,CAAEhE,SAAUwD,EAAEE,OAAOC,QAC5CvH,MAEH,EAAKqH,SAAS,CACZN,cAAetD,GAAiBmE,SAAS,CACvChE,SAAUwD,EAAEE,OAAOC,QAClBvH,MAAM6H,QAAQ,GAAG7D,UAGtB,EAAKqD,SAAS,CAAEN,cAAe,QAIrC,eAACxB,GAAD,UAAQyC,KAAKpI,MAAMmH,mBAErB,iCACE,eAAChC,GAAD,CAAOmD,QAAQ,WAAf,sBACA,eAACrD,GAAD,CACE0C,MAAOS,KAAKpI,MAAM6E,SAClB0D,SAAUH,KAAKR,eACfY,KAAK,WACLtI,KAAK,WACLE,MAAOgI,KAAKpI,MAAMoH,cAClBqB,OAAQ,SAACjB,GAEL5C,GAAiBoD,SAAS,CAAEnD,SAAU2C,EAAEE,OAAOC,QAC5CvH,MAEH,EAAKqH,SAAS,CACZL,cAAexC,GAAiBoD,SAAS,CACvCnD,SAAU2C,EAAEE,OAAOC,QAClBvH,MAAM6H,QAAQ,GAAG7D,UAGtB,EAAKqD,SAAS,CAAEL,cAAe,QAIrC,eAACzB,GAAD,UAAQyC,KAAKpI,MAAMoH,mBAErB,gBAAC/B,GAAD,CAAQnF,KAAK,SAAb,UACGkI,KAAKpI,MAAMsH,SAAW,eAACrB,GAAD,IADzB,aAIA,eAACP,GAAD,iBAEA,eAACgD,GAAD,CACEvC,KACE,gBAACZ,GAAD,2BACe,eAAC,KAAD,CAAcyB,MAAO,CAAE2B,SAAU,0B,uCAxG9D,SAAgCC,EAAWC,GACzC,OAAIA,EAAUvB,SAAWsB,EAAU3H,KAAKb,MAC/B,CAAEkH,SAAS,GAEb,S,GAzDYwB,IAAMC,WAwKd7C,gBACb,YACE,MAAO,CAAEjF,KADG,EAAXA,QAGH,CAAEkH,SLpLoB,SAACa,GACvB,OAAO,SAAC/G,GACN,sBAAC,8BAAAG,EAAA,sEACsBT,EAASU,KAAK,YAAa2G,GADjD,iBACOlI,EADP,EACOA,MAEGkD,UACP/B,EAAS,CAAE/B,KAAM,WAAYC,QAASW,IACf,QAAnB2C,EAAQC,OAAkBD,EAAQE,SACjCF,EAAQG,KAAK,MAElB5B,EAAgBC,EAAU,CAAE/B,KAAM,QAASC,QAASW,IARvD,0CAAD,MK8KWoF,CAKbgB,ICnMWrD,GAAmBC,KAAIC,OAAO,CACzCC,SAAUF,KAAIG,SACXC,QAAQ,IAAIC,OAAO,qBACnBC,QAAQ,CAAE,sBAAuB,qBACjCC,IAAI,GACJC,IAAI,IACJC,aAGQK,GAAmBd,KAAIC,OAAO,CACzCc,SAAUf,KAAIG,SACXC,QAAQ,IAAIC,OAAO,2BACnBC,QAAQ,CAAE,sBAAuB,qBAEjCE,IAAI,IACJC,aCOC0E,G,4MACJjJ,MAAQ,CACNgE,SAAU,GACVa,SAAU,GACVsC,cAAe,GACfC,cAAe,GACfE,SAAS,G,EAGXC,eAAiB,SAACC,GAChB,EAAKC,SAAS,CAAEzD,SAAUwD,EAAEE,OAAOC,S,EAGrCC,eAAiB,SAACJ,GAChB,EAAKC,SAAS,CAAE5C,SAAU2C,EAAEE,OAAOC,S,EAGrCG,aAAe,SAACN,GACdA,EAAEO,iBAEF,IAAIZ,EAAgBtD,GAAiBmE,SAAS,CAC5ChE,SAAU,EAAKhE,MAAMgE,WACpB5D,MAEC+G,GACF,EAAKM,SAAS,CAAEN,cAAeA,EAAcc,QAAQ,GAAG7D,UAE1D,IAAIgD,EAAgBxC,GAAiBoD,SAAS,CAC5CnD,SAAU,EAAK7E,MAAM6E,WACpBzE,MAECgH,GACF,EAAKK,SAAS,CAAEL,cAAeA,EAAca,QAAQ,GAAG7D,UAErD+C,GAAkBC,IACrB,EAAKc,MAAMgB,MAAM,EAAKlJ,OACtB,EAAKyH,SAAS,CAAEH,SAAS,M,4CAW7B,WAAU,IAAD,OAEP,OADIc,KAAKF,MAAMjH,MAAQmH,KAAKF,MAAMjH,KAAKhB,UAAUwD,EAAQG,KAAK,KAE5D,gBAACkC,GAAD,WACE,eAACJ,GAAD,UACE,gBAACF,GAAD,mBAEG4C,KAAKF,MAAMjH,KAAKb,OACf,eAACyF,GAAD,UAAauC,KAAKF,MAAMjH,KAAKb,aAInC,eAAC0E,GAAD,UACE,wBAAMuD,SAAUD,KAAKN,aAArB,UACE,iCACE,eAAC3C,GAAD,CAAOmD,QAAQ,WAAf,sBACA,eAACrD,GAAD,CACE7E,MAAOgI,KAAKpI,MAAMmH,cAClBQ,MAAOS,KAAKpI,MAAMgE,SAClBuE,SAAUH,KAAKb,eACfiB,KAAK,WACLtI,KAAK,OACLuI,OAAQ,SAACjB,GAEL3D,GAAiBmE,SAAS,CAAEhE,SAAUwD,EAAEE,OAAOC,QAC5CvH,MAEH,EAAKqH,SAAS,CACZN,cAAetD,GAAiBmE,SAAS,CACvChE,SAAUwD,EAAEE,OAAOC,QAClBvH,MAAM6H,QAAQ,GAAG7D,UAGtB,EAAKqD,SAAS,CAAEN,cAAe,QAIrC,eAACxB,GAAD,UAAQyC,KAAKpI,MAAMmH,mBAErB,iCACE,eAAChC,GAAD,CAAOmD,QAAQ,WAAf,sBACA,eAACrD,GAAD,CACE7E,MAAOgI,KAAKpI,MAAMoH,cAClBO,MAAOS,KAAKpI,MAAM6E,SAClB0D,SAAUH,KAAKR,eACfY,KAAK,WACLtI,KAAK,WACLuI,OAAQ,SAACjB,GAEL5C,GAAiBoD,SAAS,CAAEnD,SAAU2C,EAAEE,OAAOC,QAC5CvH,OAEHyG,QAAQC,MACR,EAAKW,SAAS,CACZL,cAAexC,GAAiBoD,SAAS,CACvCnD,SAAU2C,EAAEE,OAAOC,QAClBvH,MAAM6H,QAAQ,GAAG7D,WAGtB,EAAKqD,SAAS,CAAEL,cAAe,QAIrC,eAACzB,GAAD,UAAQyC,KAAKpI,MAAMoH,mBAErB,gBAAC/B,GAAD,CAAQnF,KAAK,SAAb,UACGkI,KAAKpI,MAAMsH,SAAW,eAACrB,GAAD,IADzB,WAIA,eAACP,GAAD,iBAEA,eAACgD,GAAD,CACEvC,KACE,gBAACZ,GAAD,yBACa,eAAC,KAAD,CAAcyB,MAAO,CAAE2B,SAAU,0B,uCAjF5D,SAAgCC,EAAWC,GACzC,OAAIA,EAAUvB,SAAWsB,EAAU3H,KAAKb,MAC/B,CAAEkH,SAAS,GAEb,S,GA5CSwB,IAAMC,WAoIX7C,gBACb,YACE,MAAO,CAAEjF,KADG,EAAXA,QAGH,CAAEiI,MPhIiB,SAACF,GACpB,OAAO,SAAC/G,GACN,sBAAC,8BAAAG,EAAA,sEACsBT,EAASU,KAAK,SAAU2G,GAD9C,iBACOlI,EADP,EACOA,MAEGkD,UACP/B,EAAS,CAAE/B,KAAM,SAAUC,QAASW,IACb,QAAnB2C,EAAQC,OAAkBD,EAAQE,SACjCF,EAAQG,KAAK,MAElB5B,EAAgBC,EAAU,CAAE/B,KAAM,QAASC,QAASW,IARvD,0CAAD,MO0HWoF,CAKb+C,I,kBC/JWE,GAAMpE,KAAOqE,IAAV,kiHA6BK,SAAClB,GAAD,OAAYA,EAAMmB,UAAY,QAAU,OAGrC,SAACnB,GAAD,MACF,UAAhBA,EAAMoB,OAAqBpB,EAAMmB,UAAY,UAAY,iBAOlD,SAACnB,GAAD,MAA4B,UAAhBA,EAAMoB,MAAoB,QAAU,aAQtC,SAACpB,GAAD,MAA4B,UAAhBA,EAAMoB,MAAoB,IAAM,UAMtD,SAACpB,GAAD,MAA4B,UAAhBA,EAAMoB,MAAoB,QAAU,aAiB5C,SAACpB,GAAD,OAAYA,EAAMmB,UAAY,GAAK,UAOvC,SAACnB,GAAD,MAA4B,UAAhBA,EAAMoB,MAAoB,QAAU,aAahD,SAACpB,GAAD,MAA4B,UAAhBA,EAAMoB,MAAoB,QAAU,aAQrC,SAACpB,GAAD,MACF,UAAhBA,EAAMoB,MAAoB,QAAU,aAE7B,SAACpB,GAAD,MAA4B,UAAhBA,EAAMoB,MAAoB,UAAY,WAYlD,SAACpB,GAAD,MAA4B,UAAhBA,EAAMoB,MAAoB,WAAa,WACxC,SAACpB,GAAD,MAA4B,UAAhBA,EAAMoB,MAAoB,GAAK,cAUtD,SAACpB,GAAD,MAA4B,UAAhBA,EAAMoB,MAAoB,UAAY,WACvC,SAACpB,GAAD,MACF,UAAhBA,EAAMoB,MAAoB,QAAU,aAY7B,SAACpB,GAAD,MAA4B,UAAhBA,EAAMoB,MAAoB,WAAa,WACxC,SAACpB,GAAD,MAA4B,UAAhBA,EAAMoB,MAAoB,GAAK,cAoBlD,SAACpB,GAAD,OAAYA,EAAMmB,UAAY,IAAM,OACpC,SAACnB,GAAD,OAAYA,EAAMmB,UAAY,GAAK,UAMvC,SAACnB,GAAD,MAA4B,UAAhBA,EAAMoB,MAAoB,QAAU,aCjJ9CpD,I,2KAAAA,eAAQ,KAAM,CAAE/D,UAAhB+D,EAnBf,YAA6B,IAAX/D,EAAU,EAAVA,OAKhB,OACI,eAAC,gBAAD,CACEiE,OAAQ,SAACC,GAAD,OACN,uBAAMC,QAASD,EAAYC,QAA3B,qBAIFC,SAAUlD,2EACVmD,WAAW,SACX+C,gBAbY,WAChBpH,UCmFW+D,gBACb,YACE,MAAO,CAAEjF,KADG,EAAXA,QAGH,CAAEkB,SAAQoB,eAJG2C,EA9EA,SAACgC,GACd,MAA4BsB,oBAAS,GAArC,oBAAOC,EAAP,KAAeC,EAAf,KACIC,EAAWC,cAEf,OACE,gBAACT,GAAD,CACEE,UAAWI,EACXH,MAAK,UAA2B,MAAtBK,EAASE,SAAmB,QAAU,SAFlD,UAIE,eAAC,KAAD,CAAMC,UAAU,QAAQC,GAAG,IAA3B,+BAIA,uBACEzD,QAAS,WACPoD,GAAWD,IAEbK,UAAS,YAJX,UAME,eAAC,KAAD,CAAMA,UAAU,OAAOC,GAAG,eAA1B,yBAGA,eAAC,KAAD,CAAMD,UAAU,OAAOC,GAAG,mBAA1B,iBAGA,eAAC,KAAD,CAAMD,UAAU,OAAOC,GAAG,sBAA1B,oBAGA,eAAC,KAAD,CAAMD,UAAU,OAAOC,GAAG,UAA1B,wBAIA,eAAC,KAAD,CAAMD,UAAU,OAAOC,GAAG,iBAA1B,2BAKF,uBAAKD,UAAU,YAAf,WACI5B,EAAMjH,KAAKhB,UACX,eAAC,KAAD,CAAM6J,UAAU,gBAAgBC,GAAG,SAAnC,oBAIA7B,EAAMjH,KAAKhB,UACX,eAAC,KAAD,CAAM6J,UAAU,mBAAmBC,GAAG,YAAtC,qBAKD7B,EAAMjH,KAAKhB,WAAaiI,EAAMjH,KAAK+I,OAClC,yBACEF,UAAU,gBACVxD,QAAS,WACP4B,EAAM/F,UAHV,oBASD+F,EAAMjH,KAAKhB,UAAYiI,EAAMjH,KAAK+I,OACjC,yBAAQD,GAAG,GAAGD,UAAU,gBAAxB,SACE,eAACG,GAAD,SAKN,sBACE3D,QAAS,WACPoD,GAAWD,IAEbK,UAAU,WAJZ,SAME,eAAC,KAAD,YClFKI,GAAepG,KAAIC,OAAO,CACrCyE,KAAM1E,KAAIG,SAASI,IAAI,GAAGC,IAAI,IAAIC,aAGvB4F,GAAsBrG,KAAIC,OAAO,CAC5CqG,YAAatG,KAAIG,SAASI,IAAI,IAAIE,aAGvB8F,GAAmBvG,KAAIC,OAAO,CACzC4F,SAAU7F,KAAIG,SAASM,aCAZO,GAAYC,KAAOC,IAAV,+UAoBTC,GAAQF,KAAOG,MAAV,mSAYN,qBAAG9E,MAAqB,gBAAkB,UAOzC+E,GAAQJ,KAAOK,MAAV,8FAMLC,GAASN,KAAOO,OAAV,yYAoBNE,GAAQT,KAAOU,GAAV,2JAQLC,GAAaX,KAAOC,IAAV,sDAIVsF,GAAWvF,KAAOwF,SAAV,+MAST,qBAAGnK,MAAqB,gBAAkB,UAGzCoK,GAASzF,KAAO0F,OAAV,+KAUNC,GAAe3F,KAAOa,EAAV,4QCtFnB+E,G,kDACJ,WAAYzC,GAAQ,IAAD,8BACjB,cAAMA,IAeR0C,aAAe,SAACpD,GACd,EAAKC,SAAS,CAAEe,KAAMhB,EAAEE,OAAOC,SAjBd,EAoBnBkD,oBAAsB,SAACrD,GACrB,EAAKC,SAAS,CAAE2C,YAAa5C,EAAEE,OAAOC,SArBrB,EAwBnBmD,aAAe,SAACtD,GACd,EAAKC,SAAS,CAAErE,KAAMoE,EAAEE,OAAOC,QAE/BpH,IAAEwK,UAAS,WACT,EAAK7C,MAAM/E,YAAY,EAAKnD,MAAMoD,MACE,IAAhC,EAAK8E,MAAM9G,UAAU4J,OACvB,EAAKvD,SAAS,CAAEwD,cAAe,kCAE/B,EAAKxD,SAAS,CAAEwD,cAAe,OAEhC,IAPH1K,IA3BiB,EAqCnB2K,iBAAmB,SAAC1D,GAClB,EAAKC,SAAS,CAAEkC,SAAUnC,EAAEE,OAAOC,SAtClB,EAyCnBwD,cAAgB,SAAC3D,GACf,EAAKC,SAAS,CAAE2D,OAAQ5D,EAAEE,OAAO2D,QACjC,EAAK5D,SAAS,CACZ6D,YAAa,MA5CE,EAgDnBxD,aAAe,SAACN,GACdA,EAAEO,iBACF,IAAIwD,EAAYrB,GAAalC,SAAS,CACpCQ,KAAM,EAAKxI,MAAMwI,OAChBpI,MAECmL,GACF,EAAK9D,SAAS,CACZ8D,UAAWA,EAAUtD,QAAQ,GAAG7D,UAIpC,IAAIoH,EAAmBrB,GAAoBnC,SAAS,CAClDoC,YAAa,EAAKpK,MAAMoK,cACvBhK,MAECoL,GACF,EAAK/D,SAAS,CACZ+D,iBAAkBA,EAAiBvD,QAAQ,GAAG7D,UAIlD,IAAIhD,EAAY,EAAK8G,MAAM9G,UACvBqK,EAAe,GACfrK,EAAU4J,OAAS,GAA6B,KAAxB,EAAKhL,MAAM2J,WACrC,EAAKlC,SAAS,CAAEkC,SAAUvI,EAAU,GAAGsK,UACvCD,EAAerK,EAAU,GAAGsK,SAE9B,IAAIT,EAAgBZ,GAAiBrC,SAAS,CAC5C2B,SAAU,EAAK3J,MAAM2J,UAAY8B,IAChCrL,MAEC6K,GACF,EAAKxD,SAAS,CACZwD,cAAeA,EAAchD,QAAQ,GAAG7D,UAI5C,IAAIkH,EAAe,EAAKtL,MAAMoL,OAE1B,GADA,qCAGAE,GACF,EAAK7D,SAAS,CAAE6D,gBAGbC,GAAcN,GAAkBO,GAAqBF,IACxD,EAAKpD,MAAMyD,iBAAiB,EAAK3L,OACjC,EAAKyH,SAAS,CAAEkC,SAAU,KAC1B,EAAKlC,SAAS,CAAEH,SAAS,MAjGV,EAqGnBsE,qBAAuB,WACrB,IAAIxK,EAAY,EAAK8G,MAAM9G,UAC3B,OACE,eAACoJ,GAAD,CAAQlE,QAAS,EAAK4E,iBAAtB,SACG9J,EAAUyK,KAAI,WAAcC,GAAO,IAAlBJ,EAAiB,EAAjBA,QAChB,OACE,yBAAgB/D,MAAO+D,EAAvB,SACGA,GADUI,SAzGrB,EAAK9L,MAAQ,CACXwI,KAAM,GACN4B,YAAa,GACbT,SAAU,GACVyB,OAAQ,KACRhI,KAAM,GACNmI,UAAW,GACXC,iBAAkB,GAClBP,cAAe,GACfK,YAAa,GACbhE,SAAS,GAZM,E,8CAoHnB,WAAc,IAAD,OAIX,OAHKc,KAAKF,MAAMjH,KAAKhB,UACnBwD,EAAQG,KAAK,UAGb,iCACE,eAAC,GAAD,UACE,gBAAC,GAAD,4BAEGwE,KAAKF,MAAM9D,SACV,eAACsG,GAAD,UAAetC,KAAKF,MAAM9D,eAIhC,eAAC,GAAD,UACE,wBACE2H,aAAa,MACb1D,SAAUD,KAAKN,aACfkE,QAAQ,sBAHV,UAKE,iCACE,eAAC,GAAD,CAAO1D,QAAQ,OAAf,kBACA,eAAC,GAAD,CACEpI,KAAK,OACLsI,KAAK,OACLD,SAAUH,KAAKwC,aACfjD,MAAOS,KAAKpI,MAAMwI,KAClBpI,MAAOgI,KAAKpI,MAAMuL,UAClB9C,OAAQ,SAACjB,GACP,IAAI+D,EAAYrB,GAAalC,SAAS,CACpCQ,KAAMhB,EAAEE,OAAOC,QACdvH,MACCmL,EACF,EAAK9D,SAAS,CACZ8D,UAAWA,EAAUtD,QAAQ,GAAG7D,UAGlC,EAAKqD,SAAS,CAAE8D,UAAW,QAIjC,eAAC5F,GAAD,UAAQyC,KAAKpI,MAAMuL,eAErB,iCACE,eAAC,GAAD,CAAOjD,QAAQ,cAAf,yBACA,eAACgC,GAAD,CACE9B,KAAK,cACLD,SAAUH,KAAKyC,oBACflD,MAAOS,KAAKpI,MAAMoK,YAClBhK,MAAOgI,KAAKpI,MAAMwL,iBAClB/C,OAAQ,SAACjB,GACP,IAAIgE,EAAmBrB,GAAoBnC,SAAS,CAClDoC,YAAa5C,EAAEE,OAAOC,QACrBvH,MACCoL,EACF,EAAK/D,SAAS,CACZ+D,iBAAkBA,EAAiBvD,QAAQ,GAAG7D,UAGhD,EAAKqD,SAAS,CAAE+D,iBAAkB,QAIxC,eAAC7F,GAAD,UAAQyC,KAAKpI,MAAMwL,sBAErB,iCACE,eAAC,GAAD,CAAOlD,QAAQ,WAAf,qBACA,eAAC,GAAD,CACEpI,KAAK,OACLsI,KAAK,WACLD,SAAUH,KAAK0C,aACfnD,MAAOS,KAAKpI,MAAMoD,KAClBhD,MAAOgI,KAAKpI,MAAMiL,cAClBxC,OAAQ,SAACjB,GACP,IAAIyD,EAAgBZ,GAAiBrC,SAAS,CAC5C2B,SAAUnC,EAAEE,OAAOC,QAClBvH,MACC6K,EACF,EAAKxD,SAAS,CACZwD,cAAeA,EAAchD,QAAQ,GAAG7D,UAED,IAAhC,EAAK8D,MAAM9G,UAAU4J,QAC9B,EAAKvD,SAAS,CAAEwD,cAAe,QAIrC,eAACtF,GAAD,UAAQyC,KAAKpI,MAAMiL,mBAEpB7C,KAAKF,MAAM9G,UAAU4J,OAAS,GAAK5C,KAAKwD,uBACzC,iCACE,eAAC,GAAD,CAAOtD,QAAQ,QAAf,2BACA,eAAC,GAAD,CACEtB,MAAO,CAAEiF,gBAAiB,WAC1B1D,SAAUH,KAAK+C,cACfjL,KAAK,OACLsI,KAAK,SACL0D,UAAQ,IAEV,eAACvG,GAAD,UAAQyC,KAAKpI,MAAMsL,iBAErB,gBAAC,GAAD,CAAQpL,KAAK,SAAb,UACGkI,KAAKpI,MAAMsH,SAAW,eAACrB,GAAD,IADzB,iC,oBAUV,WACE,OAAO,eAACH,GAAD,UAAgBsC,KAAK+D,mB,GApOXrD,IAAMC,WAwOZ7C,gBACb,YACE,MAAO,CAAE9E,UAD4B,EAApCA,UACmBH,KADiB,EAAzBA,KACcmD,QADW,EAAnB9C,aAC8BR,QAElD,CAAE6K,iBbvM4B,SAACS,GAC/B,IAAM5D,EAAwC4D,EAAxC5D,KAAMmB,EAAkCyC,EAAlCzC,SAAUS,EAAwBgC,EAAxBhC,YAAagB,EAAWgB,EAAXhB,OAC/BiB,EAAK,IAAIC,SACbD,EAAGE,OAAO,OAAQ/D,GAClB6D,EAAGE,OAAO,cAAenC,GACzBiC,EAAGE,OAAO,WAAY5C,GALoB,oBAMxByB,GANwB,IAM1C,2BAA0B,CAAC,IAAlBoB,EAAiB,QACxBH,EAAGE,OAAO,SAAUC,IAPoB,8BAS1C,OAAO,SAACvK,GACN,sBAAC,8BAAAG,EAAA,sEACsBT,EAASU,KAAK,eAAgBgK,GADpD,gBACOvL,EADP,EACOA,KACNmB,EAAS,CAAE/B,KAAM,mBAAoBC,QAASW,IAE9CkB,EAAgBC,EAAU,CACxB/B,KAAM,gBACNC,QAAS,gCAEXsD,EAAQG,KAAR,uBAA6B9C,EAAKR,MARnC,0CAAD,Ka6LkB6C,eAAaD,eAJpBgD,CAKbyE,ICnQW7F,GAAYC,KAAOC,IAAV,6fAwBTyH,GAAgB1H,KAAO2H,IAAV,gHAMbC,GAAiB5H,KAAO6H,OAAV,krBAgCrBH,IAMOI,GAAc9H,KAAOC,IAAV,sgBA2BX8H,GAAe/H,KAAOC,IAAV,wEAIZK,GAASN,KAAOO,OAAV,0fAuBNE,GAAQT,KAAOU,GAAV,8NAWLC,GAAaX,KAAOC,IAAV,sDAIV0F,GAAe3F,KAAOa,EAAV,yOAYZmH,GAAchI,KAAOO,OAAV,kkBC5IX0H,GAASjI,KAAOC,IAAV,mRAcNQ,GAAQT,KAAOU,GAAV,4LAWLwH,GAAiBlI,KAAOC,IAAV,8FAMdkI,GAAgBnI,KAAOC,IAAV,wHAQbmI,GAAMpI,KAAOO,OAAV,4XAwBH8H,GAAOrI,aAAOsI,KAAPtI,CAAH,gGAMJuI,GAAOvI,aAAOwI,KAAPxI,CAAH,8FAMJyI,GAAOzI,aAAO0I,KAAP1I,CAAH,8FAMJ2I,GAAc3I,KAAOC,IAAV,iFAKX2I,GAAgB5I,KAAOC,IAAV,mIAQb4I,GAAM7I,KAAO2H,IAAV,8GAOHmB,GAAW9I,KAAO2H,IAAV,yRAmBRoB,GAAiB/I,aAAOgJ,KAAPhJ,CAAH,8IASdiJ,GAAUjJ,aAAOkJ,KAAPlJ,CAAH,uTAoBPmJ,GAAWnJ,aAAOoJ,KAAPpJ,CAAH,yTAoBRqJ,GAAgBrJ,KAAOC,IAAV,6DAIbqJ,GAAiBtJ,KAAOC,IAAV,qRAedsJ,GAAcvJ,KAAOa,EAAV,2PAYX2I,GAAYxJ,KAAOC,IAAV,+NAYTsF,GAAWvF,KAAOwF,SAAV,uPAQT,qBAAGnK,MAAqB,gBAAkB,UAMzCoO,GAAezJ,KAAOO,OAAV,oQAaZmJ,GAAQ1J,KAAOC,IAAV,oDAIL0J,GAAO3J,aAAO4J,KAAP5J,CAAH,sEAKJ6J,GAAS7J,KAAOC,IAAV,wOAeN6J,GAAe9J,KAAOO,OAAV,yKASZI,GAAaX,KAAOC,IAAV,iHAOV8J,GAAU/J,KAAOC,IAAV,kGAMP+J,GAAShK,KAAOC,IAAV,4MAUNgK,GAAejK,KAAOC,IAAV,qJAQZiK,GAASlK,KAAOO,OAAV,mJAQN4J,GAAOnK,KAAOO,OAAV,wNAYJH,GAAQJ,KAAOa,EAAV,mGAMLuJ,GAAcpK,KAAOO,OAAV,sVAmBX8J,GAAiBrK,KAAOO,OAAV,8SAkBdoF,GAAe3F,KAAOa,EAAV,2PAaZyJ,GAAStK,KAAOC,IAAV,+HAQNsK,GAAgBvK,KAAOa,EAAV,gI,oBCpXpB2J,G,4MACJvP,MAAQ,CACNwP,gBAAiB,I,EAQnBC,kBAAoB,WAClB,OAAK,EAAKvH,MAAM7H,YAEd,eAAC,GAAD,UACG,EAAK6H,MAAM7H,YAAYwL,KACtB,YAAiE,IAA9DrD,EAA6D,EAA7DA,KAAM4B,EAAuD,EAAvDA,YAAa9J,EAA0C,EAA1CA,IAAK8K,EAAqC,EAArCA,OAAQsE,EAA6B,EAA7BA,cAA6B,EAAdC,QAChD,OACE,eAAChD,GAAD,UACE,gBAAC,KAAD,CACE3F,MAAO,CAAE4I,eAAgB,QACzB7F,GAAE,uBAAkBzJ,GAFtB,UAIE,eAACmM,GAAD,CAAeoD,IAAKzE,EAAO,GAAG0E,IAAKC,IAAI,QACvC,gBAAClD,GAAD,WACE,oBAAG/C,UAAU,OAAb,SAAqBtB,IACrB,eAAC6G,GAAD,UACE,eAAC,KAAD,CACEW,OAAQN,EACRO,cAAc,SACdC,YAAY,MACZC,eAAe,cAGnB,qBAAGrG,UAAU,WAAb,UACGM,EAAYgG,MAAM,OAAOC,MAAM,EAAG,IAAIC,KAAK,KAD9C,SAGA,eAAC,GAAD,UACE,eAACvD,GAAD,wCApBazM,QANK,I,EAsCtCiQ,mBAAqB,WACnB,OACG,EAAKrI,MAAM7H,aACZ,EAAK6H,MAAMtH,OAAS,GACpB,EAAKsH,MAAM7H,YAAY2K,OAAS,EAEzB,GAEP,gBAAC,GAAD,CACEhE,MAAO,CAAEwJ,WAAY,EAAKxQ,MAAMwP,iBAChClJ,QAAS,WACP,EAAK4B,MAAMxF,oBACX,EAAK+E,SAAS,CAAE+H,gBAAiB,YAJrC,qBAOW,EAAKtH,MAAMtH,MAPtB,mB,uDApDJ,WACEwH,KAAKF,MAAMuI,iBACXrI,KAAKF,MAAMwI,uB,oBA8Db,WACE,OACE,gBAAC5K,GAAD,WACE,eAAC,GAAD,UACE,gBAAC,GAAD,sCAEGsC,KAAKF,MAAM5G,cACV,eAAC,GAAD,UAAe8G,KAAKF,MAAM5G,oBAI/B8G,KAAKqH,oBACN,wBACA,eAAC3C,GAAD,UAAe1E,KAAKmI,8B,GAlFEzH,IAAMC,WAwFrB7C,gBACb,YAAsD,IAAnD7F,EAAkD,EAAlDA,YAAagB,EAAqC,EAArCA,iBAAkBC,EAAmB,EAAnBA,aAChC,MAAO,CACLjB,YAAaE,IAAE6L,OAAO/L,GACtBO,MAAOS,EAAiBT,MACxBU,aAAcA,EAAaR,QAG/B,CAAE2P,ehBG0B,WAC5B,OAAO,SAACxO,GACN,sBAAC,8BAAAG,EAAA,sEACsBT,EAASa,IAAI,gBADnC,gBACO1B,EADP,EACOA,KACNmB,EAAS,CAAE/B,KAAM,kBAAmBC,QAASW,IAF9C,0CAAD,KgBLgB4B,qBAAmBgO,mBhB4NL,WAChC,OAAO,SAACzO,GACN,sBAAC,8BAAAG,EAAA,sEACsBT,EAASa,IAAI,sBADnC,gBACO1B,EADP,EACOA,KAENmB,EAAS,CAAE/B,KAAM,uBAAwBC,QAASW,EAAKF,QAHxD,0CAAD,MgBtOWsF,CASbqJ,I,kBCtHIoB,GAAS,kBACb,+BACE,sBAAK3J,MAAO,CAAC4J,UAAW,sBAAuBb,IAAI,SAASF,IAAI,cAAcgB,OAAO,OAAOC,MAAM,YAyBvFC,G,4JArBb,WACE,OAAK3I,KAAKF,MAAM8I,QAGd,sBAAKhK,MAAO,CAAE6J,OAAQ,QAASC,MAAO,SAAtC,SACE,eAAC,KAAD,CACEG,iBAAkB,CAAEC,IAAK7N,2CACzB8N,cAAe/I,KAAKF,MAAM8I,QAC1BI,YAAa,GAHf,SAKE,eAAC,GAAD,CACEC,IAAKjJ,KAAKF,MAAM8I,QAAQK,IACxBC,IAAKlJ,KAAKF,MAAM8I,QAAQM,UAXA,O,GAFlBvI,a,oBCRLvD,GAAQT,KAAOU,GAAV,6OCIH8L,GAJAzN,KAAIC,OAAO,CACxByN,QAAS1N,KAAIG,SAASM,aC4DxBkN,KAAMC,cAAc,S,+BAEdC,G,kDACJ,WAAYzJ,GAAQ,IAAD,8BACjB,cAAMA,IAqBR0J,oBAAsB,WACpB,IAAIC,EAAY,EAAKC,cAAcC,QACnC,GAAI,EAAK7J,MAAM8J,YAAcH,EAAW,CAMtC,IAJA,IAAII,EAAe,EAAK/J,MAAM8J,WAAW5G,OAAOJ,OAE5CI,EAAM,aAAOyG,EAAUK,iBAAiB,QACxCC,EAAS,GACJrG,EAAI,EAAGA,EAAIV,EAAOJ,OAAQc,IACjCqG,EAAOvO,KAAKwH,EAAOU,GAAGsG,aAKxB,GACE,EAAKpS,MAAMqS,eAAiBJ,GAC5BJ,EAAUS,YAAcT,EAAUO,YAElC,OAAO,EAGX,OAAO,GA3CU,EA8CnBG,cAAgB,WACd,OAAI,EAAKrK,MAAM8J,WAAWrC,QAAQ3E,OAAS,EAAU,GAGnD,gBAAC8D,GAAD,WACE,eAAC,GAAD,UACE,qBAAIhF,UAAU,QAAd,uBAEF,8BACG,EAAK5B,MAAM8J,WAAWrC,QAAQ9D,KAC7B,YAAsC,IAAnC2F,EAAkC,EAAlCA,QAASlR,EAAyB,EAAzBA,IAAKkS,EAAoB,EAApBA,MAAOC,EAAa,EAAbA,OACtB,OACE,gBAAC1D,GAAD,WACE,gBAACH,GAAD,WACE,eAACF,GAAD,IACA,oBAAG5E,UAAU,OAAb,SAAqB2I,EAAOzO,WAC3B,EAAKkE,MAAMjH,KAAKhB,UACf,EAAKiI,MAAMjH,KAAKsB,KAAOkQ,EAAOnS,KAC5B,eAACuO,GAAD,CACEvI,QAAS,WACP,EAAK4B,MAAMwK,sBAAsB,CAC/BC,aAAc,EAAKzK,MAAM8J,WAAW1R,IACpCsS,SAAUtS,KAJhB,uBAaN,eAAC+O,GAAD,UACE,eAAC,KAAD,CACEW,OAAQwC,EACRvC,cAAc,OACdC,YAAY,MACZC,eAAe,cAGnB,oBAAGrG,UAAU,UAAb,SAAwB0H,MA3BblR,YA1DR,EA+FnBuS,aAAe,SAACL,GACd,EAAK/K,SAAS,CAAE+K,WAhGC,EAmGnBM,gBAAkB,WAChB,IAAK,EAAK5K,MAAMjH,KAAKhB,SACnB,OACE,gBAACsO,GAAD,WACE,eAAC,GAAD,iDAEA,eAACY,GAAD,UACE,eAAC,KAAD,CAAMrF,UAAU,OAAOC,GAAG,SAA1B,qBAIF,eAACqF,GAAD,UACE,eAAC,KAAD,CAAMtF,UAAU,OAAOC,GAAG,YAA1B,0BA6BR,OACE,eAACwE,GAAD,UACE,wBAAMlG,SAvBe,SAACb,GACxBA,EAAEO,iBACF,IAAI4K,EAAe,EAAKzK,MAAM8J,WAAW1R,IAErCyS,EAAcC,GAAehL,SAAS,CACxCwJ,QAAS,EAAKxR,MAAMiT,SACnB7S,MAEE2S,EASH,EAAKtL,SAAS,CAAEsL,YAAaA,EAAY9K,QAAQ,GAAG7D,WARpD,EAAK8D,MAAMgL,oBAAoB,CAC7BP,eACAnB,QAAS,EAAKxR,MAAMiT,OACpBT,MAAO,EAAKxS,MAAMwS,QAEpB,EAAK/K,SAAS,CAAEwL,OAAQ,GAAIT,MAAO,IACnC,EAAK/K,SAAS,CAAEsL,YAAa,OAQOI,OAAO,OAA3C,UACE,iCACE,eAAC,GAAD,uCAEA,eAAC1E,GAAD,UACE,eAAC,KAAD,CACEuB,OAAQ,EAAKhQ,MAAMwS,MACnBrC,eAAe,WACf0C,aAAc,EAAKA,aACnBO,cAAe,EACf5K,KAAK,SACL6K,eAAe,WACfpD,cAAc,cAIpB,eAAC,GAAD,CACEnG,UAAU,YACVnC,MAAO,EAAK3H,MAAMiT,OAClB7S,MAAO,EAAKJ,MAAM+S,YAClBxK,SAAU,SAACf,GACT,EAAKC,SAAS,CAAEwL,OAAQzL,EAAEE,OAAOC,SAEnCa,KAAK,SACLjG,GAAG,SACH+Q,KAAK,KACLC,KAAK,OAEP,eAAC5N,GAAD,UAAQ,EAAK3F,MAAM+S,cACnB,eAACvE,GAAD,CAActO,KAAK,SAAnB,8BA3KW,EAiLnBsT,mBAAqB,WACnB,OACG,EAAKtL,MAAMjH,MACZ,EAAKiH,MAAMjH,KAAKsB,KAAO,EAAK2F,MAAM8J,WAAWyB,QAI7C,eAACxE,GAAD,CACEyE,QAAQ,SACRpN,QAAS,WACP,EAAK4B,MAAMyL,iBAAiB,EAAKzL,MAAM8J,WAAW1R,MAHtD,oBAFO,IAtLQ,EAmMnBsT,iBAAmB,WACjB,OACG,EAAK1L,MAAMjH,KAAKhB,UACjB,EAAKiI,MAAMjH,KAAKsB,KAAO,EAAK2F,MAAM8J,WAAWyB,QAI7C,eAAC,GAAD,CAAMC,QAAQ,UAAd,SACE,eAAC,KAAD,CACE5J,UAAU,OACVC,GAAE,uBAAkB,EAAK7B,MAAM8J,WAAW1R,IAAxC,SAFJ,oBAHK,IAxMQ,EAqNnBuT,SAAW,WACT,SACE,EAAK3L,MAAMjH,KAAKgC,OAChB,EAAKiF,MAAMjH,KAAKgC,KAAK6Q,MACnB,SAAC9B,GAAD,OAAgBA,EAAW1R,MAAQ,EAAK4H,MAAM8J,WAAW1R,SAzN5C,EAkOnByT,sBAAwB,SAACzT,GACvB,OAAK,EAAK4H,MAAMjH,KAAKhB,UAYf,EAAK4T,WAEL,gBAAC1G,GAAD,CACE7G,QAAS,WACP,EAAK4B,MAAM8L,eAAe1T,IAF9B,UAKE,eAACkN,GAAD,IACA,oBAAG1D,UAAU,OAAb,wBAlBJ,gBAACqD,GAAD,CACE7G,QAAS,WACP,EAAK4B,MAAM+L,UAAU3T,IAFzB,UAKE,eAACkN,GAAD,IACA,oBAAG1D,UAAU,OAAb,6BA3OW,EAyQnBoK,cAAgB,SAAC5T,GACf,MAA+B,EAAK4H,MAAM8J,WAApCmC,EAAN,EAAMA,QAASnR,EAAf,EAAeA,YACf,OACE,gBAACkK,GAAD,CACE5G,QAAS,WACF,EAAK4B,MAAMjH,KAAKhB,UAAUwD,EAAQG,KAAK,WAFhD,UAKE,gBAACuJ,GAAD,CACE7G,QAAS,WACP,EAAK4B,MAAMkM,iBAAiB9T,IAFhC,UAKE,eAACgN,GAAD,IACA,oBAAGxD,UAAU,OAAb,0BACA,oBAAGA,UAAU,SAAb,SAAuB9G,OAEzB,gBAACmK,GAAD,CACE7G,QAAS,WACP,EAAK4B,MAAMmM,eAAe/T,IAF9B,UAKE,eAAC8M,GAAD,IACA,oBAAGtD,UAAU,OAAb,wBACA,oBAAGA,UAAU,SAAb,SAAuBqK,OAGxB,EAAKJ,sBAAsBzT,OApSf,EAySnBgU,UAAY,WACV,EAAK7M,SAAS,CAAE8M,aAAa,IAC7BC,SAASC,KAAKzN,MAAM0N,SAAW,UA3Sd,EA8SnBC,WAAa,WACX,EAAKlN,SAAS,CAAE8M,aAAa,IAC7BC,SAASC,KAAKzN,MAAM0N,SAAW,SAhTd,EAmTnBE,iBAAmB,WAejB,OACE,+BACE,gBAAC,KAAD,CAAO5N,MAhBU,CACnBwK,QAAS,CACPqD,IAAK,MACLC,KAAM,MACNC,MAAO,OACPC,OAAQ,OACRC,YAAa,OACbrE,UAAW,wBACXsE,QAAS,EACTR,SAAU,WAEZS,QAAS,CAAEC,OAAQ,MAKWC,OAAQ,EAAKrV,MAAMuU,YAA/C,UACE,eAACzG,GAAD,CAAgBxH,QAAS,EAAKqO,aAC9B,eAAC9G,GAAD,CAAUgC,IAAK,EAAK7P,MAAMsV,qBAtUf,EA4UnBC,aAAe,SAACnK,GACd,OAAIA,EAAOJ,OAAS,EACXI,EAAOS,KAAI,YAAyB,IAAtBiE,EAAqB,EAArBA,IAAK0F,EAAgB,EAAhBA,UACxB,OACE,eAAC5H,GAAD,CACEtH,QAAS,WACP,EAAKmB,SAAS,CAAE6N,aAAcxF,IAC9B,EAAKwE,aAGPzE,IAAKC,EACLC,IAAKyF,EACLC,OAAQ,WACN,IAAIpD,EAAe,EAAKrS,MAAMqS,aAC9B,EAAK5K,SAAS,CAAE4K,aAAcA,EAAe,MAL1CmD,MAYN,IAjWU,EA8WnBE,iBAAmB,WACjB,GAAI,EAAKxN,MAAM8J,WAAY,CACzB,MASI,EAAK9J,MAAM8J,WARbxJ,EADF,EACEA,KACA4B,EAFF,EAEEA,YACAgB,EAHF,EAGEA,OACAzB,EAJF,EAIEA,SACArJ,EALF,EAKEA,IACA0Q,EANF,EAMEA,QACAtB,EAPF,EAOEA,cACAC,EARF,EAQEA,QAEF,OACE,iCACE,gBAAC7J,GAAD,WACG,EAAK8O,mBACN,gBAAC,GAAD,WACE,gBAAC3H,GAAD,WACE,gBAAC,GAAD,WACGzE,EADH,IACS,oBAAGsB,UAAU,WAAb,SAAyBH,IAC/B,EAAKzB,MAAM5G,cACV,eAAC,GAAD,UAAe,EAAK4G,MAAM5G,kBAG9B,gBAAC+N,GAAD,WACE,eAAC,KAAD,CACEW,OAAQN,EACRO,cAAc,SACdC,YAAY,MACZC,eAAe,YAEjB,eAACb,GAAD,UACE,wBAAMxF,UAAU,OAAhB,UACG6F,EAAQ3E,OAAQ,IADnB,UAGI2E,EAAQ3E,OAAS,GAAwB,IAAnB2E,EAAQ3E,OAC1B,UACA,kBAKX,EAAK4I,iBAAiBtT,GACtB,EAAKkT,wBAGP,EAAKU,cAAc5T,MAGtB,gBAACoN,GAAD,WACG,EAAKkE,uBACJ,eAAC5D,GAAD,CACE1H,QAAS,WACP,EAAKqP,WAAW,EAAK7D,cAAcC,QAAS,EAAG,KAAM,OAK1D,EAAKH,uBACJ,eAAC1D,GAAD,CACE5H,QAAS,WACP,EAAKqP,WAAW,EAAK7D,cAAcC,QAAS,EAAG,IAAK,OAI1D,sBAAK/K,MAAO,CAAE4J,UAAW,oBAAzB,SACE,eAACjD,GAAD,CAAeiI,IAAK,EAAK9D,cAAzB,SACG,EAAKyD,aAAanK,aAK3B,eAACgD,GAAD,UACE,gBAACC,GAAD,WACE,eAACC,GAAD,UAAclE,IACd,eAAC4E,GAAD,UACE,eAAC,GAAD,CAAKgC,QAASA,MAGf,EAAK8B,kBACL,EAAKP,wBAMd,OAAO,eAAC,GAAD,oCAlcT,EAAKvS,MAAQ,CACXiT,OAAQ,GACRT,MAAO,EACPO,YAAa,GACb8C,QAAQ,EACRtB,aAAa,EACbe,aAAc,EACdjD,aAAc,EACdF,OAAQ,IAGV,EAAKL,cAAgBhJ,IAAMgN,YAbV,E,qDAgBnB,WACE1N,KAAKF,MAAM5F,cAAc8F,KAAKF,MAAM6N,MAAMC,OAAOzT,IAC7C6F,KAAKF,MAAMjH,KAAKhB,UAAUmI,KAAKF,MAAMvF,qBACzCsT,OAAOC,SAAS,EAAG,K,wBAgVrB,SAAWC,EAASC,EAAOC,EAAUC,GACnC,IAAIC,EAAe,EACbC,EAAaC,aAAY,WAC7BN,EAAQO,YAAcJ,GACtBC,GAAgBI,KAAKC,IAAIN,KACLD,GAClBQ,cAAcL,KAEfJ,K,oBA6FL,WACE,OAAO,+BAAMhO,KAAKsN,yB,GA1cU5M,IAAMC,WA8cvB7C,gBACb,WAAsC4Q,GAAc,IAAjDzW,EAAgD,EAAhDA,YAAaY,EAAmC,EAAnCA,KAAMK,EAA6B,EAA7BA,aACpB,MAAO,CACL0Q,WAAY3R,EAAYyW,EAASf,MAAMC,OAAOzT,IAC9CtB,OACAK,aAAcA,EAAaR,QAG/B,CACEwB,gBACA4Q,oBpB5W+B,SAAC,GAAsC,IAApCP,EAAmC,EAAnCA,aAAcnB,EAAqB,EAArBA,QAASgB,EAAY,EAAZA,MAC3D,OAAO,SAACvQ,GACN,sBAAC,8BAAAG,EAAA,sEACsBT,EAASU,KAAT,uBACHsQ,EADG,YAEnB,CAAEnB,UAASgB,UAHd,gBACO1R,EADP,EACOA,KAINmB,EAAS,CAAE/B,KAAM,iBAAkBC,QAASW,IAL7C,0CAAD,KoB2WA4R,sBpBjWiC,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,aAAcC,EAAe,EAAfA,SACpD,OAAO,SAAC3Q,GACN,sBAAC,8BAAAG,EAAA,sEACsBT,EAASoV,OAAT,uBACHpE,EADG,oBACqBC,IAF3C,gBACO9R,EADP,EACOA,KAINmB,EAAS,CAAE/B,KAAM,iBAAkBC,QAASW,IAL7C,0CAAD,KoBgWAsT,iBpB7T4B,SAACzB,GAC/B,OAAO,SAAC1Q,GACN,sBAAC,8BAAAG,EAAA,sEACsBT,EAASU,KAAT,uBACHsQ,EADG,gBADtB,gBAIc,mBAHP7R,EADP,EACOA,QAIJmB,EAASK,EAAcqQ,IACvB1Q,EAAS,CAAE/B,KAAM,mBAAoBC,QAASW,IAE9CmB,EAAS,CACP/B,KAAM,gBACNC,QAAS,2CAEX+B,YAAW,WACTD,EAAS,CACP/B,KAAM,gBACNC,QAAS,OAEV,MAjBN,0CAAD,KoB4TAkU,epBvV0B,SAAC1B,GAC7B,OAAO,SAAC1Q,GACN,sBAAC,8BAAAG,EAAA,sEACsBT,EAASU,KAAT,uBACHsQ,EADG,eADtB,gBAIc,mBAHP7R,EADP,EACOA,QAIJmB,EAASK,EAAcqQ,IACvB1Q,EAAS,CAAE/B,KAAM,mBAAoBC,QAASW,IAE9CmB,EAAS,CACP/B,KAAM,gBACNC,QAAS,qCAEX+B,YAAW,WACTD,EAAS,CACP/B,KAAM,gBACNC,QAAS,OAEV,MAjBN,0CAAD,KoBsVA8T,UpBtSqB,SAACtB,GACxB,OAAO,SAAC1Q,GACN,sBAAC,8BAAAG,EAAA,sEACsBT,EAASU,KAAT,uBAA8BsQ,EAA9B,UADtB,gBAEc,mBADP7R,EADP,EACOA,QAEJmB,EAAS,CAAE/B,KAAM,mBAAoBC,QAASW,IAE9CmB,EAAS,CACP/B,KAAM,gBACNC,QAAS,2CAEX+B,YAAW,WACTD,EAAS,CACP/B,KAAM,gBACNC,QAAS,OAEV,MAdN,0CAAD,KoBqSAwT,iBpBrY4B,SAACpR,GAC/B,OAAO,SAACN,GACN,sBAAC,8BAAAG,EAAA,sEACsBT,EAASoV,OAAT,uBAAgCxU,IADtD,gBACOzB,EADP,EACOA,KACNmB,EAAS,CAAE/B,KAAM,oBAAqBC,QAASW,IAC/CmB,EAAS,CACP/B,KAAM,gBACNC,QAAS,gCAEX+B,YAAW,WACTD,EAAS,CACP/B,KAAM,gBACNC,QAAS,OAEV,KACHsD,EAAQG,KAAK,KAbd,0CAAD,KoBoYAjB,sBACAqR,epBnR0B,SAACrB,GAC7B,OAAO,SAAC1Q,GACN,sBAAC,8BAAAG,EAAA,sEACsBT,EAASoV,OAAT,uBAAgCpE,EAAhC,UADtB,gBAEc,mBADP7R,EADP,EACOA,QAEJmB,EAAS,CAAE/B,KAAM,mBAAoBC,QAASW,IAE9CmB,EAAS,CACP/B,KAAM,gBACNC,QAAS,6CAEX+B,YAAW,WACTD,EAAS,CACP/B,KAAM,gBACNC,QAAS,OAEV,MAdN,0CAAD,MoBgQW+F,CAmBbyL,IChhBIqF,G,4MAMJvH,kBAAoB,SAACpP,GACnB,OAAKA,GAAsC,IAAvBA,EAAY2K,OAI9B,eAAC,GAAD,UACG3K,EAAYwL,KACX,YAAwD,IAArDrD,EAAoD,EAApDA,KAAM4B,EAA8C,EAA9CA,YAAa9J,EAAiC,EAAjCA,IAAK8K,EAA4B,EAA5BA,OAAQsE,EAAoB,EAApBA,cACjC,OACE,eAAC/C,GAAD,UACE,gBAAC,KAAD,CACE3F,MAAO,CAAE4I,eAAgB,QACzB7F,GAAE,uBAAkBzJ,GAFtB,UAIE,eAACmM,GAAD,CAAeoD,IAAKzE,EAAO,GAAG0E,IAAKC,IAAI,QACvC,gBAAClD,GAAD,WACG,oBAAG/C,UAAU,OAAb,SAAqBtB,IACtB,eAAC6G,GAAD,UACE,eAAC,KAAD,CACEW,OAAQN,EACRO,cAAc,SACdC,YAAY,MACZC,eAAe,cAGnB,qBAAGrG,UAAU,WAAb,UACGM,EAAY6M,UAAU,EAAG,KAD5B,SAGA,eAAC,GAAD,UACE,eAAClK,GAAD,wCApBazM,QAPtB,oBAAG0G,MAAO,CAAE2B,SAAU,QAAtB,0B,uDAPX,WACMP,KAAKF,MAAMjH,MAAQmH,KAAKF,MAAMjH,KAAKhB,UACrCmI,KAAKF,MAAMvF,uB,oBA4Cf,WAKE,OAJKyF,KAAKF,MAAMjH,KAAKhB,UACnBwD,EAAQG,KAAK,UAIb,gBAACkC,GAAD,WACE,eAAC,GAAD,0CACCsC,KAAKqH,kBAAkBrH,KAAKF,MAAMjH,KAAK+B,aACxC,eAAC,GAAD,uCACCoF,KAAKqH,kBAAkBrH,KAAKF,MAAMjH,KAAK8B,WACxC,eAAC,GAAD,yBACCqF,KAAKqH,kBAAkBrH,KAAKF,MAAMjH,KAAKgC,a,GA3DpB6F,IAAMC,WAiEnB7C,gBACb,YACE,MAAO,CAAEjF,KADG,EAAXA,QAGH,CAAE0B,uBAJWuD,CAKb8Q,ICtFW/R,GAAQF,KAAOG,MAAV,mcAwBLgS,GAAenS,KAAOC,IAAV,+ICpBnBmS,ID6BepS,KAAOU,GAAV,wD,4MC5BhBzF,MAAQ,CACNuB,MAAO,I,EAGT6V,cAAgB,SAAC5P,GACf,EAAKC,SAAS,CAAElG,MAAOiG,EAAEE,OAAOC,QAChCpH,IAAEwK,UAAS,WACT,EAAK7C,MAAMzF,kBAAkB,EAAKzC,MAAMuB,SACvC,IAFHhB,I,4CAKF,WAAU,IAAD,OACP,OACE,eAAC,GAAD,CACE8W,YAAY,mCACZ9O,SAAUH,KAAKgP,cACfzP,MAAOS,KAAKpI,MAAMuB,MAClBrB,KAAK,OACLuI,OAAQ,WACN,EAAKhB,SAAS,CAAElG,MAAO,KACvB,EAAK2G,MAAMoP,oB,GArBGxO,IAAMC,YA4Bf7C,eAAQ,KAAM,CAAEzD,oBAAmB6U,WvBuFxB,WACxB,MAAO,CAAEpX,KAAM,QAASC,QAAS,MuBxFpB+F,CAAiDiR,ICd1DI,G,4MACJH,cAAgB,SAAC5P,GACf,EAAKC,SAAS,CAAElG,MAAOiG,EAAEE,OAAOC,QAChCpH,IAAEwK,UAAS,WACT,EAAK7C,MAAMzF,kBAAkB,EAAKzC,MAAMuB,SACvC,IAFHhB,I,EAKFkP,kBAAoB,WAClB,IAAK,EAAKvH,MAAM7H,YAAa,MAAO,GAEpC,GAAsC,IAAlC,EAAK6H,MAAM7H,YAAY2K,OAAc,CACvC,IAAI7E,EACF,EAAK+B,MAAM3G,MAAMyJ,OAAS,EAA1B,qCACkC,EAAK9C,MAAM3G,MAD7C,KAEI,GACN,OACE,eAAC,GAAD,UACE,sBAAKyF,MAAO,CAAEwQ,WAAY,UAA1B,SAAuCrR,MAK7C,OACE,eAAC,GAAD,UACG,EAAK+B,MAAM7H,YAAYwL,KAAI,YAAuD,IAApDrD,EAAmD,EAAnDA,KAAM4B,EAA6C,EAA7CA,YAAa9J,EAAgC,EAAhCA,IAAK8K,EAA2B,EAA3BA,OAAOsE,EAAoB,EAApBA,cAC5D,OACE,eAAC/C,GAAD,UACE,gBAAC,KAAD,CACE3F,MAAO,CAAE4I,eAAgB,QACzB7F,GAAE,uBAAkBzJ,GAFtB,UAIE,eAACmM,GAAD,CAAeoD,IAAKzE,EAAO,GAAG0E,IAAKC,IAAI,QACvC,gBAAClD,GAAD,WACG,oBAAG/C,UAAU,OAAb,SAAqBtB,IACtB,eAAC6G,GAAD,UACE,eAAC,KAAD,CACEW,OAAQN,EACRO,cAAc,SACdC,YAAY,MACZC,eAAe,cAGnB,qBAAGrG,UAAU,WAAb,UAAyBM,EAAY6M,UAAU,EAAG,KAAlD,SAEA,eAACvR,GAAD,UACE,eAACqH,GAAD,wCAnBazM,S,4CAgC/B,WACE,OACE,gBAACwF,GAAD,WACE,eAACJ,GAAD,UACE,eAACF,GAAD,uBAEF,eAAC0R,GAAD,UACE,eAAC,GAAD,MAEF,+BAAM9O,KAAKqH,6B,GApEE3G,IAAMC,WA0EZ7C,gBACb,YAA0C,IAAvChF,EAAsC,EAAtCA,yBAA0BK,EAAY,EAAZA,MAC3B,MAAO,CAAElB,YAAaE,IAAE6L,OAAOlL,GAA2BK,WAE5D,CAAEkB,qBAJWyD,CAKbqR,IC3EIrI,G,kDACJ,WAAYhH,GAAQ,IAAD,8BACjB,cAAMA,IAwBRuP,kBAAoB,WAClB,EAAKvP,MAAM5F,cAAc,EAAK4F,MAAM6N,MAAMC,OAAOzT,KA1BhC,EA4BnBuI,aAAe,SAACtD,GACd,EAAKC,SAAS,CAAErE,KAAMoE,EAAEE,OAAOC,QAE/BpH,IAAEwK,UAAS,WACT,EAAK7C,MAAM/E,YAAY,EAAKnD,MAAMoD,MAClCyD,QAAQC,IAAI,EAAKoB,MAAM9G,WACa,IAAhC,EAAK8G,MAAM9G,UAAU4J,OACvB,EAAKvD,SAAS,CAAEwD,cAAe,kCAE/B,EAAKxD,SAAS,CAAEwD,cAAe,OAEhC,IARH1K,IA/BiB,EA0CnBqK,aAAe,SAACpD,GACd,EAAKC,SAAS,CAAEe,KAAMhB,EAAEE,OAAOC,SA3Cd,EA8CnBkD,oBAAsB,SAACrD,GACrB,EAAKC,SAAS,CAAE2C,YAAa5C,EAAEE,OAAOC,SA/CrB,EAkDnBuD,iBAAmB,SAAC1D,GAClB,EAAKC,SAAS,CAAEkC,SAAUnC,EAAEE,OAAOC,SAnDlB,EAsDnBwD,cAAgB,SAAC3D,GACf,EAAKC,SAAS,CAAE2D,OAAQ5D,EAAEE,OAAO2D,SAvDhB,EA0DnBvD,aAAe,SAACN,GACdA,EAAEO,iBACF,IAAMzH,EAAQ,EAAK4H,MAAM8J,WAAnB1R,IAEFiL,EAAY,EAAKvL,MAAMuL,UACvBN,EAAgB,EAAKjL,MAAMiL,cAC3BO,EAAmB,EAAKxL,MAAMwL,iBAE7BD,GAAcC,GAAqBP,IAEpC,EAAKjL,MAAM0X,aAAa1M,SACtB,EAAK9C,MAAM8J,WAAW5G,OAAOJ,QAC9B,EAAKhL,MAAMoL,QAIZ,EAAKlD,MAAMyP,eAAX,2BAA+B,EAAK3X,OAApC,IAA2CM,SAC3C,EAAKmH,SAAS,CAAEH,SAAS,KAHzB,EAAKG,SAAS,CAAE6D,YAAa,yCAxEhB,EAgFnBiK,aAAe,SAACnK,GACd,OAAIA,EACKA,EAAOS,KAAI,SAACW,GACjB,OACE,sBACElG,QAAS,WACP,IAAIoR,EAAY,aAAO,EAAK1X,MAAM0X,cAC9BE,EAAQF,EAAaG,QAAQrL,EAAMgJ,WACnCoC,EAAQ,GACVF,EAAa9T,KAAK4I,EAAMgJ,WACxB,EAAK/N,SAAS,CAAEiQ,mBAEhBA,EAAaI,OAAOF,EAAO,GAC3B,EAAKnQ,SAAS,CAAEiQ,mBAIpB7H,IAAKrD,EAAMsD,IACXC,IAAKvD,EAAMgJ,UACXxO,MAAO,CACL8J,MAAO,QACPD,OAAQ,OACRoE,YAAa,OACb8C,aAAc,OACdC,QAAQ,GAAD,OACL,EAAKhY,MAAM0X,aAAaG,QAAQrL,EAAMgJ,WAAa,EAC/C,GACA,SAXHhJ,EAAMgJ,cAmBZ,IAnHU,EAsHnB5J,qBAAuB,WACrB,OACE,eAACpB,GAAD,CAAQlE,QAAS,EAAK4E,iBAAtB,SACG,EAAKhD,MAAM9G,UAAUyK,KAAI,WAAcC,GAAO,IAAlBJ,EAAiB,EAAjBA,QAC3B,OACE,yBAAgB/D,MAAO+D,EAAvB,SACGA,GADUI,SAzHrB,EAAK9L,MAAQ,CACXwI,KAAM,KACN4B,YAAa,KACbT,SAAU,KACVyB,OAAQ,KACRsM,aAAc,GACdtU,KAAM,GACNmI,UAAW,GACXC,iBAAkB,GAClBP,cAAe,GACfK,YAAa,GACbhE,SAAS,GAbM,E,0CAoInB,WAAU,IAAD,OAKP,OAJKc,KAAKF,MAAMjH,KAAKhB,UACnBwD,EAAQG,KAAK,KAGVwE,KAAKF,MAAM8J,WAGd,iCACE,eAAC,GAAD,UACE,gBAAC,GAAD,6BAEG5J,KAAKF,MAAM9D,SACV,eAACsG,GAAD,UAAetC,KAAKF,MAAM9D,eAIhC,eAAC,GAAD,CAAW4C,MAAO,CAAE8J,MAAO,MAAOiH,aAAc,QAAhD,SACE,wBAAM1P,SAAUD,KAAKN,aAAckE,QAAQ,sBAA3C,UACE,iCACE,eAAC,GAAD,CAAOhF,MAAO,CAAE+Q,aAAc,QAA9B,sCAGA,+BACG3P,KAAKF,MAAM8J,YACV5J,KAAKmN,aAAanN,KAAKF,MAAM8J,WAAW5G,aAG9C,iCACE,eAAC,GAAD,CAAO9C,QAAQ,OAAf,kBACA,eAAC,GAAD,CACEpI,KAAK,OACLsI,KAAK,OACLD,SAAUH,KAAKwC,aACfjD,MAAOS,KAAKpI,MAAMwI,KAClBpI,MAAOgI,KAAKpI,MAAMuL,UAClB9C,OAAQ,SAACjB,GACP,IAAI+D,EAAYrB,GAAalC,SAAS,CACpCQ,KAAMhB,EAAEE,OAAOC,QACdvH,MACCmL,EACF,EAAK9D,SAAS,CACZ8D,UAAWA,EAAUtD,QAAQ,GAAG7D,UAGlC,EAAKqD,SAAS,CAAE8D,UAAW,QAIjC,eAAC5F,GAAD,UAAQyC,KAAKpI,MAAMuL,eAGrB,iCACE,eAAC,GAAD,CAAOjD,QAAQ,cAAf,yBACA,eAACgC,GAAD,CACE9B,KAAK,cACLD,SAAUH,KAAKyC,oBACflD,MAAOS,KAAKpI,MAAMoK,YAClBhK,MAAOgI,KAAKpI,MAAMwL,iBAClB/C,OAAQ,SAACjB,GACP,IAAIgE,EAAmBrB,GAAoBnC,SAAS,CAClDoC,YAAa5C,EAAEE,OAAOC,QACrBvH,MACCoL,EACF,EAAK/D,SAAS,CACZ+D,iBAAkBA,EAAiBvD,QAAQ,GAAG7D,UAGhD,EAAKqD,SAAS,CAAE+D,iBAAkB,QAIxC,eAAC7F,GAAD,UAAQyC,KAAKpI,MAAMwL,sBAErB,iCACE,eAAC,GAAD,CAAOlD,QAAQ,WAAf,qBACA,eAAC,GAAD,CACEpI,KAAK,OACLsI,KAAK,WACLD,SAAUH,KAAK0C,aACfnD,MAAOS,KAAKpI,MAAMoD,KAClBhD,MAAOgI,KAAKpI,MAAMiL,cAClBxC,OAAQ,SAACjB,GACP,IAAIyD,EAAgBZ,GAAiBrC,SAAS,CAC5C2B,SAAUnC,EAAEE,OAAOC,QAClBvH,MACC6K,EACF,EAAKxD,SAAS,CACZwD,cAAeA,EAAchD,QAAQ,GAAG7D,UAED,IAAhC,EAAK8D,MAAM9G,UAAU4J,QAC9B,EAAKvD,SAAS,CAAEwD,cAAe,QAIrC,eAACtF,GAAD,UAAQyC,KAAKpI,MAAMiL,mBAEpB7C,KAAKF,MAAM9G,UAAU4J,OAAS,GAAK5C,KAAKwD,uBAEzC,iCACE,eAAC,GAAD,CAAOtD,QAAQ,QAAf,2BACA,eAAC,GAAD,CACEtB,MAAO,CAAEiF,gBAAiB,WAC1B1D,SAAUH,KAAK+C,cACfjL,KAAK,OACLsI,KAAK,SACL0D,UAAQ,IAEV,eAACvG,GAAD,UAAQyC,KAAKpI,MAAMsL,iBAErB,gBAAC,GAAD,CAAQpL,KAAK,SAAb,UACGkI,KAAKpI,MAAMsH,SAAW,eAACrB,GAAD,IADzB,6BAzG2B,gB,uCAxHrC,SAAgC2C,EAAWC,GACzC,GAAsB,MAAlBA,EAAUL,MAAgBI,EAAUoJ,WAAY,CAClD,MAAsCpJ,EAAUoJ,WAA1CxJ,EAAN,EAAMA,KAAM4B,EAAZ,EAAYA,YAAaT,EAAzB,EAAyBA,SACzB,MAAO,CAAEnB,OAAM4B,cAAaT,WAAUvG,KAAMuG,GAE9C,OAAO,S,GAvBQb,IAAMC,WA6PV7C,gBACb,WAAiD4Q,GAAc,IAA5DzW,EAA2D,EAA3DA,YAAaY,EAA8C,EAA9CA,KAAMG,EAAwC,EAAxCA,UAAWE,EAA6B,EAA7BA,aAC/B,MAAO,CACL0Q,WAAY3R,EAAYyW,EAASf,MAAMC,OAAOzT,IAC9CtB,OACAG,YACAgD,QAAS9C,EAAaR,QAG1B,CAAEwB,gBAAeqV,ezB1MW,SAACvL,GAC7B,IAAM5D,EAA2D4D,EAA3D5D,KAAMmB,EAAqDyC,EAArDzC,SAAUS,EAA2CgC,EAA3ChC,YAAagB,EAA8BgB,EAA9BhB,OAAQ9K,EAAsB8L,EAAtB9L,IAAKoX,EAAiBtL,EAAjBsL,aAC5CrL,EAAK,IAAIC,SAKb,GAJAD,EAAGE,OAAO,OAAQ/D,GAClB6D,EAAGE,OAAO,cAAenC,GACzBiC,EAAGE,OAAO,WAAY5C,GACtB0C,EAAGE,OAAO,eAAgB0L,KAAKC,UAAUR,IACrCtM,EAAQ,CAAC,IAAD,gBACQA,GADR,IACV,2BAA0B,CAAC,IAAlBoB,EAAiB,QACxBH,EAAGE,OAAO,SAAUC,IAFZ,+BAKZ,OAAO,SAACvK,GACN,sBAAC,8BAAAG,EAAA,sEACsBT,EAASwW,IAAT,uBAA6B7X,GAAO+L,GAD1D,gBACOvL,EADP,EACOA,KAENmB,EAAS,CAAE/B,KAAM,mBAAoBC,QAASW,IAE9CkB,EAAgBC,EAAU,CACxB/B,KAAM,gBACNC,QAAS,+BAGXsD,EAAQG,KAAR,uBAA6B9C,EAAKR,MAVnC,0CAAD,KyB6L+B6C,gBATpB+C,CAUbgJ,IC9QIyB,GAAS,SAAC,GAAoB,IAAlBqB,EAAiB,EAAjBA,WAChB,EAA8BxI,oBAAS,GAAvC,oBAAO4O,EAAP,KAAgBC,EAAhB,KACA,EAA4B7O,mBAAS,GAArC,oBAAO4L,EAAP,KAAekD,EAAf,KACA,OACE,uBACEtR,MAAO,CACLuR,SAAU,WACV3H,UAAW,mCACXwE,UAEFoD,YAAa,WACXH,GAAW,GACXC,EAAU,KAEZG,aAAc,WACZJ,GAAW,GACXC,EAAU,IAZd,UAeGF,GACC,eAACzL,GAAD,CACE3F,MAAO,CAAE0R,UAAW,OAAQzM,gBAAiB,SAD/C,SAIE,gBAAC,KAAD,CACEjF,MAAO,CAAE4I,eAAgB,QACzB7F,GAAE,uBAAkBiI,EAAW1R,KAFjC,UAIE,eAACmM,GAAD,CAAeoD,IAAKmC,EAAW5G,OAAO,GAAG0E,IAAKC,IAAI,QAClD,gBAAClD,GAAD,WACG,oBAAG/C,UAAU,OAAb,SAAqBkI,EAAWxJ,OACjC,eAAC6G,GAAD,UACE,eAAC,KAAD,CACEW,OAAQgC,EAAWtC,cACnBO,cAAc,SACdC,YAAY,MACZC,eAAe,cAGnB,qBAAGrG,UAAU,WAAb,UACGkI,EAAW5H,YAAY6M,UAAU,EAAG,KADvC,SAIA,eAAC,GAAD,UACE,eAAClK,GAAD,wCAtBDiF,EAAW1R,MA4BlB8X,GACA,sBACEpR,MAAO,CAAE4J,UAAW,sBACpBb,IAAI,SACJF,IAAI,cACJgB,OAAO,OACPC,MAAM,aAMV6H,G,4MAKJC,cAAgB,WACd,OAAO,EAAK1Q,MAAM7H,YAAYwL,KAAI,SAACmG,GACjC,IAAMhB,EAAiBgB,EAAjBhB,QAAS1Q,EAAQ0R,EAAR1R,IACf,OACE,eAAC,GAAD,CAEE+Q,IAAKL,EAAQK,IACbC,IAAKN,EAAQM,IACbU,WAAYA,GAHP1R,O,uDATb,WACE8H,KAAKF,MAAMxF,sB,oBAiBb,WACE,OACE,eAACoD,GAAD,UACE,sBACEkB,MAAO,CACL6J,OAAQ,OACRC,MAAO,OACP7J,UAAW,OACXsR,SAAU,YALd,SAQE,eAAC,KAAD,CACEtH,iBAAkB,CAChBC,IAAK7N,2CAEP8N,cAAe,CAAEE,IAAK,SAAUC,KAAM,SACtCF,YAAa,GALf,SAOGhJ,KAAKwQ,0B,GArCW7P,aA6Cd7C,gBACb,YAAsB,IAAnB7F,EAAkB,EAAlBA,YACD,MAAO,CAAEA,YAAaE,IAAE6L,OAAO/L,MAEjC,CAAEqC,sBAJWwD,CAKbyS,ICxEaE,GAvDMC,aAAH,k4BCSHC,GARM,WACnB,OACE,+BACE,eAAC,GAAD,gCCJOjU,GAAYC,KAAOC,IAAV,iFAMTgU,GAAOjU,KAAOC,IAAV,wUAaJK,GAASN,KAAO3C,EAAV,q/CA0EN6W,GAAiBlU,KAAOU,GAAV,6xBAuCdyT,GAAmBnU,KAAOoU,GAAV,u0BC1GdC,GAjBF,WACX,OACE,eAAC,GAAD,UACE,gBAACJ,GAAD,WACE,eAACC,GAAD,gCACA,gBAACC,GAAD,uDAEE,sBAAKlS,MAAO,CAACqS,UAAU,SAASpS,UAAU,QAA1C,0BAEF,eAAC,GAAD,CAAQqS,GAAIC,KAAMxP,GAAG,eAArB,gCCAFyP,G,uKACJ,WACEpR,KAAKF,MAAMhF,e,oBAGb,WACE,OACE,gBAAC,IAAD,CAAQO,QAASA,EAAjB,UACE,eAAC,GAAD,IACA,eAAC,GAAD,IACA,gBAAC,IAAD,WACE,eAAC,IAAD,CAAOgW,OAAK,EAACC,KAAK,IAAIC,UAAWP,KACjC,eAAC,IAAD,CAAOK,OAAK,EAACC,KAAK,eAAeC,UAAWpK,KAC5C,eAAC,IAAD,CAAOkK,OAAK,EAACC,KAAK,YAAYC,UAAWzS,KACzC,eAAC,IAAD,CAAOuS,OAAK,EAACC,KAAK,SAASC,UAAW1Q,KACtC,eAAC,IAAD,CAAOwQ,OAAK,EAACC,KAAK,UAAUC,UAAWhP,KACvC,eAAC,IAAD,CAAO8O,OAAK,EAACC,KAAK,sBAAsBC,UAAWpC,KACnD,eAAC,IAAD,CAAOkC,OAAK,EAACC,KAAK,mBAAmBC,UAAWhB,KAChD,eAAC,IAAD,CAAOc,OAAK,EAACC,KAAK,wBAAwBC,UAAWzK,KACrD,eAAC,IAAD,CAAOuK,OAAK,EAACC,KAAK,mBAAmBC,UAAWhI,KAChD,eAAC,IAAD,CAAO8H,OAAK,EAACC,KAAK,iBAAiBC,UAAWC,KAC9C,eAAC,IAAD,CAAOF,KAAK,IAAIC,UAAWZ,e,GArBnBjQ,IAAMC,WA4BT7C,eAAQ,KAAM,CAAEhD,eAAhBgD,CAA8BsT,ICnC7C/X,EAAQ,KAAUoY,SAGlB,IAAMC,GAAgB,CACpB5I,IAAK,OACL6I,YACAC,UAAW,CAAC,SAGRC,GAAmBC,YAAeJ,GAAeK,GAEnDC,GAAQC,YAAYJ,GAAkBK,YAAgBC,MACtDC,GAAYC,YAAaL,IAE7BM,IAAStU,OACP,eAAC,IAAD,CAAUgU,MAAOA,GAAjB,SACE,eAAC,IAAD,CAAa9S,QAAS,KAAMkT,UAAWA,GAAvC,SACE,eAAC,GAAD,QAGJhG,SAASmG,eAAe,W","file":"static/js/main.17049fd6.chunk.js","sourcesContent":["function userReducer(state = { loggedIn: false }, { type, payload }) {\r\n  switch (type) {\r\n    case \"REGISTER\":\r\n      return { ...payload, loggedIn: true };\r\n    case \"LOG_IN\":\r\n      return { ...payload, loggedIn: true };\r\n    case \"LOG_OUT\":\r\n      return { loggedIn: false };\r\n    case \"UPDATE_USER_LIST\":\r\n      return { ...state, ...payload };\r\n    case \"ERROR\":\r\n      return { error: payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default userReducer;\r\n","import _ from \"lodash\";\r\n\r\nfunction attractions(state = {}, { type, payload }) {\r\n  switch (type) {\r\n    case \"CREAT_ATTRACTION\":\r\n      return { ...state, [payload._id]: payload };\r\n    case \"GET_ATTRACTIONS\":\r\n      return { ...state, ..._.mapKeys(payload, \"_id\") };\r\n    case \"GET_ATTRACTION\":\r\n      return { ...state, [payload._id]: payload };\r\n    case \"DELETE_ATTRACTION\":\r\n      return _.omit(state, payload._id);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default attractions;\r\n","import _ from \"lodash\";\r\n\r\nfunction attractionsSearchReducer(state = {}, { type, payload }) {\r\n  switch (type) {\r\n    case \"ATTRACTIONS_SEARCH_RESULTS\":\r\n      return { ..._.mapKeys(payload, \"_id\") };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default attractionsSearchReducer;\r\n","function AttractionCountReducer(state = { count: 0 }, { type, payload }) {\r\n  switch (type) {\r\n    case \"GET_ATTRACTION_COUNT\":\r\n      return { count: payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default AttractionCountReducer;\r\n","function flashMessageReducer(state = \"\", { type, payload }) {\r\n  switch (type) {\r\n    case \"FLASH_MESSAGE\":\r\n      return { data: payload };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default flashMessageReducer;\r\n","function queryReducer(state = \"\", { type, payload }) {\r\n  switch (type) {\r\n    \r\n    case \"QUERY\":\r\n      return payload;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default queryReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport user from \"./userReducer\";\r\nimport attractions from \"./attractionsReducer\";\r\nimport attractionsSearch from \"./attractionsSearchReducer\";\r\nimport addresses from \"./addressesReducer\";\r\nimport AttractionCountReducer from \"./AttractionCountReducer\";\r\nimport flashMessageReducer from \"./flashMessageReducer\";\r\nimport queryReducer from \"./queryReducer\";\r\n\r\nexport default combineReducers({\r\n  user,\r\n  attractions,\r\n  attractionsSearchResults: attractionsSearch,\r\n  addresses,\r\n  attractionsCount: AttractionCountReducer,\r\n  flashMessage: flashMessageReducer,\r\n  query: queryReducer,\r\n});\r\n","export default function addressReducer(state = [], { type, payload }) {\r\n  switch (type) {\r\n    case \"GET_ADDRESSES\":\r\n      return payload;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const createHistory = require('history').createBrowserHistory();\r\n\r\nexport default createHistory; ","import history from \"../history\";\r\nimport axios from \"axios\";\r\n\r\nlet instance = axios.create({\r\n  baseURL: \"/api\",\r\n  withCredentials: true,\r\n});\r\n\r\nfunction dispatchMessage(dispatch, { type, payload }) {\r\n  dispatch({ type, payload });\r\n\r\n  setTimeout(() => {\r\n    dispatch({ type, payload: \"\" });\r\n  }, 3000);\r\n}\r\n\r\nexport const register = (creds) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.post(\"/register\", creds);\r\n\r\n      if (data.username) {\r\n        dispatch({ type: \"REGISTER\", payload: data });\r\n        if (history.action !== \"POP\") history.goBack();\r\n        else history.push(\"/\");\r\n      } else {\r\n        dispatchMessage(dispatch, { type: \"ERROR\", payload: data });\r\n      }\r\n    })();\r\n  };\r\n};\r\n\r\nexport const login = (creds) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.post(\"/login\", creds);\r\n\r\n      if (data.username) {\r\n        dispatch({ type: \"LOG_IN\", payload: data });\r\n        if (history.action !== \"POP\") history.goBack();\r\n        else history.push(\"/\");\r\n      } else {\r\n        dispatchMessage(dispatch, { type: \"ERROR\", payload: data });\r\n      }\r\n    })();\r\n  };\r\n};\r\n\r\nexport const logout = () => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      await instance.post(\"/logout\");\r\n      dispatch({ type: \"LOG_OUT\" });\r\n      dispatchMessage(dispatch, {\r\n        type: \"FLASH_MESSAGE\",\r\n        payload: \"You are logged out\",\r\n      });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const createAttraction = (values) => {\r\n  let { name, location, description, images } = values;\r\n  let fd = new FormData();\r\n  fd.append(\"name\", name);\r\n  fd.append(\"description\", description);\r\n  fd.append(\"location\", location);\r\n  for (let image of images) {\r\n    fd.append(\"images\", image);\r\n  }\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.post(\"/attractions\", fd);\r\n      dispatch({ type: \"CREAT_ATTRACTION\", payload: data });\r\n\r\n      dispatchMessage(dispatch, {\r\n        type: \"FLASH_MESSAGE\",\r\n        payload: \"Attraction has been created\",\r\n      });\r\n      history.push(`/attractions/${data._id}`);\r\n    })();\r\n  };\r\n};\r\n\r\nexport const editAttraction = (values) => {\r\n  let { name, location, description, images, _id, deleteImages } = values;\r\n  let fd = new FormData();\r\n  fd.append(\"name\", name);\r\n  fd.append(\"description\", description);\r\n  fd.append(\"location\", location);\r\n  fd.append(\"deleteImages\", JSON.stringify(deleteImages));\r\n  if (images) {\r\n    for (let image of images) {\r\n      fd.append(\"images\", image);\r\n    }\r\n  }\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.put(`/attractions/${_id}`, fd);\r\n\r\n      dispatch({ type: \"CREAT_ATTRACTION\", payload: data });\r\n\r\n      dispatchMessage(dispatch, {\r\n        type: \"FLASH_MESSAGE\",\r\n        payload: \"Attraction has been edited\",\r\n      });\r\n\r\n      history.push(`/attractions/${data._id}`);\r\n    })();\r\n  };\r\n};\r\n\r\nexport const getAttraction = (id) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.get(`/attractions/${id}`);\r\n      dispatch({ type: \"GET_ATTRACTION\", payload: data });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const emptyQuery = () => {\r\n  return { type: \"QUERY\", payload: \"\" };\r\n};\r\n\r\nexport const getAttractions = () => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.get(\"/attractions\");\r\n      dispatch({ type: \"GET_ATTRACTIONS\", payload: data });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const searchAttractions = (query) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.get(`/attractions/search?q=${query}`);\r\n      dispatch({ type: \"ATTRACTIONS_SEARCH_RESULTS\", payload: data });\r\n      dispatch({ type: \"QUERY\", payload: query });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const getAllAttractions = () => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.get(\"/attractions/all\");\r\n      dispatch({ type: \"GET_ATTRACTIONS\", payload: data });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const deleteAttraction = (id) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.delete(`/attractions/${id}`);\r\n      dispatch({ type: \"DELETE_ATTRACTION\", payload: data });\r\n      dispatch({\r\n        type: \"FLASH_MESSAGE\",\r\n        payload: \"Attraction has been deleted\",\r\n      });\r\n      setTimeout(() => {\r\n        dispatch({\r\n          type: \"FLASH_MESSAGE\",\r\n          payload: \"\",\r\n        });\r\n      }, 5000);\r\n      history.push(\"/\");\r\n    })();\r\n  };\r\n};\r\n\r\nexport const addAttractionReview = ({ attractionId, content, stars }) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.post(\r\n        `/attractions/${attractionId}/reviews`,\r\n        { content, stars }\r\n      );\r\n      dispatch({ type: \"GET_ATTRACTION\", payload: data });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const deleteAttrationReview = ({ attractionId, reviewId }) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.delete(\r\n        `/attractions/${attractionId}/reviews/${reviewId}`\r\n      );\r\n\r\n      dispatch({ type: \"GET_ATTRACTION\", payload: data });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const addToBeenThere = (attractionId) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.post(\r\n        `/attractions/${attractionId}/beenthere`\r\n      );\r\n      if (data !== \"ALREADY ADDED\") {\r\n        dispatch(getAttraction(attractionId));\r\n        dispatch({ type: \"UPDATE_USER_LIST\", payload: data });\r\n\r\n        dispatch({\r\n          type: \"FLASH_MESSAGE\",\r\n          payload: \"Attraction has been to your list\",\r\n        });\r\n        setTimeout(() => {\r\n          dispatch({\r\n            type: \"FLASH_MESSAGE\",\r\n            payload: \"\",\r\n          });\r\n        }, 5000);\r\n      }\r\n    })();\r\n  };\r\n};\r\n\r\nexport const addToWantToVisit = (attractionId) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.post(\r\n        `/attractions/${attractionId}/wanttovist`\r\n      );\r\n      if (data !== \"ALREADY ADDED\") {\r\n        dispatch(getAttraction(attractionId));\r\n        dispatch({ type: \"UPDATE_USER_LIST\", payload: data });\r\n\r\n        dispatch({\r\n          type: \"FLASH_MESSAGE\",\r\n          payload: \"Attraction has been added to your list\",\r\n        });\r\n        setTimeout(() => {\r\n          dispatch({\r\n            type: \"FLASH_MESSAGE\",\r\n            payload: \"\",\r\n          });\r\n        }, 5000);\r\n      }\r\n    })();\r\n  };\r\n};\r\n\r\nexport const addToList = (attractionId) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.post(`/attractions/${attractionId}/list`);\r\n      if (data !== \"WRONG REQUEST\") {\r\n        dispatch({ type: \"UPDATE_USER_LIST\", payload: data });\r\n\r\n        dispatch({\r\n          type: \"FLASH_MESSAGE\",\r\n          payload: \"Attraction has been added to your list\",\r\n        });\r\n        setTimeout(() => {\r\n          dispatch({\r\n            type: \"FLASH_MESSAGE\",\r\n            payload: \"\",\r\n          });\r\n        }, 5000);\r\n      }\r\n    })();\r\n  };\r\n};\r\n\r\nexport const removeFromList = (attractionId) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.delete(`/attractions/${attractionId}/list`);\r\n      if (data !== \"WRONG REQUEST\") {\r\n        dispatch({ type: \"UPDATE_USER_LIST\", payload: data });\r\n\r\n        dispatch({\r\n          type: \"FLASH_MESSAGE\",\r\n          payload: \"Attraction has been removed to your list\",\r\n        });\r\n        setTimeout(() => {\r\n          dispatch({\r\n            type: \"FLASH_MESSAGE\",\r\n            payload: \"\",\r\n          });\r\n        }, 5000);\r\n      }\r\n    })();\r\n  };\r\n};\r\n\r\nexport const getUserAttractions = () => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let first = await instance.get(\"/user/beenthere\");\r\n      let second = await instance.get(\"/user/wanttovist\");\r\n      let third = await instance.get(\"/user/list\");\r\n\r\n      dispatch({\r\n        type: \"UPDATE_USER_LIST\",\r\n        payload: {\r\n          beenThere: first.data,\r\n          wantToVisit: second.data,\r\n          list: third.data,\r\n        },\r\n      });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const isLoggedIn = () => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.get(\"/loggedin\");\r\n      if (!data.isLoggedIn) dispatch({ type: \"LOG_OUT\" });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const getAdresses = (term) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await axios.get(\r\n        `https://api.getaddress.io/autocomplete/${term}?expand=true&api-key=${process.env.REACT_APP_ADDRESS_API_KEY} `\r\n      );\r\n\r\n      dispatch({ type: \"GET_ADDRESSES\", payload: data.suggestions });\r\n    })();\r\n  };\r\n};\r\n\r\nexport const googleAuth = (token) => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.post(\"/oauth\", { token });\r\n      dispatch({ type: \"LOG_IN\", payload: data });\r\n      if (history.action !== \"POP\") history.goBack();\r\n      else history.push(\"/\");\r\n    })();\r\n  };\r\n};\r\n\r\nexport const getAttractionCount = () => {\r\n  return (dispatch) => {\r\n    (async () => {\r\n      let { data } = await instance.get(\"/attractions/count\");\r\n\r\n      dispatch({ type: \"GET_ATTRACTION_COUNT\", payload: data.count });\r\n    })();\r\n  };\r\n};\r\n","import Joi from \"joi\";\r\n\r\n\r\nexport const validateUsername = Joi.object({\r\n  username: Joi.string()\r\n    .pattern(new RegExp(\"^[A-Za-z0-9_-]*$\"))\r\n    .message({ \"string.pattern.base\": \"Invalid username\" })\r\n    .min(5)\r\n    .max(30)\r\n    .required(),\r\n});\r\n\r\nexport const validateEmail = Joi.object({\r\n  email: Joi.string()\r\n    .email({ tlds: { allow: false } })\r\n    .required(),\r\n});\r\n\r\nexport const validatePassword = Joi.object({\r\n  password: Joi.string()\r\n    .pattern(new RegExp(\"^[A-Za-z0-9_@./#&+-]*$\"))\r\n    .message({ \"string.pattern.base\": \"Invalid password\" })\r\n    .min(6)\r\n    .max(20)\r\n    .required(),\r\n});\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  width: 40rem;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 4.4rem 5.5rem;\r\n  box-shadow: 0 0.2rem 2rem rgba(0, 0, 0, 0.15);\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  width: 100%;\r\n  height: 5.2rem;\r\n  margin: 1.2rem 0;\r\n  font-family: inherit;\r\n  outline: none;\r\n  border: none;\r\n  padding: 1rem;\r\n  font-size: 1.8rem;\r\n  background-color: #e5e7eb;\r\n\r\n  border: ${({ error }) => (error ? \"1px solid red\" : \"none\")};\r\n  &:focus {\r\n    border: 1px solid #065f46;\r\n  }\r\n`;\r\n\r\nexport const Label = styled.label`\r\n  color: #212529;\r\n  font-size: 2rem;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  width: 100%;\r\n  height: 5.2rem;\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 20px;\r\n  align-items: center;\r\n  color: white;\r\n  background-color: #065f46;\r\n  border: none;\r\n  font-size: 2.5rem;\r\n  transition: all 300ms;\r\n  margin-top: 1.8rem;\r\n  border-radius: 10rem;\r\n  &:hover {\r\n    background-color: #064e3b;\r\n  }\r\n`;\r\n\r\nexport const GoogleButton = styled.button`\r\n  width: 100%;\r\n  height: 5.2rem;\r\n  color: white;\r\n  margin-top: 2rem;\r\n  background-color: #de5246;\r\n  border: none;\r\n  font-size: 2.5rem;\r\n  transition: all 300ms;\r\n  border-radius: 10rem;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 1.5rem;\r\n  &:hover {\r\n    background-color: #b91c1c;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  position: relative;\r\n  font-size: 4.2rem;\r\n  color: #065f46;\r\n  margin: 2rem 0 6rem 0;\r\n  text-transform: uppercase;\r\n`;\r\n\r\nexport const CenterText = styled.div`\r\n  margin-top: 15px;\r\n  text-align: center;\r\n`;\r\n\r\nexport const Error = styled.p`\r\n  color: red;\r\n  font-size: 1.6rem;\r\n  margin-bottom: 1.6rem;\r\n`;\r\n\r\nexport const FlashError = styled.p`\r\n  position: absolute;\r\n  color: red;\r\n  font-size: 1.8rem;\r\n  right: 50%;\r\n  transform: translate(50%, 2rem);\r\n`;\r\n","import styled, { keyframes } from \"styled-components\";\r\n\r\nexport const MainContainer = styled.div`\r\n  position: relative;\r\n  width: 80%;\r\n  margin: 4rem auto 7rem auto;\r\n`;\r\n\r\nconst loadingKF = keyframes`\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n`;\r\n\r\nexport const LoadingRing = styled.div`\r\n  display: inline-block;\r\n  width: 38px;\r\n  height: 38px;\r\n\r\n  &::after {\r\n    content: \" \";\r\n    display: inline-block;\r\n    width: 38px;\r\n    height: 38px;\r\n    border-radius: 50%;\r\n    border: 6px solid #fff;\r\n    border-color: #fff transparent #fff transparent;\r\n    animation: ${loadingKF} 1.2s linear infinite;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { GoogleLogin } from \"react-google-login\";\r\nimport { connect } from \"react-redux\";\r\nimport { googleAuth } from \"../../actions\";\r\n\r\nfunction Login({ googleAuth, text }) {\r\n  const onSuccess = (res) => {\r\n    googleAuth(res.tokenId);\r\n  };\r\n\r\n  const onFailure = (res) => {\r\n    console.log(\"LOGGIN FAILED\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <GoogleLogin\r\n        render={(renderProps) => (\r\n          <span onClick={renderProps.onClick}>{text}</span>\r\n        )}\r\n        clientId={process.env.REACT_APP_CLIENT_ID}\r\n        buttonText=\"Login\"\r\n        onSuccess={onSuccess}\r\n        onFailure={onFailure}\r\n        cookiePolicy={\"single_host_origin\"}\r\n        style={{ marginTop: \"100px\" }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(null, { googleAuth })(Login);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { register } from \"../../actions\";\r\nimport {\r\n  validateUsername,\r\n  validateEmail,\r\n  validatePassword,\r\n} from \"../../validation/validateUser\";\r\nimport history from \"../../history\";\r\nimport {\r\n  Container,\r\n  Title,\r\n  Input,\r\n  Label,\r\n  Button,\r\n  CenterText,\r\n  Error,\r\n  FlashError,\r\n  GoogleButton,\r\n} from \"../styledComponents/authPage\";\r\nimport { LoadingRing, MainContainer } from \"../styledComponents/general\";\r\nimport LoginGoogle from \"./LoginGoogle\";\r\nimport { IoLogoGoogle } from \"react-icons/io5\";\r\n\r\nclass Register extends React.Component {\r\n  state = {\r\n    username: \"\",\r\n    password: \"\",\r\n    email: \"\",\r\n    usernameError: \"\",\r\n    passwordError: \"\",\r\n    emailError: \"\",\r\n    loading: false,\r\n  };\r\n\r\n  usernameChange = (e) => {\r\n    this.setState({ username: e.target.value });\r\n  };\r\n\r\n  passwordChange = (e) => {\r\n    this.setState({ password: e.target.value });\r\n  };\r\n\r\n  emailChange = (e) => {\r\n    this.setState({ email: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    let usernameError = validateUsername.validate({\r\n      username: this.state.username,\r\n    }).error;\r\n\r\n    if (usernameError)\r\n      this.setState({ usernameError: usernameError.details[0].message });\r\n\r\n    let passwordError = validatePassword.validate({\r\n      password: this.state.password,\r\n    }).error;\r\n\r\n    if (passwordError)\r\n      this.setState({ passwordError: passwordError.details[0].message });\r\n\r\n    let emailError = validateEmail.validate({\r\n      email: this.state.email,\r\n    }).error;\r\n\r\n    if (emailError)\r\n      this.setState({ emailError: emailError.details[0].message });\r\n\r\n    if (!usernameError && !passwordError && !emailError) {\r\n      this.props.register(this.state);\r\n      this.setState({ loading: true });\r\n    }\r\n  };\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    if (prevState.loading && nextProps.user.error) {\r\n      return { loading: false };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    if (this.props.user && this.props.user.loggedIn) history.push(\"/\");\r\n\r\n    return (\r\n      <MainContainer>\r\n        <CenterText>\r\n          <Title>\r\n            sign up\r\n            {this.props.user.error && (\r\n              <FlashError>{this.props.user.error}</FlashError>\r\n            )}\r\n          </Title>\r\n        </CenterText>\r\n\r\n        <Container>\r\n          <form onSubmit={this.handleSubmit}>\r\n            <div>\r\n              <Label htmlFor=\"username\">Email</Label>\r\n              <Input\r\n                value={this.state.email}\r\n                onChange={this.emailChange}\r\n                name=\"email\"\r\n                type=\"text\"\r\n                error={this.state.emailError}\r\n                onBlur={(e) => {\r\n                  if (validateEmail.validate({ email: e.target.value }).error) {\r\n                    this.setState({\r\n                      emailError: validateEmail.validate({\r\n                        email: e.target.value,\r\n                      }).error.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ emailError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.emailError}</Error>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"username\">Username</Label>\r\n              <Input\r\n                value={this.state.username}\r\n                onChange={this.usernameChange}\r\n                name=\"username\"\r\n                type=\"text\"\r\n                error={this.state.usernameError}\r\n                onBlur={(e) => {\r\n                  if (\r\n                    validateUsername.validate({ username: e.target.value })\r\n                      .error\r\n                  ) {\r\n                    this.setState({\r\n                      usernameError: validateUsername.validate({\r\n                        username: e.target.value,\r\n                      }).error.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ usernameError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.usernameError}</Error>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"password\">Password</Label>\r\n              <Input\r\n                value={this.state.password}\r\n                onChange={this.passwordChange}\r\n                name=\"password\"\r\n                type=\"password\"\r\n                error={this.state.passwordError}\r\n                onBlur={(e) => {\r\n                  if (\r\n                    validatePassword.validate({ password: e.target.value })\r\n                      .error\r\n                  ) {\r\n                    this.setState({\r\n                      passwordError: validatePassword.validate({\r\n                        password: e.target.value,\r\n                      }).error.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ passwordError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.passwordError}</Error>\r\n            </div>\r\n            <Button type=\"submit\">\r\n              {this.state.loading && <LoadingRing />}SIGN UP\r\n            </Button>\r\n\r\n            <CenterText>Or</CenterText>\r\n\r\n            <LoginGoogle\r\n              text={\r\n                <GoogleButton>\r\n                  SIGN UP WITH <IoLogoGoogle style={{ fontSize: \"30px\" }} />\r\n                </GoogleButton>\r\n              }\r\n            />\r\n          </form>\r\n        </Container>\r\n      </MainContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ user }) => {\r\n    return { user };\r\n  },\r\n  { register }\r\n)(Register);\r\n","import Joi from \"joi\";\r\n\r\nexport const validateUsername = Joi.object({\r\n  username: Joi.string()\r\n    .pattern(new RegExp(\"^[A-Za-z0-9_-]*$\"))\r\n    .message({ \"string.pattern.base\": \"Invalid username\" })\r\n    .min(5)\r\n    .max(30)\r\n    .required(),\r\n});\r\n\r\nexport const validatePassword = Joi.object({\r\n  password: Joi.string()\r\n    .pattern(new RegExp(\"^[A-Za-z0-9_@./#&+-]*$\"))\r\n    .message({ \"string.pattern.base\": \"Invalid password\" })\r\n    // .min(6)\r\n    .max(20)\r\n    .required(),\r\n});\r\n","import React from \"react\";\r\nimport { login } from \"../../actions\";\r\nimport { connect } from \"react-redux\";\r\nimport history from \"../../history\";\r\nimport {\r\n  validatePassword,\r\n  validateUsername,\r\n} from \"../../validation/validateLogin\";\r\n\r\nimport {\r\n  Container,\r\n  Title,\r\n  Input,\r\n  Label,\r\n  Button,\r\n  CenterText,\r\n  GoogleButton,\r\n  Error,\r\n  FlashError,\r\n} from \"../styledComponents/authPage\";\r\nimport { LoadingRing, MainContainer } from \"../styledComponents/general\";\r\nimport LoginGoogle from \"./LoginGoogle\";\r\nimport { IoLogoGoogle } from \"react-icons/io5\";\r\n\r\nclass Login extends React.Component {\r\n  state = {\r\n    username: \"\",\r\n    password: \"\",\r\n    usernameError: \"\",\r\n    passwordError: \"\",\r\n    loading: false,\r\n  };\r\n\r\n  usernameChange = (e) => {\r\n    this.setState({ username: e.target.value });\r\n  };\r\n\r\n  passwordChange = (e) => {\r\n    this.setState({ password: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    let usernameError = validateUsername.validate({\r\n      username: this.state.username,\r\n    }).error;\r\n\r\n    if (usernameError)\r\n      this.setState({ usernameError: usernameError.details[0].message });\r\n\r\n    let passwordError = validatePassword.validate({\r\n      password: this.state.password,\r\n    }).error;\r\n\r\n    if (passwordError)\r\n      this.setState({ passwordError: passwordError.details[0].message });\r\n\r\n    if (!usernameError && !passwordError) {\r\n      this.props.login(this.state);\r\n      this.setState({ loading: true });\r\n    }\r\n  };\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    if (prevState.loading && nextProps.user.error) {\r\n      return { loading: false };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  render() {\r\n    if (this.props.user && this.props.user.loggedIn) history.push(\"/\");\r\n    return (\r\n      <MainContainer>\r\n        <CenterText>\r\n          <Title>\r\n            Login\r\n            {this.props.user.error && (\r\n              <FlashError>{this.props.user.error}</FlashError>\r\n            )}\r\n          </Title>\r\n        </CenterText>\r\n        <Container>\r\n          <form onSubmit={this.handleSubmit}>\r\n            <div>\r\n              <Label htmlFor=\"username\">Username</Label>\r\n              <Input\r\n                error={this.state.usernameError}\r\n                value={this.state.username}\r\n                onChange={this.usernameChange}\r\n                name=\"username\"\r\n                type=\"text\"\r\n                onBlur={(e) => {\r\n                  if (\r\n                    validateUsername.validate({ username: e.target.value })\r\n                      .error\r\n                  ) {\r\n                    this.setState({\r\n                      usernameError: validateUsername.validate({\r\n                        username: e.target.value,\r\n                      }).error.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ usernameError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.usernameError}</Error>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"password\">Password</Label>\r\n              <Input\r\n                error={this.state.passwordError}\r\n                value={this.state.password}\r\n                onChange={this.passwordChange}\r\n                name=\"password\"\r\n                type=\"password\"\r\n                onBlur={(e) => {\r\n                  if (\r\n                    validatePassword.validate({ password: e.target.value })\r\n                      .error\r\n                  ) {\r\n                    console.log();\r\n                    this.setState({\r\n                      passwordError: validatePassword.validate({\r\n                        password: e.target.value,\r\n                      }).error.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ passwordError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.passwordError}</Error>\r\n            </div>\r\n            <Button type=\"submit\">\r\n              {this.state.loading && <LoadingRing />}LOGIN\r\n            </Button>\r\n\r\n            <CenterText>Or</CenterText>\r\n\r\n            <LoginGoogle\r\n              text={\r\n                <GoogleButton>\r\n                  LOGIN WITH <IoLogoGoogle style={{ fontSize: \"30px\" }} />\r\n                </GoogleButton>\r\n              }\r\n            />\r\n          </form>\r\n        </Container>\r\n      </MainContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ user }) => {\r\n    return { user };\r\n  },\r\n  { login }\r\n)(Login);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Nav = styled.nav`\r\n  @keyframes moveDown {\r\n    0% {\r\n      opacity: 0;\r\n      transform: translateY(-1rem);\r\n    }\r\n\r\n    100% {\r\n      opacity: 1;\r\n      transform: translateY(0);\r\n    }\r\n  }\r\n\r\n  display: flex;\r\n  text-decoration: none;\r\n  background-color: transparent;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0.6rem 6rem;\r\n  gap: 3rem;\r\n  height: 4.6rem;\r\n  width: 100%;\r\n  margin-top: 1rem;\r\n  position: relative;\r\n  z-index: 100;\r\n  animation: moveDown 1s;\r\n\r\n  @media (max-width: 1040px) {\r\n    flex-direction: column;\r\n    margin-bottom: ${(props) => (props.collapsed ? \"50rem\" : \"0\")};\r\n    padding: 1.4rem 0;\r\n    gap: 0;\r\n    background-color: ${(props) =>\r\n      props.theme === \"white\" && props.collapsed ? \"#065f46\" : \"transparent\"};\r\n    margin: 0;\r\n  }\r\n\r\n  .brand {\r\n    text-decoration: none;\r\n    font-size: 2rem;\r\n    color: ${(props) => (props.theme === \"white\" ? \"white\" : \"#065f46\")};\r\n    font-weight: 800;\r\n    text-transform: uppercase;\r\n    margin-right: 2rem;\r\n    white-space: nowrap;\r\n    letter-spacing: 1.1px;\r\n\r\n    @media (max-width: 1040px) {\r\n      margin-bottom: ${(props) => (props.theme === \"white\" ? \"0\" : \"2rem\")};\r\n    }\r\n  }\r\n\r\n  .brand:hover,\r\n  .brand:active {\r\n    color: ${(props) => (props.theme === \"white\" ? \"white\" : \"#10b981\")};\r\n  }\r\n\r\n  .nav-links {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    gap: 2.6rem;\r\n    align-items: center;\r\n    transition: all 0.3s;\r\n\r\n    @media (max-width: 1040px) {\r\n      width: 100%;\r\n      flex-direction: column;\r\n      background-color: inherit;\r\n      width: 100%;\r\n      background-color: #065f46;\r\n      padding: 2rem 0;\r\n      display: ${(props) => (props.collapsed ? \"\" : \"none\")};\r\n      font-size: 2rem;\r\n    }\r\n  }\r\n\r\n  .link {\r\n    text-decoration: none;\r\n    color: ${(props) => (props.theme === \"white\" ? \"white\" : \"#065f46\")};\r\n    white-space: nowrap;\r\n    font-weight: 700;\r\n    letter-spacing: 1.1px;\r\n    text-transform: uppercase;\r\n    border: none;\r\n    @media (max-width: 1040px) {\r\n      color: white;\r\n    }\r\n  }\r\n\r\n  .link:hover {\r\n    color: #10b981;\r\n    color: ${(props) => (props.theme === \"white\" ? \"white\" : \"#10b981\")};\r\n\r\n    @media (max-width: 1040px) {\r\n      color: #a7f3d0;\r\n    }\r\n  }\r\n\r\n  .auth-btn {\r\n    background-color: ${(props) =>\r\n      props.theme === \"white\" ? \"white\" : \"#065f46\"};\r\n    padding: 9px 18px;\r\n    color: ${(props) => (props.theme === \"white\" ? \"#065f46\" : \"white\")};\r\n    border-radius: 100px;\r\n    box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.2);\r\n\r\n    @media (max-width: 1040px) {\r\n      color: #065f46;\r\n      background-color: white;\r\n      font-size: 2rem;\r\n    }\r\n  }\r\n\r\n  .auth-btn:hover {\r\n    color: ${(props) => (props.theme === \"white\" ? \" #10b981\" : \"white\")};\r\n    background-color: ${(props) => (props.theme === \"white\" ? \"\" : \" #064E3B\")};\r\n\r\n    @media (max-width: 1040px) {\r\n      color: #10b981;\r\n      background-color: white;\r\n    }\r\n  }\r\n\r\n  .sign-up-btn {\r\n    padding: 8px 16px;\r\n    color: ${(props) => (props.theme === \"white\" ? \"#065f46\" : \"white\")};\r\n    background-color: ${(props) =>\r\n      props.theme === \"white\" ? \"white\" : \"#065f46\"};\r\n    border-radius: 100px;\r\n    box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.3);\r\n\r\n    @media (max-width: 1040px) {\r\n      color: #065f46;\r\n      background-color: white;\r\n      font-size: 2rem;\r\n    }\r\n  }\r\n\r\n  .sign-up-btn:hover {\r\n    color: ${(props) => (props.theme === \"white\" ? \" #10b981\" : \"white\")};\r\n    background-color: ${(props) => (props.theme === \"white\" ? \"\" : \" #064E3B\")};\r\n\r\n    @media (max-width: 1040px) {\r\n      color: #10b981;\r\n      background-color: white;\r\n    }\r\n  }\r\n\r\n  .auth-btns {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 2rem;\r\n    text-align: center;\r\n    white-space: nowrap;\r\n    transition: all 0.3s;\r\n    @media (max-width: 1040px) {\r\n      flex-direction: column;\r\n      background-color: #065f46;\r\n      width: 100%;\r\n      padding: 2rem 0;\r\n      opacity: ${(props) => (props.collapsed ? \"1\" : \"0\")};\r\n      display: ${(props) => (props.collapsed ? \"\" : \"none\")};\r\n    }\r\n  }\r\n\r\n  .menu-btn {\r\n    display: none;\r\n    color: ${(props) => (props.theme === \"white\" ? \"white\" : \"#065f46\")};\r\n    font-size: 4rem;\r\n    cursor: pointer;\r\n\r\n    @media (max-width: 1040px) {\r\n      display: block;\r\n      position: absolute;\r\n      right: 2rem;\r\n      top: 0.1rem;\r\n    }\r\n  }\r\n\r\n  .nav-links-collapsed {\r\n    display: flex;\r\n    height: 0;\r\n    flex-direction: column;\r\n    gap: 2;\r\n    top: 4.6rem;\r\n    background-color: #e5e7eb;\r\n    padding: 2rem;\r\n    width: 100%;\r\n    border-bottom: 1px solid #d1d5db;\r\n    transition: all 300ms;\r\n    display: none;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { GoogleLogout } from \"react-google-login\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../../actions\";\r\n\r\nfunction Logout({ logout }) {\r\n  const onSuccess = () => {\r\n    logout();\r\n  };\r\n\r\n  return (\r\n      <GoogleLogout\r\n        render={(renderProps) => (\r\n          <span onClick={renderProps.onClick}>\r\n             Logout\r\n          </span>\r\n        )}\r\n        clientId={process.env.REACT_APP_CLIENT_ID}\r\n        buttonText=\"Logout\"\r\n        onLogoutSuccess={onSuccess}\r\n      ></GoogleLogout>\r\n  );\r\n}\r\n\r\nexport default connect(null, { logout })(Logout);\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { logout, googleAuth } from \"../actions\";\r\nimport { IoMenu } from \"react-icons/io5\";\r\nimport { Nav } from \"./styledComponents/Header\";\r\nimport LogoutGoogle from \"./auth/LogoutGoogle\";\r\nimport { useLocation } from \"react-router-dom\";\r\n// import \"../styles/header.css\";\r\n// import SearchBar from \"./attractions/SearchBar\";\r\n// import history from \"../history\";\r\n\r\nconst Header = (props) => {\r\n  const [toggle, setToggle] = useState(false);\r\n  let location = useLocation();\r\n\r\n  return (\r\n    <Nav\r\n      collapsed={toggle}\r\n      theme={`${location.pathname === \"/\" ? \"white\" : \"green\"}`}\r\n    >\r\n      <Link className=\"brand\" to=\"/\">\r\n        Mysterious London\r\n      </Link>\r\n\r\n      <div\r\n        onClick={() => {\r\n          setToggle(!toggle);\r\n        }}\r\n        className={`nav-links`}\r\n      >\r\n        <Link className=\"link\" to=\"/attractions\">\r\n          Attractions\r\n        </Link>\r\n        <Link className=\"link\" to=\"/attractions/map\">\r\n          Map\r\n        </Link>\r\n        <Link className=\"link\" to=\"/attractions/search\">\r\n          Search\r\n        </Link>\r\n        <Link className=\"link\" to=\"/create\">\r\n          Contribute\r\n        </Link>\r\n\r\n        <Link className=\"link\" to=\"/myattractions\">\r\n          Your Lists\r\n        </Link>\r\n      </div>\r\n\r\n      <div className=\"auth-btns\">\r\n        {!props.user.loggedIn && (\r\n          <Link className=\"link auth-btn\" to=\"/login\">\r\n            Login\r\n          </Link>\r\n        )}\r\n        {!props.user.loggedIn && (\r\n          <Link className=\"link sign-up-btn\" to=\"/register\">\r\n            Sign Up\r\n          </Link>\r\n        )}\r\n\r\n        {props.user.loggedIn && !props.user.oauth && (\r\n          <button\r\n            className=\"link auth-btn\"\r\n            onClick={() => {\r\n              props.logout();\r\n            }}\r\n          >\r\n            Logout\r\n          </button>\r\n        )}\r\n        {props.user.loggedIn && props.user.oauth && (\r\n          <button to=\"\" className=\"link auth-btn\">\r\n            <LogoutGoogle />\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      <div\r\n        onClick={() => {\r\n          setToggle(!toggle);\r\n        }}\r\n        className=\"menu-btn\"\r\n      >\r\n        <IoMenu />\r\n      </div>\r\n    </Nav>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  ({ user }) => {\r\n    return { user };\r\n  },\r\n  { logout, googleAuth }\r\n)(Header);\r\n","import Joi from \"joi\";\r\n\r\nexport const validateName = Joi.object({\r\n  name: Joi.string().min(3).max(50).required(),\r\n});\r\n\r\nexport const validateDescription = Joi.object({\r\n  description: Joi.string().min(20).required(),\r\n});\r\n\r\nexport const validateLocation = Joi.object({\r\n  location: Joi.string().required(),\r\n});\r\n\r\n","import styled from \"styled-components\";\r\n\r\n// SPACING SYSTEM (px):\r\n//   2 / 4 / 8 / 12 / 16 / 24 / 32 / 48 / 64 / 80 / 96 / 128\r\n\r\n// FONT SIZE SYSTEM (px):\r\n//   10 / 12 / 14 / 16 / 18 / 20 / 24 / 30 / 36 / 44 / 52 / 62 / 74 / 86 / 98\r\n\r\n//#e9ecef\r\n// #065f46\r\n\r\nexport const Container = styled.div`\r\n  width: 60rem;\r\n  margin: 0 auto;\r\n  margin-top: 4.8rem;\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 4.4rem 5.5rem;\r\n  box-shadow: 0 2px 2rem rgba(0, 0, 0, 0.15);\r\n\r\n  @media (max-width: 1024px) {\r\n    width: 50rem;\r\n    \r\n  }\r\n  \r\n  @media (max-width: 768px) {\r\n    width: 40rem;\r\n  }\r\n\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  width: 100%;\r\n  height: 5.2rem;\r\n  margin: 1.2rem 0;\r\n  font-family: sans-serif;\r\n  outline: none;\r\n  border: none;\r\n  \r\n  padding: 1rem;\r\n  font-size: 1.8rem;\r\n  background-color:#E5E7EB\r\n;\r\n  border: ${({ error }) => (error ? \"1px solid red\" : \"none\")};\r\n\r\n  &:focus{\r\n    border:1px solid #065f46;\r\n  }\r\n`;\r\n\r\nexport const Label = styled.label`\r\n  color: #212529;\r\n  font-size: 2.4rem;\r\n  font-weight: bold;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 30px;\r\n  justify-content: center;\r\n  width: 100%;\r\n  height: 5.2rem;\r\n  color: white;\r\n  background-color: #065f46;\r\n  border: none;\r\n  font-size: 2.5rem;\r\n  transition: all 300ms;\r\n  border-radius: 10rem;\r\n  text-transform: uppercase;\r\n  letter-spacing: 1.1px;\r\n  &:hover {\r\n    background-color: #064e3b;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  position: relative;\r\n  font-size: 4.2rem;\r\n  color: #065f46;\r\n  text-transform: uppercase;\r\n  margin: 4.2rem 0 9.2rem 0;\r\n`;\r\n\r\nexport const CenterText = styled.div`\r\n  text-align: center;\r\n`;\r\n\r\nexport const TextArea = styled.textarea`\r\n  width: 100%;\r\n  height: 16rem;\r\n  border: none;\r\n  outline: none;\r\n  margin: 1.2rem 0;\r\n  padding: 1.2rem;\r\n  line-height: 1.3;\r\n  background-color:#E5E7EB;\r\n  border: ${({ error }) => (error ? \"1px solid red\" : \"none\")};\r\n`;\r\n\r\nexport const Select = styled.select`\r\n  width: 100%;\r\n  height: 5.2rem;\r\n  border: none;\r\n  outline: none;\r\n  margin-bottom: 3rem;\r\n  padding: 1.2rem;\r\n  background-color: #f3f4f6;\r\n`;\r\n\r\nexport const FlashMessage = styled.p`\r\n  position: absolute;\r\n  font-size: 2.5rem;\r\n  color: #064e3b;\r\n  background-color: #d1fae5;\r\n  border-radius: 1rem;\r\n  right: 50%;\r\n  transform: translate(50%, 2rem);\r\n  padding: 1.2rem;\r\n  border-radius: 1rem;\r\n  margin-bottom: 3rem;\r\n`;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport history from \"../../history\";\r\nimport { createAttraction, getAdresses, isLoggedIn } from \"../../actions\";\r\nimport _ from \"lodash\";\r\nimport {\r\n  validateName,\r\n  validateDescription,\r\n  validateLocation,\r\n} from \"../../validation/validateAttration\";\r\nimport {\r\n  Input,\r\n  Label,\r\n  Container,\r\n  Button,\r\n  TextArea,\r\n  Select,\r\n  CenterText,\r\n  Title,\r\n  FlashMessage,\r\n} from \"../styledComponents/createAttraction\";\r\nimport { LoadingRing, MainContainer } from \"../styledComponents/general\";\r\nimport { Error } from \"../styledComponents/authPage\";\r\n\r\nclass Create extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      description: \"\",\r\n      location: \"\",\r\n      images: null,\r\n      term: \"\",\r\n      nameError: \"\",\r\n      descriptionError: \"\",\r\n      locationError: \"\",\r\n      imagesError: \"\",\r\n      loading: false,\r\n    };\r\n  }\r\n\r\n  onNameChange = (e) => {\r\n    this.setState({ name: e.target.value });\r\n  };\r\n\r\n  onDescriptionChange = (e) => {\r\n    this.setState({ description: e.target.value });\r\n  };\r\n\r\n  onTermChange = (e) => {\r\n    this.setState({ term: e.target.value });\r\n\r\n    _.debounce(() => {\r\n      this.props.getAdresses(this.state.term);\r\n      if (this.props.addresses.length === 0) {\r\n        this.setState({ locationError: \"It must be a valid UK address\" });\r\n      } else {\r\n        this.setState({ locationError: \"\" });\r\n      }\r\n    }, 500)();\r\n  };\r\n\r\n  onLocationChange = (e) => {\r\n    this.setState({ location: e.target.value });\r\n  };\r\n\r\n  onImageChange = (e) => {\r\n    this.setState({ images: e.target.files });\r\n    this.setState({\r\n      imagesError: \"\",\r\n    });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    let nameError = validateName.validate({\r\n      name: this.state.name,\r\n    }).error;\r\n\r\n    if (nameError) {\r\n      this.setState({\r\n        nameError: nameError.details[0].message,\r\n      });\r\n    }\r\n\r\n    let descriptionError = validateDescription.validate({\r\n      description: this.state.description,\r\n    }).error;\r\n\r\n    if (descriptionError) {\r\n      this.setState({\r\n        descriptionError: descriptionError.details[0].message,\r\n      });\r\n    }\r\n\r\n    let addresses = this.props.addresses;\r\n    let firstAddress = ''\r\n    if (addresses.length > 0 && this.state.location === \"\") {\r\n      this.setState({ location: addresses[0].address });\r\n      firstAddress = addresses[0].address;\r\n    }\r\n    let locationError = validateLocation.validate({\r\n      location: this.state.location || firstAddress ,\r\n    }).error;\r\n\r\n    if (locationError) {\r\n      this.setState({\r\n        locationError: locationError.details[0].message,\r\n      });\r\n    }\r\n\r\n    let imagesError = !this.state.images\r\n      ? \"You must upload at least one image\"\r\n      : \"\";\r\n\r\n    if (imagesError) {\r\n      this.setState({ imagesError });\r\n    }\r\n\r\n    if (!nameError && !locationError && !descriptionError && !imagesError) {\r\n      this.props.createAttraction(this.state);\r\n      this.setState({ location: \"\" });\r\n      this.setState({ loading: true });\r\n    }\r\n  };\r\n\r\n  renderAdressDropdown = () => {\r\n    let addresses = this.props.addresses;\r\n    return (\r\n      <Select onClick={this.onLocationChange}>\r\n        {addresses.map(({ address }, i) => {\r\n          return (\r\n            <option key={i} value={address}>\r\n              {address}\r\n            </option>\r\n          );\r\n        })}\r\n      </Select>\r\n    );\r\n  };\r\n\r\n  renderForm() {\r\n    if (!this.props.user.loggedIn) {\r\n      history.push(\"/login\");\r\n    }\r\n    return (\r\n      <div>\r\n        <CenterText>\r\n          <Title>\r\n            Add Attraction\r\n            {this.props.message && (\r\n              <FlashMessage>{this.props.message}</FlashMessage>\r\n            )}\r\n          </Title>\r\n        </CenterText>\r\n        <Container>\r\n          <form\r\n            autoComplete=\"off\"\r\n            onSubmit={this.handleSubmit}\r\n            encType=\"multipart/form-data\"\r\n          >\r\n            <div>\r\n              <Label htmlFor=\"name\">Name</Label>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                onChange={this.onNameChange}\r\n                value={this.state.name}\r\n                error={this.state.nameError}\r\n                onBlur={(e) => {\r\n                  let nameError = validateName.validate({\r\n                    name: e.target.value,\r\n                  }).error;\r\n                  if (nameError) {\r\n                    this.setState({\r\n                      nameError: nameError.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ nameError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.nameError}</Error>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"description\">Description</Label>\r\n              <TextArea\r\n                name=\"description\"\r\n                onChange={this.onDescriptionChange}\r\n                value={this.state.description}\r\n                error={this.state.descriptionError}\r\n                onBlur={(e) => {\r\n                  let descriptionError = validateDescription.validate({\r\n                    description: e.target.value,\r\n                  }).error;\r\n                  if (descriptionError) {\r\n                    this.setState({\r\n                      descriptionError: descriptionError.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ descriptionError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.descriptionError}</Error>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"location\">Address</Label>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"location\"\r\n                onChange={this.onTermChange}\r\n                value={this.state.term}\r\n                error={this.state.locationError}\r\n                onBlur={(e) => {\r\n                  let locationError = validateLocation.validate({\r\n                    location: e.target.value,\r\n                  }).error;\r\n                  if (locationError) {\r\n                    this.setState({\r\n                      locationError: locationError.details[0].message,\r\n                    });\r\n                  } else if (this.props.addresses.length !== 0) {\r\n                    this.setState({ locationError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.locationError}</Error>\r\n            </div>\r\n            {this.props.addresses.length > 0 && this.renderAdressDropdown()}\r\n            <div>\r\n              <Label htmlFor=\"image\">Upload images</Label>\r\n              <Input\r\n                style={{ backgroundColor: \"#F9FAFB\" }}\r\n                onChange={this.onImageChange}\r\n                type=\"file\"\r\n                name=\"images\"\r\n                multiple\r\n              />\r\n              <Error>{this.state.imagesError}</Error>\r\n            </div>\r\n            <Button type=\"submit\">\r\n              {this.state.loading && <LoadingRing />}\r\n               Submit Attraction\r\n            </Button>\r\n          </form>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return <MainContainer>{this.renderForm()}</MainContainer>;\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ addresses, user, flashMessage }) => {\r\n    return { addresses, user, message: flashMessage.data };\r\n  },\r\n  { createAttraction, getAdresses, isLoggedIn }\r\n)(Create);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(4, 1fr);\r\n  row-gap: 4rem;\r\n  column-gap: 4rem;\r\n  margin-top: 64px;\r\n  width: 90%;\r\n  margin: 0 auto;\r\n  margin-top: 4.8rem;\r\n  justify-items: center;\r\n  /* white-space: nowrap; */\r\n\r\n  @media (max-width: 1024px) {\r\n    grid-template-columns: repeat(3, 1fr);\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n  @media (max-width: 600px) {\r\n    grid-template-columns: repeat(1, 1fr);\r\n  }\r\n`;\r\n\r\nexport const AttractionImg = styled.img`\r\n  width: 100%;\r\n  height: 16rem;\r\n  object-fit: cover;\r\n  transition: all 0.6s;\r\n`;\r\nexport const AttractionCard = styled.figure`\r\n  @keyframes moveDown {\r\n    0% {\r\n      opacity: 0;\r\n      transform: translateY(-1rem);\r\n    }\r\n\r\n    100% {\r\n      opacity: 1;\r\n      transform: translateY(0);\r\n    }\r\n  }\r\n\r\n  width: 24rem;\r\n  background-color: rgba(255, 255, 255, 0.8);\r\n  overflow: hidden;\r\n  cursor: pointer;\r\n  align-self: start;\r\n  transition: all 0.3s;\r\n  justify-content: space-between;\r\n  box-shadow: 0 0.2rem 2rem rgba(0, 0, 0, 0.15);\r\n\r\n  z-index: 10;\r\n  animation: moveDown 1s;\r\n  .link {\r\n    text-decoration: none;\r\n  }\r\n\r\n  &:hover {\r\n    transform: translateY(-7px);\r\n    box-shadow: 0 0.2rem 4rem rgba(0, 0, 0, 0.2);\r\n\r\n    ${AttractionImg} {\r\n      transform: scale(1.05);\r\n    }\r\n  }\r\n`;\r\n\r\nexport const CardContent = styled.div`\r\n  padding: 2rem;\r\n  font-size: 1.6rem;\r\n  align-self: start;\r\n\r\n  .name {\r\n    text-decoration: none;\r\n    color: #065f46;\r\n    margin-bottom: 0.6rem;\r\n    font-size: 2.5rem;\r\n    font-weight: 500;\r\n  }\r\n  .subtitle {\r\n    font-family: \"Times New Roman\", Times, serif;\r\n    text-transform: lowercase;\r\n    color: black;\r\n    font-size: 1.8rem;\r\n    font-weight: 500;\r\n    hyphens: auto;\r\n    line-height: 2.2rem;\r\n  }\r\n\r\n  .subtitle::first-letter {\r\n    text-transform: uppercase;\r\n  }\r\n`;\r\n\r\nexport const CenterButton = styled.div`\r\n  width: 40rem;\r\n  margin: 2.4rem auto;\r\n`;\r\nexport const Button = styled.button`\r\n  width: 100%;\r\n  color: white;\r\n  background-color: #065f46;\r\n  border: none;\r\n  border-radius: 100px;\r\n  font-size: 2.5rem;\r\n  transition: all 300ms;\r\n  padding: 1.2rem 2.4rem;\r\n  text-transform: uppercase;\r\n  white-space: nowrap;\r\n  letter-spacing: 0.15rem;\r\n  box-shadow: 0 1rem 1rem rgba(0, 0, 0, 0.15);\r\n  transition: all 0.3s;\r\n\r\n  &:hover {\r\n    background-color: #064e3b;\r\n    box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.3);\r\n    transform: translateY(-0.4rem);\r\n\r\n  }\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  position: relative;\r\n  font-size: 4.2rem;\r\n  color: #212529;\r\n  margin: 4rem 0 10rem 0;\r\n  color: #065f46;\r\n  letter-spacing: 3px;\r\n  text-transform: uppercase;\r\n  animation: moveDown 1s;\r\n`;\r\n\r\nexport const CenterText = styled.div`\r\n  text-align: center;\r\n`;\r\n\r\nexport const FlashMessage = styled.p`\r\n  position: absolute;\r\n  font-size: 1.8rem;\r\n  color: #064e3b;\r\n  top: 0;\r\n  right: 50%;\r\n  background-color: #d1fae5;\r\n  padding: 1.2rem;\r\n  border-radius: 1rem;\r\n  transform: translate(50%, 6.5rem);\r\n`;\r\n\r\nexport const ContinueBtn = styled.button`\r\nborder: none;\r\n  text-decoration: none;\r\n  color: white;\r\n  padding: 0.7rem 1.8rem;\r\n  margin-left: 0.5rem;\r\n  background-color: #065f46;\r\n  font-family: \"Lato\";\r\n  white-space: nowrap;\r\n  margin-top: 0.4rem;\r\n  display: inline-block;\r\n  text-transform: uppercase;\r\n  border-radius: 10rem;\r\n  box-shadow: 0 1rem 1rem rgba(0, 0, 0, 0.15);\r\n  transition: all 0.3s;\r\n  letter-spacing: 0.5px;\r\n\r\n  &:hover {\r\n    background-color: #064e3b;\r\n    color: white;\r\n    transform: translateY(-0.4rem);\r\n    box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.3);\r\n  }\r\n`;\r\n","import styled from \"styled-components\";\r\nimport {\r\n  IoFlagSharp,\r\n  IoStarSharp,\r\n  IoListSharp,\r\n  IoArrowBackSharp,\r\n  IoArrowForwardSharp,\r\n  IoPersonCircleSharp,\r\n  IoCloseSharp,\r\n} from \"react-icons/io5\";\r\n\r\nexport const Header = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  row-gap: 4.8rem;\r\n  margin-top: 3.2rem;\r\n  margin-bottom: 4.8rem;\r\n  animation: moveDown 1s;\r\n  align-items: center;\r\n\r\n  @media (max-width: 980px) {\r\n    grid-template-columns: 1fr;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  font-size: 4.8rem;\r\n  color: #065f46;\r\n  position: relative;\r\n  .location {\r\n    font-size: 2rem;\r\n    margin-top: 1rem;\r\n    margin-bottom: 1.6rem;\r\n  }\r\n`;\r\n\r\nexport const TitleContainer = styled.div`\r\n  @media (max-width: 900px) {\r\n    justify-self: center;\r\n  }\r\n`;\r\n\r\nexport const BtnsContainer = styled.div`\r\n  justify-self: right;\r\n\r\n  @media (max-width: 900px) {\r\n    justify-self: center;\r\n  }\r\n`;\r\n\r\nexport const Btn = styled.button`\r\n  padding: 1.2rem;\r\n  border: none;\r\n  background-color: white;\r\n  color: #065f46;\r\n  background-color: #f7f7f7;\r\n\r\n  .number {\r\n    font-size: 1.8rem;\r\n    font-weight: bold;\r\n  }\r\n\r\n  .text {\r\n    font-size: 1.4rem;\r\n    font-weight: bold;\r\n    text-transform: uppercase;\r\n    letter-spacing: 0.7px;\r\n  }\r\n\r\n  &:hover {\r\n    color: #10b981;\r\n  }\r\n`;\r\n\r\nexport const Flag = styled(IoFlagSharp)`\r\n  color: inherit;\r\n  font-size: 1.5rem;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nexport const Star = styled(IoStarSharp)`\r\n  color: inherit;\r\n  font-size: 2rem;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nexport const List = styled(IoListSharp)`\r\n  color: inherit;\r\n  font-size: 2rem;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nexport const ImgsWrapper = styled.div`\r\n  position: relative;\r\n  animation: movedown 1s;\r\n`;\r\n\r\nexport const ImgsContainer = styled.div`\r\n  display: flex;\r\n  overflow: hidden;\r\n  gap: 1rem;\r\n  margin-bottom: 5rem;\r\n  position: relative;\r\n`;\r\n\r\nexport const Img = styled.img`\r\n  height: 40rem;\r\n  width: auto;\r\n  transition: all 0.5s;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const ModalImg = styled.img`\r\n  height: 60rem;\r\n  width: auto;\r\n  transition: all 0.5s;\r\n  cursor: auto;\r\n\r\n  @media (max-width: 800px) {\r\n    height: 50rem;\r\n  }\r\n\r\n  @media (max-width: 550px) {\r\n    height: 35rem;\r\n  }\r\n\r\n  @media (max-width: 400px) {\r\n    height: 25rem;\r\n  }\r\n`;\r\n\r\nexport const CloseModalIcon = styled(IoCloseSharp)`\r\n  position: absolute;\r\n  right: -6rem;\r\n  top: -6rem;\r\n  font-size: 5rem;\r\n  color: #065f46;\r\n  cursor: auto;\r\n`;\r\n\r\nexport const LeftBtn = styled(IoArrowBackSharp)`\r\n  position: absolute;\r\n  left: -7rem;\r\n  top: 50%;\r\n  z-index: 10;\r\n  cursor: pointer;\r\n  font-size: 5rem;\r\n  transform: translate(0, -50%);\r\n  color: #065f46;\r\n  &:hover {\r\n    color: #10b981;\r\n  }\r\n\r\n\r\n  @media (max-width: 768px) {\r\n    font-size: 3rem;\r\n    left: -4rem;\r\n  }\r\n`;\r\n\r\nexport const RightBtn = styled(IoArrowForwardSharp)`\r\n  position: absolute;\r\n  right: -7rem;\r\n  top: 50%;\r\n  z-index: 10;\r\n  font-size: 5rem;\r\n  transform: translate(0, -50%);\r\n  cursor: pointer;\r\n  color: #065f46;\r\n\r\n  &:hover {\r\n    color: #10b981;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    font-size: 3rem;\r\n    right: -4rem;\r\n  }\r\n`;\r\n\r\nexport const BodyContainer = styled.div`\r\n  background-color: #ecfdf5;\r\n`;\r\n\r\nexport const SmallContainer = styled.div`\r\n  width: 80%;\r\n  display: grid;\r\n  grid-template-columns: 3fr 1fr;\r\n  column-gap: 3rem;\r\n  padding: 6.4rem;\r\n  margin: 0 auto;\r\n\r\n  @media (max-width: 1024px) {\r\n    grid-template-columns: 1fr;\r\n    justify-items: center;\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nexport const Description = styled.p`\r\n  font-size: 2rem;\r\n  font-family: \"IBM Plex Serif\", serif;\r\n  line-height: 1.5;\r\n  color: #111827;\r\n  margin-bottom: 4.8rem;\r\n  /* word-break: break-all; */\r\n  @media (max-width: 1024px) {\r\n    font-size: 1.8rem;\r\n  }\r\n`;\r\n\r\nexport const AddReview = styled.div`\r\n  width: 60%;\r\n  grid-column: 1 / -1;\r\n  margin-bottom: 4.8rem;\r\n  margin-top: 2.5rem;\r\n  @media (max-width: 900px) {\r\n    width: 100%;\r\n    align-self: center;\r\n    text-align: center;\r\n  }\r\n`;\r\n\r\nexport const TextArea = styled.textarea`\r\n  background-color: #f9fafb;\r\n  width: 100%;\r\n  display: block;\r\n  margin-bottom: 1.2rem;\r\n  border: none;\r\n  padding: 1.2rem;\r\n  outline: none;\r\n  border: ${({ error }) => (error ? \"1px solid red\" : \"none\")};\r\n  &:focus {\r\n    box-shadow: 0 0 0 1px #065f46;\r\n  }\r\n`;\r\n\r\nexport const ReviewButton = styled.button`\r\n  width: 100%;\r\n  padding: 1.2rem;\r\n  border: none;\r\n  background-color: #065f46;\r\n  color: #fff;\r\n  transition: all 0.3s;\r\n  border-radius: 10rem;\r\n  text-transform: uppercase;\r\n  &:hover {\r\n    background-color: #064e3b;\r\n  }\r\n`;\r\nexport const Stars = styled.div`\r\n  margin: 1.2rem 0;\r\n`;\r\n\r\nexport const Face = styled(IoPersonCircleSharp)`\r\n  color: #065f46;\r\n  font-size: 5rem;\r\n`;\r\n\r\nexport const Author = styled.div`\r\n  display: flex;\r\n  gap: 0.6rem;\r\n  align-items: center;\r\n  .name {\r\n    font-weight: bold;\r\n    margin: 0;\r\n    font-size: 1.7rem;\r\n  }\r\n\r\n  @media (max-width: 900px) {\r\n    text-align: center;\r\n  }\r\n`;\r\n\r\nexport const DeleteButton = styled.button`\r\n  margin-left: 1rem;\r\n  border: none;\r\n  background-color: #065f46;\r\n  padding: 0.8rem 1.6rem;\r\n  color: white;\r\n  border-radius: 10rem;\r\n`;\r\n\r\nexport const CenterText = styled.div`\r\n  text-align: left;\r\n  @media (max-width: 900px) {\r\n    text-align: center;\r\n  }\r\n`;\r\n\r\nexport const Reviews = styled.div`\r\n  .title {\r\n    font-size: 4rem;\r\n    margin-bottom: 2.5rem;\r\n  }\r\n`;\r\nexport const Review = styled.div`\r\n  margin-bottom: 4.8rem;\r\n  .content {\r\n    font-size: 2rem;\r\n    line-height: 1.3;\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    /* letter-spacing: 0.01px; */\r\n  }\r\n`;\r\n\r\nexport const MapContainer = styled.div`\r\n  border: 2px solid #065f46;\r\n  padding: 1rem;\r\n  align-self: start;\r\n  border-radius: 10px;\r\n  margin-bottom: 3rem;\r\n`;\r\n\r\nexport const Delete = styled.button`\r\n  background-color: #f87171;\r\n  border: none;\r\n  padding: 0.8rem 1.6rem;\r\n  color: black;\r\n  border-radius: 10rem;\r\n`;\r\n\r\nexport const Edit = styled.button`\r\n  background-color: #fde68a;\r\n  border: none;\r\n  padding: 0.8rem 1.6rem;\r\n  margin-right: 2rem;\r\n  border-radius: 10rem;\r\n  .link {\r\n    text-decoration: none;\r\n    color: black;\r\n  }\r\n`;\r\n\r\nexport const Label = styled.p`\r\n  font-size: 2.5rem;\r\n  margin-bottom: 3rem;\r\n  font-weight: bold;\r\n`;\r\n\r\nexport const LoginButton = styled.button`\r\n  padding: 1.2rem 3rem;\r\n  border: none;\r\n  background-color: #065f46;\r\n  transition: all 0.3s;\r\n  margin-right: 3rem;\r\n  margin-left: 1rem;\r\n  border-radius: 10rem;\r\n  text-transform: uppercase;\r\n  .link {\r\n    color: #fff;\r\n    text-decoration: none;\r\n  }\r\n\r\n  &:hover {\r\n    background-color: #064e3b;\r\n  }\r\n`;\r\n\r\nexport const RegisterButton = styled.button`\r\n  padding: 1.2rem 3rem;\r\n  border: none;\r\n  background-color: #d1fae5;\r\n  transition: all 0.3s;\r\n  border-radius: 10rem;\r\n  text-transform: uppercase;\r\n\r\n  .link {\r\n    color: #064e3b;\r\n    text-decoration: none;\r\n  }\r\n\r\n  &:hover {\r\n    background-color: #a7f3d0;\r\n  }\r\n`;\r\n\r\nexport const FlashMessage = styled.p`\r\n  position: absolute;\r\n  font-size: 1.8rem;\r\n  color: #064e3b;\r\n  top: -25px;\r\n  left: 50%;\r\n  transform: translateX(50%);\r\n  background-color: #d1fae5;\r\n  padding: 1rem;\r\n  border-radius: 1rem;\r\n  white-space: nowrap;\r\n`;\r\n\r\nexport const Rating = styled.div`\r\n  margin: 0;\r\n  margin-bottom: 1.5rem;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 1rem;\r\n`;\r\n\r\nexport const RatingsNumber = styled.p`\r\n  color: #064e3b;\r\n  margin-bottom: 0;\r\n  padding: 0;\r\n\r\n  .text {\r\n    font-size: 1.8rem;\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport _ from \"lodash\";\r\nimport {\r\n  Container,\r\n  AttractionCard,\r\n  AttractionImg,\r\n  CardContent,\r\n  CenterButton,\r\n  Button,\r\n  CenterText,\r\n  Title,\r\n  FlashMessage,\r\n  ContinueBtn,\r\n} from \"../styledComponents/attractionsList\";\r\n\r\nimport {\r\n  getAttractions,\r\n  getAllAttractions,\r\n  getAttractionCount,\r\n} from \"../../actions\";\r\nimport { MainContainer } from \"../styledComponents/general\";\r\nimport { Rating} from \"../styledComponents/attractionDetails\";\r\nimport StarRatings from \"react-star-ratings\";\r\n\r\nclass AttractionsList extends React.Component {\r\n  state = {\r\n    buttonVisibilty: \"\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.getAttractions();\r\n    this.props.getAttractionCount();\r\n  }\r\n\r\n  renderAttractions = () => {\r\n    if (!this.props.attractions) return \"\";\r\n    return (\r\n      <Container>\r\n        {this.props.attractions.map(\r\n          ({ name, description, _id, images, averageRating, reviews }) => {\r\n            return (\r\n              <AttractionCard key={_id}>\r\n                <Link\r\n                  style={{ textDecoration: \"none\" }}\r\n                  to={`/attractions/${_id}`}\r\n                >\r\n                  <AttractionImg src={images[0].url} alt=\"pic\" />\r\n                  <CardContent>\r\n                    <p className=\"name\">{name}</p>\r\n                    <Rating>\r\n                      <StarRatings\r\n                        rating={averageRating}\r\n                        starDimension=\"1.8rem\"\r\n                        starSpacing=\"1px\"\r\n                        starRatedColor=\"#065f46\"\r\n                      />\r\n                    </Rating>\r\n                    <p className=\"subtitle\">\r\n                      {description.split(/\\s+/).slice(0, 16).join(\" \")}...\r\n                    </p>\r\n                    <CenterText>\r\n                      <ContinueBtn>Read More &#8594;</ContinueBtn>\r\n                    </CenterText>\r\n                  </CardContent>\r\n                </Link>\r\n              </AttractionCard>\r\n            );\r\n          }\r\n        )}\r\n      </Container>\r\n    );\r\n  };\r\n\r\n  renderGetAllButton = () => {\r\n    if (\r\n      !this.props.attractions ||\r\n      this.props.count <= 8 ||\r\n      this.props.attractions.length > 8\r\n    )\r\n      return \"\";\r\n    return (\r\n      <Button\r\n        style={{ visibility: this.state.buttonVisibilty }}\r\n        onClick={() => {\r\n          this.props.getAllAttractions();\r\n          this.setState({ buttonVisibilty: \"hidden\" });\r\n        }}\r\n      >\r\n        See All {this.props.count} Attractions\r\n      </Button>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <MainContainer>\r\n        <CenterText>\r\n          <Title>\r\n            All the places in London\r\n            {this.props.flashMessage && (\r\n              <FlashMessage>{this.props.flashMessage}</FlashMessage>\r\n            )}\r\n          </Title>\r\n        </CenterText>\r\n        {this.renderAttractions()}\r\n        <br />\r\n        <CenterButton>{this.renderGetAllButton()}</CenterButton>\r\n      </MainContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ attractions, attractionsCount, flashMessage }) => {\r\n    return {\r\n      attractions: _.values(attractions),\r\n      count: attractionsCount.count,\r\n      flashMessage: flashMessage.data,\r\n    };\r\n  },\r\n  { getAttractions, getAllAttractions, getAttractionCount }\r\n)(AttractionsList);\r\n","import React, { Component } from \"react\";\r\nimport GoogleMapReact from \"google-map-react\";\r\n\r\n\r\n\r\nconst Marker = () => (\r\n  <div>\r\n    <img style={{transform: \"translate(0,-100%)\"}} alt=\"marker\" src=\"/marker.png\" height=\"20px\" width=\"20px\" />\r\n  </div>\r\n);\r\nclass Map extends Component {\r\n  render() {\r\n    if (!this.props.geocode) return \"\";\r\n\r\n    return (\r\n      <div style={{ height: \"40rem\", width: \"40rem\" }}>\r\n        <GoogleMapReact\r\n          bootstrapURLKeys={{ key: process.env.REACT_APP_GOOGLE_MAPS_API_KEY }}\r\n          defaultCenter={this.props.geocode}\r\n          defaultZoom={11}\r\n        >\r\n          <Marker\r\n            lat={this.props.geocode.lat}\r\n            lng={this.props.geocode.lng}\r\n            \r\n          />\r\n        </GoogleMapReact>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Map;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Title = styled.h1`\r\n  position: fixed;\r\n  font-weight: bold;\r\n  white-space: nowrap;\r\n  text-transform: uppercase;\r\n  letter-spacing: 1.1px;\r\n  font-size: 4rem;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n`;\r\n","import Joi from \"joi\";\r\n\r\nconst schema = Joi.object({\r\n  content: Joi.string().required(),\r\n});\r\n\r\nexport default schema;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Map from \"../Map\";\r\nimport StarRatings from \"react-star-ratings\";\r\nimport Modal from \"react-modal\";\r\nimport { Title as AttractionNotFound } from \"../styledComponents/pageNotFound\";\r\n\r\nimport {\r\n  getAttraction,\r\n  addAttractionReview,\r\n  deleteAttrationReview,\r\n  addToWantToVisit,\r\n  addToBeenThere,\r\n  addToList,\r\n  deleteAttraction,\r\n  getUserAttractions,\r\n  removeFromList,\r\n} from \"../../actions\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  AddReview,\r\n  Author,\r\n  BodyContainer,\r\n  Btn,\r\n  BtnsContainer,\r\n  Delete,\r\n  DeleteButton,\r\n  Description,\r\n  Edit,\r\n  Face,\r\n  Flag,\r\n  FlashMessage,\r\n  Header,\r\n  Img,\r\n  ImgsContainer,\r\n  ImgsWrapper,\r\n  Label,\r\n  LeftBtn,\r\n  List,\r\n  LoginButton,\r\n  MapContainer,\r\n  Rating,\r\n  RatingsNumber,\r\n  RegisterButton,\r\n  Review,\r\n  ReviewButton,\r\n  Reviews,\r\n  CenterText,\r\n  RightBtn,\r\n  SmallContainer,\r\n  Star,\r\n  Stars,\r\n  TextArea,\r\n  Title,\r\n  TitleContainer,\r\n  CloseModalIcon,\r\n  ModalImg,\r\n} from \"../styledComponents/attractionDetails\";\r\nimport validateReview from \"../../validation/validateReview\";\r\nimport { MainContainer } from \"../styledComponents/general\";\r\nimport history from \"../../history\";\r\nimport { Error } from \"../styledComponents/authPage\";\r\n\r\nModal.setAppElement(\"#root\");\r\n\r\nclass AttractionDetails extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      review: \"\",\r\n      stars: 0,\r\n      reviewError: \"\",\r\n      scroll: false,\r\n      modalIsOpen: false,\r\n      currentImage: 0,\r\n      loadedImages: 0,\r\n      widths: [],\r\n    };\r\n\r\n    this.imgsContainer = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getAttraction(this.props.match.params.id);\r\n    if (this.props.user.loggedIn) this.props.getUserAttractions();\r\n    window.scrollTo(0, 0);\r\n  }\r\n\r\n  renderScrollButtons = () => {\r\n    let container = this.imgsContainer.current;\r\n    if (this.props.attraction && container) {\r\n  \r\n      let imagesLength = this.props.attraction.images.length;\r\n\r\n      let images = [...container.querySelectorAll(\"Img\")];\r\n      let widths = [];\r\n      for (let i = 0; i < images.length; i++) {\r\n        widths.push(images[i].clientWidth);\r\n      }\r\n      \r\n\r\n\r\n      if (\r\n        this.state.loadedImages === imagesLength &&\r\n        container.scrollWidth > container.clientWidth\r\n      ) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  };\r\n\r\n  renderReviews = () => {\r\n    if (this.props.attraction.reviews.length < 1) return \"\";\r\n\r\n    return (\r\n      <Reviews>\r\n        <CenterText>\r\n          <h3 className=\"title\">Reviews</h3>\r\n        </CenterText>\r\n        <ul>\r\n          {this.props.attraction.reviews.map(\r\n            ({ content, _id, stars, author }) => {\r\n              return (\r\n                <Review key={_id}>\r\n                  <Author>\r\n                    <Face />\r\n                    <p className=\"name\">{author.username}</p>\r\n                    {this.props.user.loggedIn &&\r\n                      this.props.user.id === author._id && (\r\n                        <DeleteButton\r\n                          onClick={() => {\r\n                            this.props.deleteAttrationReview({\r\n                              attractionId: this.props.attraction._id,\r\n                              reviewId: _id,\r\n                            });\r\n                          }}\r\n                        >\r\n                          delete\r\n                        </DeleteButton>\r\n                      )}\r\n                  </Author>\r\n\r\n                  <Rating>\r\n                    <StarRatings\r\n                      rating={stars}\r\n                      starDimension=\"16px\"\r\n                      starSpacing=\"2px\"\r\n                      starRatedColor=\"#065f46\"\r\n                    />\r\n                  </Rating>\r\n                  <p className=\"content\">{content}</p>\r\n                </Review>\r\n              );\r\n            }\r\n          )}\r\n        </ul>\r\n      </Reviews>\r\n    );\r\n  };\r\n\r\n  changeRating = (stars) => {\r\n    this.setState({ stars });\r\n  };\r\n\r\n  renderAddReview = () => {\r\n    if (!this.props.user.loggedIn) {\r\n      return (\r\n        <AddReview>\r\n          <Label>Log in or Signup to leave a review</Label>\r\n\r\n          <LoginButton>\r\n            <Link className=\"link\" to=\"/login\">\r\n              Login\r\n            </Link>\r\n          </LoginButton>\r\n          <RegisterButton>\r\n            <Link className=\"link\" to=\"/register\">\r\n              SIGN UP\r\n            </Link>\r\n          </RegisterButton>\r\n        </AddReview>\r\n      );\r\n    }\r\n\r\n    let handleSubmitReview = (e) => {\r\n      e.preventDefault();\r\n      let attractionId = this.props.attraction._id;\r\n\r\n      let reviewError = validateReview.validate({\r\n        content: this.state.review,\r\n      }).error;\r\n\r\n      if (!reviewError) {\r\n        this.props.addAttractionReview({\r\n          attractionId,\r\n          content: this.state.review,\r\n          stars: this.state.stars,\r\n        });\r\n        this.setState({ review: \"\", stars: 0 });\r\n        this.setState({ reviewError: \"\" });\r\n      } else {\r\n        this.setState({ reviewError: reviewError.details[0].message });\r\n      }\r\n    };\r\n\r\n    return (\r\n      <AddReview>\r\n        <form onSubmit={handleSubmitReview} method=\"post\">\r\n          <div>\r\n            <Label>How was your experience?</Label>\r\n\r\n            <Stars>\r\n              <StarRatings\r\n                rating={this.state.stars}\r\n                starRatedColor=\" #065f46\"\r\n                changeRating={this.changeRating}\r\n                numberOfStars={5}\r\n                name=\"rating\"\r\n                starHoverColor=\" #065f46\"\r\n                starDimension=\"32px\"\r\n              />\r\n            </Stars>\r\n          </div>\r\n          <TextArea\r\n            className=\"text-area\"\r\n            value={this.state.review}\r\n            error={this.state.reviewError}\r\n            onChange={(e) => {\r\n              this.setState({ review: e.target.value });\r\n            }}\r\n            name=\"review\"\r\n            id=\"review\"\r\n            cols=\"30\"\r\n            rows=\"10\"\r\n          ></TextArea>\r\n          <Error>{this.state.reviewError}</Error>\r\n          <ReviewButton type=\"submit\">Add Review</ReviewButton>\r\n        </form>\r\n      </AddReview>\r\n    );\r\n  };\r\n\r\n  renderDeleteButton = () => {\r\n    if (\r\n      !this.props.user ||\r\n      this.props.user.id !== this.props.attraction.addedBy\r\n    )\r\n      return \"\";\r\n    return (\r\n      <Delete\r\n        variant=\"danger\"\r\n        onClick={() => {\r\n          this.props.deleteAttraction(this.props.attraction._id);\r\n        }}\r\n      >\r\n        Delete\r\n      </Delete>\r\n    );\r\n  };\r\n\r\n  renderEditButton = () => {\r\n    if (\r\n      !this.props.user.loggedIn ||\r\n      this.props.user.id !== this.props.attraction.addedBy\r\n    )\r\n      return \"\";\r\n    return (\r\n      <Edit variant=\"warning\">\r\n        <Link\r\n          className=\"link\"\r\n          to={`/attractions/${this.props.attraction._id}/edit`}\r\n        >\r\n          Edit\r\n        </Link>\r\n      </Edit>\r\n    );\r\n  };\r\n\r\n  isOnList = () => {\r\n    if (\r\n      this.props.user.list &&\r\n      this.props.user.list.some(\r\n        (attraction) => attraction._id === this.props.attraction._id\r\n      )\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  renderAddToListButton = (_id) => {\r\n    if (!this.props.user.loggedIn) {\r\n      return (\r\n        <Btn\r\n          onClick={() => {\r\n            this.props.addToList(_id);\r\n          }}\r\n        >\r\n          <List />\r\n          <p className=\"text\">Add to List</p>\r\n        </Btn>\r\n      );\r\n    } else {\r\n      if (this.isOnList()) {\r\n        return (\r\n          <Btn\r\n            onClick={() => {\r\n              this.props.removeFromList(_id);\r\n            }}\r\n          >\r\n            <List />\r\n            <p className=\"text\">Remove </p>\r\n          </Btn>\r\n        );\r\n      } else {\r\n        return (\r\n          <Btn\r\n            onClick={() => {\r\n              this.props.addToList(_id);\r\n            }}\r\n          >\r\n            <List />\r\n            <p className=\"text\">Add to List</p>\r\n          </Btn>\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  renderButtons = (_id) => {\r\n    let { visited, wantToVisit } = this.props.attraction;\r\n    return (\r\n      <BtnsContainer\r\n        onClick={() => {\r\n          if (!this.props.user.loggedIn) history.push(\"/login\");\r\n        }}\r\n      >\r\n        <Btn\r\n          onClick={() => {\r\n            this.props.addToWantToVisit(_id);\r\n          }}\r\n        >\r\n          <Star />\r\n          <p className=\"text\">Want to Vist</p>\r\n          <p className=\"number\">{wantToVisit}</p>\r\n        </Btn>\r\n        <Btn\r\n          onClick={() => {\r\n            this.props.addToBeenThere(_id);\r\n          }}\r\n        >\r\n          <Flag />\r\n          <p className=\"text\">Been Here?</p>\r\n          <p className=\"number\">{visited}</p>\r\n        </Btn>\r\n\r\n        {this.renderAddToListButton(_id)}\r\n      </BtnsContainer>\r\n    );\r\n  };\r\n\r\n  openModal = () => {\r\n    this.setState({ modalIsOpen: true });\r\n    document.body.style.overflow = \"hidden\";\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.setState({ modalIsOpen: false });\r\n    document.body.style.overflow = \"unset\";\r\n  };\r\n\r\n  renderImageModal = () => {\r\n    const customStyles = {\r\n      content: {\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        right: \"auto\",\r\n        bottom: \"auto\",\r\n        marginRight: \"-50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        padding: 0,\r\n        overflow: \"visible\",\r\n      },\r\n      overlay: { zIndex: 1000 },\r\n    };\r\n\r\n    return (\r\n      <div>\r\n        <Modal style={customStyles} isOpen={this.state.modalIsOpen}>\r\n          <CloseModalIcon onClick={this.closeModal} />\r\n          <ModalImg src={this.state.currentImage} />\r\n        </Modal>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderImages = (images) => {\r\n    if (images.length > 0) {\r\n      return images.map(({ url, public_id }) => {\r\n        return (\r\n          <Img\r\n            onClick={() => {\r\n              this.setState({ currentImage: url });\r\n              this.openModal();\r\n            }}\r\n            key={public_id}\r\n            src={url}\r\n            alt={public_id}\r\n            onLoad={() => {\r\n              let loadedImages = this.state.loadedImages;\r\n              this.setState({ loadedImages: loadedImages + 1 });\r\n            }}\r\n          />\r\n        );\r\n      });\r\n    }\r\n\r\n    return \"\";\r\n  };\r\n  sideScroll(element, speed, distance, step) {\r\n    let scrollAmount = 0;\r\n    const slideTimer = setInterval(() => {\r\n      element.scrollLeft += step;\r\n      scrollAmount += Math.abs(step);\r\n      if (scrollAmount >= distance) {\r\n        clearInterval(slideTimer);\r\n      }\r\n    }, speed);\r\n  }\r\n\r\n  renderAttraction = () => {\r\n    if (this.props.attraction) {\r\n      let {\r\n        name,\r\n        description,\r\n        images,\r\n        location,\r\n        _id,\r\n        geocode,\r\n        averageRating,\r\n        reviews,\r\n      } = this.props.attraction;\r\n      return (\r\n        <div>\r\n          <MainContainer>\r\n            {this.renderImageModal()}\r\n            <Header>\r\n              <TitleContainer>\r\n                <Title>\r\n                  {name} <p className=\"location\">{location}</p>\r\n                  {this.props.flashMessage && (\r\n                    <FlashMessage>{this.props.flashMessage}</FlashMessage>\r\n                  )}\r\n                </Title>\r\n                <Rating>\r\n                  <StarRatings\r\n                    rating={averageRating}\r\n                    starDimension=\"1.8rem\"\r\n                    starSpacing=\"2px\"\r\n                    starRatedColor=\"#065f46\"\r\n                  />\r\n                  <RatingsNumber>\r\n                    <span className=\"text\">\r\n                      {reviews.length}{\" \"}\r\n                      {`${\r\n                        reviews.length > 1 || reviews.length === 0\r\n                          ? \"ratings\"\r\n                          : \"rating\"\r\n                      }`}\r\n                    </span>\r\n                  </RatingsNumber>\r\n                </Rating>\r\n                {this.renderEditButton(_id)}\r\n                {this.renderDeleteButton()}\r\n              </TitleContainer>\r\n\r\n              {this.renderButtons(_id)}\r\n            </Header>\r\n\r\n            <ImgsWrapper>\r\n              {this.renderScrollButtons() && (\r\n                <LeftBtn\r\n                  onClick={() => {\r\n                    this.sideScroll(this.imgsContainer.current, 7, 300, -20);\r\n                  }}\r\n                ></LeftBtn>\r\n              )}\r\n\r\n              {this.renderScrollButtons() && (\r\n                <RightBtn\r\n                  onClick={() => {\r\n                    this.sideScroll(this.imgsContainer.current, 7, 300, 20);\r\n                  }}\r\n                ></RightBtn>\r\n              )}\r\n              <div style={{ transform: \" translate(0, 0)\" }}>\r\n                <ImgsContainer ref={this.imgsContainer}>\r\n                  {this.renderImages(images)}\r\n                </ImgsContainer>\r\n              </div>\r\n            </ImgsWrapper>\r\n          </MainContainer>\r\n          <BodyContainer>\r\n            <SmallContainer>\r\n              <Description>{description}</Description>\r\n              <MapContainer>\r\n                <Map geocode={geocode} />\r\n              </MapContainer>\r\n\r\n              {this.renderAddReview()}\r\n              {this.renderReviews()}\r\n            </SmallContainer>\r\n          </BodyContainer>\r\n        </div>\r\n      );\r\n    } else {\r\n      return <AttractionNotFound>Attraction not found</AttractionNotFound>;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return <div>{this.renderAttraction()}</div>;\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ attractions, user, flashMessage }, ownProps) => {\r\n    return {\r\n      attraction: attractions[ownProps.match.params.id],\r\n      user,\r\n      flashMessage: flashMessage.data,\r\n    };\r\n  },\r\n  {\r\n    getAttraction,\r\n    addAttractionReview,\r\n    deleteAttrationReview,\r\n    addToWantToVisit,\r\n    addToBeenThere,\r\n    addToList,\r\n    deleteAttraction,\r\n    getUserAttractions,\r\n    removeFromList,\r\n  }\r\n)(AttractionDetails);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getUserAttractions } from \"../../actions\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { MainContainer } from \"../styledComponents/general\";\r\nimport history from \"../../history\";\r\n\r\nimport {\r\n  Container as ListWrapper,\r\n  AttractionCard,\r\n  AttractionImg,\r\n  CardContent,\r\n  Title,\r\n  ContinueBtn,\r\n} from \"../styledComponents/attractionsList\";\r\nimport { CenterText, Rating } from \"../styledComponents/attractionDetails\";\r\nimport StarRatings from \"react-star-ratings\";\r\n\r\nclass MyAttractions extends React.Component {\r\n  componentDidMount() {\r\n    if (this.props.user && this.props.user.loggedIn)\r\n      this.props.getUserAttractions();\r\n  }\r\n\r\n  renderAttractions = (attractions) => {\r\n    if (!attractions || attractions.length === 0) {\r\n      return <p style={{ fontSize: \"25px\" }}>Nothing yet</p>;\r\n    }\r\n    return (\r\n      <ListWrapper>\r\n        {attractions.map(\r\n          ({ name, description, _id, images, averageRating }) => {\r\n            return (\r\n              <AttractionCard key={_id}>\r\n                <Link\r\n                  style={{ textDecoration: \"none\" }}\r\n                  to={`/attractions/${_id}`}\r\n                >\r\n                  <AttractionImg src={images[0].url} alt=\"pic\" />\r\n                  <CardContent>\r\n                    {<p className=\"name\">{name}</p>}\r\n                    <Rating>\r\n                      <StarRatings\r\n                        rating={averageRating}\r\n                        starDimension=\"1.8rem\"\r\n                        starSpacing=\"1px\"\r\n                        starRatedColor=\"#065f46\"\r\n                      />\r\n                    </Rating>\r\n                    <p className=\"subtitle\">\r\n                      {description.substring(0, 101)}...\r\n                    </p>\r\n                    <CenterText>\r\n                      <ContinueBtn>Read More &#8594;</ContinueBtn>\r\n                    </CenterText>\r\n                  </CardContent>\r\n                </Link>\r\n              </AttractionCard>\r\n            );\r\n          }\r\n        )}\r\n      </ListWrapper>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    if (!this.props.user.loggedIn) {\r\n      history.push(\"/login\");\r\n    }\r\n\r\n    return (\r\n      <MainContainer>\r\n        <Title>Places Where You Want To Go</Title>\r\n        {this.renderAttractions(this.props.user.wantToVisit)}\r\n        <Title>Places Where You've been</Title>\r\n        {this.renderAttractions(this.props.user.beenThere)}\r\n        <Title>Your List </Title>\r\n        {this.renderAttractions(this.props.user.list)}\r\n      </MainContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ user }) => {\r\n    return { user };\r\n  },\r\n  { getUserAttractions }\r\n)(MyAttractions);\r\n","import styled from \"styled-components\";\r\n\r\nexport const Input = styled.input`\r\n  width: 100%;\r\n  height:5rem;\r\n  font-family: \"Inter\";\r\n  padding: 1.2rem;\r\n  text-decoration: none;\r\n  border: none;\r\n  outline: none;\r\n  background-color: white;\r\n  box-shadow: 0 0.2rem 2rem rgba(0, 0, 0, 0.15);\r\n\r\n  &:focus {\r\n    box-shadow: 0 0 0 1px #065f46;\r\n  }\r\n\r\n  &::placeholder {\r\n    font-weight: 400;\r\n    text-decoration: none;\r\n    font-family: \"Inter\";\r\n    color: #065f46;\r\n    font-size: 2rem;\r\n  }\r\n`;\r\n\r\nexport const BarContainer = styled.div`\r\n  width: 50%;\r\n  margin: 0 auto;\r\n  margin-bottom: 7rem;\r\n  @media (max-width: 900px) {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  margin-top: 2.5rem;\r\n  `;\r\n","import React from \"react\";\r\nimport _ from \"lodash\";\r\nimport { Input } from \"../styledComponents/search\";\r\nimport { connect } from \"react-redux\";\r\nimport { searchAttractions, emptyQuery } from \"../../actions\";\r\n\r\nclass SearchBar extends React.Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  onQueryChange = (e) => {\r\n    this.setState({ query: e.target.value });\r\n    _.debounce(() => {\r\n      this.props.searchAttractions(this.state.query);\r\n    }, 300)();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Input\r\n        placeholder='Look for your next destination!!'\r\n        onChange={this.onQueryChange}\r\n        value={this.state.query}\r\n        type=\"text\"\r\n        onBlur={() => {\r\n          this.setState({ query: \"\" });\r\n          this.props.emptyQuery()\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null, { searchAttractions, emptyQuery })(SearchBar);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { searchAttractions } from \"../../actions\";\r\nimport {\r\n  Container as ResultsWrapper,\r\n  AttractionCard,\r\n  AttractionImg,\r\n  CardContent,\r\n  ContinueBtn,\r\n} from \"../styledComponents/attractionsList\";\r\nimport SearchBar from \"./SearchBar\";\r\n\r\nimport { MainContainer } from \"../styledComponents/general\";\r\nimport { BarContainer } from \"../styledComponents/search\";\r\nimport { CenterText, Title } from \"../styledComponents/authPage\";\r\nimport { Rating } from \"../styledComponents/attractionDetails\";\r\nimport StarRatings from \"react-star-ratings\";\r\n\r\nclass Search extends React.Component {\r\n  onQueryChange = (e) => {\r\n    this.setState({ query: e.target.value });\r\n    _.debounce(() => {\r\n      this.props.searchAttractions(this.state.query);\r\n    }, 300)();\r\n  };\r\n\r\n  renderAttractions = () => {\r\n    if (!this.props.attractions) return \"\";\r\n\r\n    if (this.props.attractions.length === 0) {\r\n      let text =\r\n        this.props.query.length > 0\r\n          ? `No results were found for \"${this.props.query}\"`\r\n          : \"\";\r\n      return (\r\n        <ResultsWrapper>\r\n          <div style={{ whiteSpace: \"nowrap\" }}>{text}</div>\r\n        </ResultsWrapper>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <ResultsWrapper>\r\n        {this.props.attractions.map(({ name, description, _id, images,averageRating }) => {\r\n          return (\r\n            <AttractionCard key={_id}>\r\n              <Link\r\n                style={{ textDecoration: \"none\" }}\r\n                to={`/attractions/${_id}`}\r\n              >\r\n                <AttractionImg src={images[0].url} alt=\"pic\" />\r\n                <CardContent>\r\n                  {<p className=\"name\">{name}</p>}\r\n                  <Rating>\r\n                    <StarRatings\r\n                      rating={averageRating}\r\n                      starDimension=\"1.8rem\"\r\n                      starSpacing=\"1px\"\r\n                      starRatedColor=\"#065f46\"\r\n                    />\r\n                  </Rating>\r\n                  <p className=\"subtitle\">{description.substring(0, 101)}...</p>\r\n\r\n                  <CenterText>\r\n                    <ContinueBtn>Read More &#8594;</ContinueBtn>\r\n                  </CenterText>\r\n                </CardContent>\r\n              </Link>\r\n            </AttractionCard>\r\n          );\r\n        })}\r\n      </ResultsWrapper>\r\n    );\r\n  };\r\n\r\n  render;\r\n\r\n  render() {\r\n    return (\r\n      <MainContainer>\r\n        <CenterText>\r\n          <Title>Search</Title>\r\n        </CenterText>\r\n        <BarContainer>\r\n          <SearchBar />\r\n        </BarContainer>\r\n        <div>{this.renderAttractions()}</div>\r\n      </MainContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ attractionsSearchResults, query }) => {\r\n    return { attractions: _.values(attractionsSearchResults), query };\r\n  },\r\n  { searchAttractions }\r\n)(Search);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { editAttraction, getAttraction, getAdresses } from \"../../actions\";\r\nimport history from \"../../history\";\r\nimport {\r\n  validateName,\r\n  validateDescription,\r\n  validateLocation,\r\n} from \"../../validation/validateAttration\";\r\nimport {\r\n  Input,\r\n  Label,\r\n  Container,\r\n  Button,\r\n  TextArea,\r\n  Select,\r\n  CenterText,\r\n  Title,\r\n  FlashMessage,\r\n} from \"../styledComponents/createAttraction\";\r\nimport { Error } from \"../styledComponents/authPage\";\r\nimport { LoadingRing } from \"../styledComponents/general\";\r\n\r\nclass Edit extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: null,\r\n      description: null,\r\n      location: null,\r\n      images: null,\r\n      deleteImages: [],\r\n      term: \"\",\r\n      nameError: \"\",\r\n      descriptionError: \"\",\r\n      locationError: \"\",\r\n      imagesError: \"\",\r\n      loading: false,\r\n    };\r\n  }\r\n\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    if (prevState.name == null && nextProps.attraction) {\r\n      let { name, description, location } = nextProps.attraction;\r\n      return { name, description, location, term: location };\r\n    }\r\n    return null;\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.props.getAttraction(this.props.match.params.id);\r\n  };\r\n  onTermChange = (e) => {\r\n    this.setState({ term: e.target.value });\r\n\r\n    _.debounce(() => {\r\n      this.props.getAdresses(this.state.term);\r\n      console.log(this.props.addresses);\r\n      if (this.props.addresses.length === 0) {\r\n        this.setState({ locationError: \"It must be a valid UK address\" });\r\n      } else {\r\n        this.setState({ locationError: \"\" });\r\n      }\r\n    }, 400)();\r\n  };\r\n\r\n  onNameChange = (e) => {\r\n    this.setState({ name: e.target.value });\r\n  };\r\n\r\n  onDescriptionChange = (e) => {\r\n    this.setState({ description: e.target.value });\r\n  };\r\n\r\n  onLocationChange = (e) => {\r\n    this.setState({ location: e.target.value });\r\n  };\r\n\r\n  onImageChange = (e) => {\r\n    this.setState({ images: e.target.files });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    let { _id } = this.props.attraction;\r\n\r\n    let nameError = this.state.nameError;\r\n    let locationError = this.state.locationError;\r\n    let descriptionError = this.state.descriptionError;\r\n\r\n    if (!nameError && !descriptionError && !locationError) {\r\n      if (\r\n        this.state.deleteImages.length ===\r\n          this.props.attraction.images.length &&\r\n        !this.state.images\r\n      ) {\r\n        this.setState({ imagesError: \"You must upload at least one image\" });\r\n      } else {\r\n        this.props.editAttraction({ ...this.state, _id });\r\n        this.setState({ loading: true });\r\n      }\r\n    }\r\n  };\r\n\r\n  renderImages = (images) => {\r\n    if (images) {\r\n      return images.map((image) => {\r\n        return (\r\n          <img\r\n            onClick={() => {\r\n              let deleteImages = [...this.state.deleteImages];\r\n              let index = deleteImages.indexOf(image.public_id);\r\n              if (index < 0) {\r\n                deleteImages.push(image.public_id);\r\n                this.setState({ deleteImages });\r\n              } else {\r\n                deleteImages.splice(index, 1);\r\n                this.setState({ deleteImages });\r\n              }\r\n            }}\r\n            key={image.public_id}\r\n            src={image.url}\r\n            alt={image.public_id}\r\n            style={{\r\n              width: \"150px\",\r\n              height: \"auto\",\r\n              marginRight: \"10px\",\r\n              marginBottom: \"30px\",\r\n              opacity: `${\r\n                this.state.deleteImages.indexOf(image.public_id) < 0\r\n                  ? \"\"\r\n                  : \"0.3\"\r\n              }`,\r\n            }}\r\n          />\r\n        );\r\n      });\r\n    }\r\n\r\n    return \"\";\r\n  };\r\n\r\n  renderAdressDropdown = () => {\r\n    return (\r\n      <Select onClick={this.onLocationChange}>\r\n        {this.props.addresses.map(({ address }, i) => {\r\n          return (\r\n            <option key={i} value={address}>\r\n              {address}\r\n            </option>\r\n          );\r\n        })}\r\n      </Select>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    if (!this.props.user.loggedIn) {\r\n      history.push(\"/\");\r\n    }\r\n\r\n    if (!this.props.attraction) return \"loading...\";\r\n\r\n    return (\r\n      <div>\r\n        <CenterText>\r\n          <Title>\r\n            Edit Attraction\r\n            {this.props.message && (\r\n              <FlashMessage>{this.props.message}</FlashMessage>\r\n            )}\r\n          </Title>\r\n        </CenterText>\r\n        <Container style={{ width: \"50%\", marginBottom: \"50px\" }}>\r\n          <form onSubmit={this.handleSubmit} encType=\"multipart/form-data\">\r\n            <div>\r\n              <Label style={{ marginBottom: \"20px\" }}>\r\n                Select To Delete Images:\r\n              </Label>\r\n              <div>\r\n                {this.props.attraction &&\r\n                  this.renderImages(this.props.attraction.images)}\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"name\">Name</Label>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                onChange={this.onNameChange}\r\n                value={this.state.name}\r\n                error={this.state.nameError}\r\n                onBlur={(e) => {\r\n                  let nameError = validateName.validate({\r\n                    name: e.target.value,\r\n                  }).error;\r\n                  if (nameError) {\r\n                    this.setState({\r\n                      nameError: nameError.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ nameError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.nameError}</Error>\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"description\">Description</Label>\r\n              <TextArea\r\n                name=\"description\"\r\n                onChange={this.onDescriptionChange}\r\n                value={this.state.description}\r\n                error={this.state.descriptionError}\r\n                onBlur={(e) => {\r\n                  let descriptionError = validateDescription.validate({\r\n                    description: e.target.value,\r\n                  }).error;\r\n                  if (descriptionError) {\r\n                    this.setState({\r\n                      descriptionError: descriptionError.details[0].message,\r\n                    });\r\n                  } else {\r\n                    this.setState({ descriptionError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.descriptionError}</Error>\r\n            </div>\r\n            <div>\r\n              <Label htmlFor=\"location\">Address</Label>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"location\"\r\n                onChange={this.onTermChange}\r\n                value={this.state.term}\r\n                error={this.state.locationError}\r\n                onBlur={(e) => {\r\n                  let locationError = validateLocation.validate({\r\n                    location: e.target.value,\r\n                  }).error;\r\n                  if (locationError) {\r\n                    this.setState({\r\n                      locationError: locationError.details[0].message,\r\n                    });\r\n                  } else if (this.props.addresses.length !== 0) {\r\n                    this.setState({ locationError: \"\" });\r\n                  }\r\n                }}\r\n              />\r\n              <Error>{this.state.locationError}</Error>\r\n            </div>\r\n            {this.props.addresses.length > 0 && this.renderAdressDropdown()}\r\n\r\n            <div>\r\n              <Label htmlFor=\"image\">Upload images</Label>\r\n              <Input\r\n                style={{ backgroundColor: \"#F9FAFB\" }}\r\n                onChange={this.onImageChange}\r\n                type=\"file\"\r\n                name=\"images\"\r\n                multiple\r\n              />\r\n              <Error>{this.state.imagesError}</Error>\r\n            </div>\r\n            <Button type=\"submit\">\r\n              {this.state.loading && <LoadingRing />}Edit Attraction\r\n            </Button>\r\n          </form>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ attractions, user, addresses, flashMessage }, ownProps) => {\r\n    return {\r\n      attraction: attractions[ownProps.match.params.id],\r\n      user,\r\n      addresses,\r\n      message: flashMessage.data,\r\n    };\r\n  },\r\n  { getAttraction, editAttraction, getAdresses }\r\n)(Edit);\r\n","import React, { Component, useState } from \"react\";\r\nimport GoogleMapReact from \"google-map-react\";\r\nimport { connect } from \"react-redux\";\r\nimport _ from \"lodash\";\r\nimport { getAllAttractions } from \"../../actions\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { MainContainer } from \"../styledComponents/general\";\r\nimport {\r\n  AttractionCard,\r\n  AttractionImg,\r\n  CardContent,\r\n  CenterText,\r\n  ContinueBtn,\r\n} from \"../styledComponents/attractionsList\";\r\nimport { Rating } from \"../styledComponents/attractionDetails\";\r\nimport StarRatings from \"react-star-ratings\";\r\n\r\nconst Marker = ({ attraction }) => {\r\n  const [isShown, setIsShown] = useState(false);\r\n  const [zIndex, setZIndex] = useState(0);\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        transform: \"translate(-50%, -40%) scale(0.8)\",\r\n        zIndex,\r\n      }}\r\n      onMouseOver={() => {\r\n        setIsShown(true);\r\n        setZIndex(10);\r\n      }}\r\n      onMouseLeave={() => {\r\n        setIsShown(false);\r\n        setZIndex(0);\r\n      }}\r\n    >\r\n      {isShown && (\r\n        <AttractionCard\r\n          style={{ animation: \"none\", backgroundColor: \"white\" }}\r\n          key={attraction._id}\r\n        >\r\n          <Link\r\n            style={{ textDecoration: \"none\" }}\r\n            to={`/attractions/${attraction._id}`}\r\n          >\r\n            <AttractionImg src={attraction.images[0].url} alt=\"pic\" />\r\n            <CardContent>\r\n              {<p className=\"name\">{attraction.name}</p>}\r\n              <Rating>\r\n                <StarRatings\r\n                  rating={attraction.averageRating}\r\n                  starDimension=\"1.8rem\"\r\n                  starSpacing=\"1px\"\r\n                  starRatedColor=\"#065f46\"\r\n                />\r\n              </Rating>\r\n              <p className=\"subtitle\">\r\n                {attraction.description.substring(0, 101)}...\r\n              </p>\r\n\r\n              <CenterText>\r\n                <ContinueBtn>Read More &#8594;</ContinueBtn>\r\n              </CenterText>\r\n            </CardContent>\r\n          </Link>\r\n        </AttractionCard>\r\n      )}\r\n      {!isShown && (\r\n        <img\r\n          style={{ transform: \"translate(0,-100%)\" }}\r\n          alt=\"marker\"\r\n          src=\"/marker.png\"\r\n          height=\"25px\"\r\n          width=\"25px\"\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nclass AttractionsMap extends Component {\r\n  componentDidMount() {\r\n    this.props.getAllAttractions();\r\n  }\r\n\r\n  renderMarkers = () => {\r\n    return this.props.attractions.map((attraction) => {\r\n      let { geocode, _id } = attraction;\r\n      return (\r\n        <Marker\r\n          key={_id}\r\n          lat={geocode.lat}\r\n          lng={geocode.lng}\r\n          attraction={attraction}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <MainContainer>\r\n        <div\r\n          style={{\r\n            height: \"80vh\",\r\n            width: \"100%\",\r\n            marginTop: \"20px\",\r\n            position: \"relative\",\r\n          }}\r\n        >\r\n          <GoogleMapReact\r\n            bootstrapURLKeys={{\r\n              key: process.env.REACT_APP_GOOGLE_MAPS_API_KEY,\r\n            }}\r\n            defaultCenter={{ lat: 51.50809, lng: -0.129137 }}\r\n            defaultZoom={11}\r\n          >\r\n            {this.renderMarkers()}\r\n          </GoogleMapReact>\r\n        </div>\r\n      </MainContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  ({ attractions }) => {\r\n    return { attractions: _.values(attractions) };\r\n  },\r\n  { getAllAttractions }\r\n)(AttractionsMap);\r\n","import { createGlobalStyle } from \"styled-components\";\r\n\r\nconst GlobalStyles = createGlobalStyle`\r\n   * {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nhtml {\r\n  /* overflow-y: scroll; */\r\n  \r\n  font-size: 63.5%;\r\n\r\n  @media (max-width: 1200px){\r\n  font-size: 55%;\r\n} \r\n\r\n@media (max-width:900px){\r\n  font-size:45%;\r\n\r\n} \r\n\r\n  @media (max-width:600px){\r\n  font-size:45%;\r\n\r\n } \r\n\r\n@media (min-width:1800px){\r\n  font-size: 75%;\r\n\r\n} \r\n}\r\nbody {\r\n  font-size: 18px;\r\n  font-family: 'Lato', Arial, Helvetica, sans-serif;\r\n  line-height: 1;\r\n  font-weight: 400;\r\n  color: #555;\r\n  -webkit-user-select: none; /* Safari */\r\n  -webkit-touch-callout: none; /* iOS Safari */\r\n  -khtml-user-select: none; /* Konqueror HTML */\r\n  -ms-user-select: none; /* Internet Explorer/Edge */\r\n  -moz-user-select: none; /* Old versions of Firefox */\r\n  user-select: none;\r\n  background-color: #f7f7f7;\r\n\r\n\r\n /* @media (max-width:900px){\r\n  font-size:45%;\r\n\r\n}  */\r\n\r\n\r\n}\r\n`;\r\n\r\nexport default GlobalStyles;\r\n","import React from \"react\";\r\nimport { Title } from \"./styledComponents/pageNotFound\";\r\n\r\nconst PageNotFound = () => {\r\n  return (\r\n    <div>\r\n      <Title>PAGE NOT FOUND</Title>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PageNotFound;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  width: 100%;\r\n`;\r\n\r\nexport const Hero = styled.div`\r\n  position: relative;\r\n  height: 100vh;\r\n  background-image: linear-gradient(\r\n      rgba(85, 197, 122, 0.4),\r\n      rgba(40, 180, 133, 0.4)\r\n    ),\r\n    url(\"../../nicolas-lysandrou-pncTHnpCtaM-unsplash.jpg\");\r\n  background-size: cover;\r\n  background-position: top;\r\n  /* position: relative; */\r\n`;\r\n\r\nexport const Button = styled.a`\r\n  @keyframes moveInTop {\r\n    0% {\r\n      opacity: 0;\r\n      transform: translate(-50%, -50%) translateY(3rem);\r\n    }\r\n\r\n    80% {\r\n      transform: translate(-50%, -50%) translateY(-2px);\r\n    }\r\n\r\n    100% {\r\n      opacity: 1;\r\n      transform: translate(-50%, -50%) translateY(0);\r\n    }\r\n  }\r\n\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  position: absolute;\r\n  background-color: white;\r\n  color: #065f46;\r\n  padding: 1.5rem 4rem;\r\n  border-radius: 10rem;\r\n  text-decoration: none;\r\n  top: 60%;\r\n  left: 50%;\r\n  text-transform: uppercase;\r\n  transition: all 0.2s;\r\n  transform: translate(-50%, -50%);\r\n  animation: moveInTop 1s;\r\n  animation-fill-mode: backwards;\r\n  box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.3);\r\n  white-space: nowrap;\r\n  font-weight: bold;\r\n\r\n  @media (max-width: 600px) {\r\n    font-size: 1.5rem;\r\n    top: 50%;\r\n\r\n  }\r\n  &::after {\r\n    content: \"\";\r\n    display: inline-block;\r\n    height: 100%;\r\n    width: 100%;\r\n    border-radius: 10rem;\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    z-index: -1;\r\n    transition: all 0.4s;\r\n    background-color: white;\r\n  }\r\n\r\n  &:hover {\r\n    transform: translate(-50%, -50%) translateY(-3px);\r\n    box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.5);\r\n    color: #065f46;\r\n\r\n    &::after {\r\n      transform: scaleX(1.4) scaleY(1.6);\r\n      opacity: 0;\r\n    }\r\n  }\r\n\r\n  &:focus,\r\n  :active {\r\n    outline: none;\r\n    transform: translate(-50%, -50%) translateY(-1px);\r\n    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.2);\r\n  }\r\n`;\r\n\r\nexport const HeadingPrimary = styled.h1`\r\n  display: block;\r\n  font-size: 5rem;\r\n  font-weight: 400;\r\n  letter-spacing: 1rem;\r\n  animation-name: moveInLeft;\r\n  animation-duration: 1s;\r\n  animation-timing-function: ease-out;\r\n  color: #fff;\r\n  text-transform: uppercase;\r\n  backface-visibility: hidden;\r\n  position: absolute;\r\n  top: 30%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  white-space: nowrap;\r\n\r\n  @media (max-width: 600px) {\r\n    font-size: 3.5rem;\r\n    letter-spacing: 1.5px;\r\n  }\r\n\r\n  @keyframes moveInLeft {\r\n    0% {\r\n      opacity: 0;\r\n      transform: translate(-50%, -50%) translateX(-10rem);\r\n    }\r\n\r\n    80% {\r\n      transform: translate(-50%, -50%) translateX(10rem);\r\n    }\r\n\r\n    100% {\r\n      opacity: 1;\r\n      transform: translate(-50%, -50%) translateX(0);\r\n    }\r\n  }\r\n`;\r\n\r\nexport const HeadingSecondary = styled.h2`\r\n  display: block;\r\n  font-size: 1.8rem;\r\n  font-weight: 400;\r\n  letter-spacing: 0.35rem;\r\n  animation-name: moveInRight;\r\n  animation-duration: 1s;\r\n  animation-timing-function: ease-out;\r\n  color: #fff;\r\n  text-transform: uppercase;\r\n  backface-visibility: hidden;\r\n  position: absolute;\r\n  top: 40%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  font-weight: 700;\r\n  white-space: nowrap;\r\n\r\n  @media (max-width: 600px) {\r\n    font-size: 1.4rem;\r\n    letter-spacing: 1.1px;\r\n    top: 38%;\r\n  }\r\n\r\n  @keyframes moveInRight {\r\n    0% {\r\n      opacity: 0;\r\n      transform: translate(-50%, -50%) translateX(10rem);\r\n    }\r\n\r\n    80% {\r\n      transform: translate(-50%, -50%) translateX(-1rem);\r\n    }\r\n\r\n    100% {\r\n      opacity: 1;\r\n      transform: translate(-50%, -50%) translateX(0);\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport {\r\n  Hero,\r\n  Button,\r\n  HeadingPrimary,\r\n  HeadingSecondary,\r\n  Container,\r\n} from \"./styledComponents/home\";\r\n\r\nconst Home = () => {\r\n  return (\r\n    <Container>\r\n      <Hero>\r\n        <HeadingPrimary>Mysterious London</HeadingPrimary>\r\n        <HeadingSecondary>\r\n          discover places you never thought existed\r\n          <div style={{textAlign:'center',marginTop:'10px'}}>in london</div>\r\n        </HeadingSecondary>\r\n        <Button as={Link} to=\"/attractions\">\r\n          discover Now\r\n        </Button>\r\n      </Hero>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport { Router, Switch, Route } from \"react-router-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport history from \"../history\";\r\nimport Register from \"./auth/Register\";\r\nimport Login from \"./auth/Login\";\r\nimport Header from \"./Header\";\r\nimport Create from \"./attractions/Create\";\r\nimport AttractionsList from \"./attractions/AttractionsList\";\r\nimport AttractionDetails from \"./attractions/AttractionDetails\";\r\nimport myAttractions from \"./attractions/myAttractions\";\r\nimport Search from \"./attractions/Search\";\r\nimport Edit from \"./attractions/Edit\";\r\nimport { connect } from \"react-redux\";\r\nimport { isLoggedIn } from \"../actions\";\r\nimport AttractionsMap from \"./attractions/AttractionsMap\";\r\nimport GlobalStyles from \"../styles/GlobalStyles\";\r\nimport PageNotFound from \"./PageNotFound\";\r\nimport Home from \"./Home\";\r\n\r\nclass App extends React.Component {\r\n  componentDidMount() {\r\n    this.props.isLoggedIn();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Router history={history}>\r\n        <GlobalStyles />\r\n        <Header />\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Home} />\r\n          <Route exact path=\"/attractions\" component={AttractionsList} />\r\n          <Route exact path=\"/register\" component={Register} />\r\n          <Route exact path=\"/login\" component={Login} />\r\n          <Route exact path=\"/create\" component={Create} />\r\n          <Route exact path=\"/attractions/search\" component={Search} />\r\n          <Route exact path=\"/attractions/map\" component={AttractionsMap} />\r\n          <Route exact path=\"/attractions/:id/edit\" component={Edit} />\r\n          <Route exact path=\"/attractions/:id\" component={AttractionDetails} />\r\n          <Route exact path=\"/myattractions\" component={myAttractions} />\r\n          <Route path=\"*\" component={PageNotFound} />\r\n        </Switch>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null, { isLoggedIn })(App);\r\n","import React from \"react\";\r\n\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware } from \"redux\";\r\nimport { persistStore, persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\n\r\nimport thunk from \"redux-thunk\";\r\n\r\nimport reducers from \"./reducers\";\r\nimport App from \"./components/App\";\r\nrequire('dotenv').config()\r\n\r\n\r\nconst persistConfig = {\r\n  key: \"root\",\r\n  storage,\r\n  whitelist: [\"user\"],\r\n};\r\n\r\nconst persistedReducer = persistReducer(persistConfig, reducers);\r\n\r\nlet store = createStore(persistedReducer, applyMiddleware(thunk));\r\nlet persistor = persistStore(store);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <PersistGate loading={null} persistor={persistor}>\r\n      <App />\r\n    </PersistGate>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}