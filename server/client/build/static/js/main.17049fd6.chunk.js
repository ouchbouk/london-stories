(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{148:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(19),s=n.n(o),i=n(6),c=n(26),l=n(47),d=n(68),u=n.n(d),p=n(69),m=n(70),b=n(16);var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loggedIn:!1},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"REGISTER":case"LOG_IN":return Object(b.a)(Object(b.a)({},r),{},{loggedIn:!0});case"LOG_OUT":return{loggedIn:!1};case"UPDATE_USER_LIST":return Object(b.a)(Object(b.a)({},e),r);case"ERROR":return{error:r};default:return e}},j=n(30),g=n(17),f=n.n(g);var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"CREAT_ATTRACTION":return Object(b.a)(Object(b.a)({},e),{},Object(j.a)({},r._id,r));case"GET_ATTRACTIONS":return Object(b.a)(Object(b.a)({},e),f.a.mapKeys(r,"_id"));case"GET_ATTRACTION":return Object(b.a)(Object(b.a)({},e),{},Object(j.a)({},r._id,r));case"DELETE_ATTRACTION":return f.a.omit(e,r._id);default:return e}};var O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"ATTRACTIONS_SEARCH_RESULTS":return Object(b.a)({},f.a.mapKeys(r,"_id"));default:return e}};var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{count:0},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"GET_ATTRACTION_COUNT":return{count:r};default:return e}};var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"FLASH_MESSAGE":return{data:r};default:return e}};var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"QUERY":return r;default:return e}},S=Object(c.b)({user:h,attractions:x,attractionsSearchResults:O,addresses:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"GET_ADDRESSES":return r;default:return e}},attractionsCount:v,flashMessage:w,query:y}),E=n(8),k=n(9),A=n(12),C=n(11),T=n(15),I=(n(88),n(18).createBrowserHistory()),R=n(42),_=n(5),L=n.n(_),z=n(14),N=n(43),D=n.n(N),M=D.a.create({baseURL:"/api",withCredentials:!0});function G(e,t){var n=t.type,r=t.payload;e({type:n,payload:r}),setTimeout((function(){e({type:n,payload:""})}),3e3)}var B,F,U,q,Y,H,P,V,W,K,Q,Z,X=function(){return function(e){Object(z.a)(L.a.mark((function t(){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.post("/logout");case 2:e({type:"LOG_OUT"}),G(e,{type:"FLASH_MESSAGE",payload:"You are logged out"});case 4:case"end":return t.stop()}}),t)})))()}},J=function(e){return function(t){Object(z.a)(L.a.mark((function n(){var r,a;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M.get("/attractions/".concat(e));case 2:r=n.sent,a=r.data,t({type:"GET_ATTRACTION",payload:a});case 5:case"end":return n.stop()}}),n)})))()}},$=function(e){return function(t){Object(z.a)(L.a.mark((function n(){var r,a;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M.get("/attractions/search?q=".concat(e));case 2:r=n.sent,a=r.data,t({type:"ATTRACTIONS_SEARCH_RESULTS",payload:a}),t({type:"QUERY",payload:e});case 6:case"end":return n.stop()}}),n)})))()}},ee=function(){return function(e){Object(z.a)(L.a.mark((function t(){var n,r;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.get("/attractions/all");case 2:n=t.sent,r=n.data,e({type:"GET_ATTRACTIONS",payload:r});case 5:case"end":return t.stop()}}),t)})))()}},te=function(){return function(e){Object(z.a)(L.a.mark((function t(){var n,r,a;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.get("/user/beenthere");case 2:return n=t.sent,t.next=5,M.get("/user/wanttovist");case 5:return r=t.sent,t.next=8,M.get("/user/list");case 8:a=t.sent,e({type:"UPDATE_USER_LIST",payload:{beenThere:n.data,wantToVisit:r.data,list:a.data}});case 10:case"end":return t.stop()}}),t)})))()}},ne=function(){return function(e){Object(z.a)(L.a.mark((function t(){var n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.get("/loggedin");case 2:n=t.sent,n.data.isLoggedIn||e({type:"LOG_OUT"});case 5:case"end":return t.stop()}}),t)})))()}},re=function(e){return function(t){Object(z.a)(L.a.mark((function n(){var r,a;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D.a.get("https://api.getaddress.io/autocomplete/".concat(e,"?expand=true&api-key=").concat("vUBRzSd_RUOTm8nZJ3o-0Q33066"," "));case 2:r=n.sent,a=r.data,t({type:"GET_ADDRESSES",payload:a.suggestions});case 5:case"end":return n.stop()}}),n)})))()}},ae=function(e){return function(t){Object(z.a)(L.a.mark((function n(){var r,a;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M.post("/oauth",{token:e});case 2:r=n.sent,a=r.data,t({type:"LOG_IN",payload:a}),"POP"!==I.action?I.goBack():I.push("/");case 6:case"end":return n.stop()}}),n)})))()}},oe=n(13),se=n.n(oe),ie=se.a.object({username:se.a.string().pattern(new RegExp("^[A-Za-z0-9_-]*$")).message({"string.pattern.base":"Invalid username"}).min(5).max(30).required()}),ce=se.a.object({email:se.a.string().email({tlds:{allow:!1}}).required()}),le=se.a.object({password:se.a.string().pattern(new RegExp("^[A-Za-z0-9_@./#&+-]*$")).message({"string.pattern.base":"Invalid password"}).min(6).max(20).required()}),de=n(2),ue=n(3),pe=ue.b.div(B||(B=Object(de.a)(["\n  width: 40rem;\n  margin: 0 auto;\n  display: flex;\n  justify-content: center;\n  padding: 4.4rem 5.5rem;\n  box-shadow: 0 0.2rem 2rem rgba(0, 0, 0, 0.15);\n"]))),me=ue.b.input(F||(F=Object(de.a)(["\n  width: 100%;\n  height: 5.2rem;\n  margin: 1.2rem 0;\n  font-family: inherit;\n  outline: none;\n  border: none;\n  padding: 1rem;\n  font-size: 1.8rem;\n  background-color: #e5e7eb;\n\n  border: ",";\n  &:focus {\n    border: 1px solid #065f46;\n  }\n"])),(function(e){return e.error?"1px solid red":"none"})),be=ue.b.label(U||(U=Object(de.a)(["\n  color: #212529;\n  font-size: 2rem;\n"]))),he=ue.b.button(q||(q=Object(de.a)(["\n  width: 100%;\n  height: 5.2rem;\n  display: flex;\n  justify-content: center;\n  gap: 20px;\n  align-items: center;\n  color: white;\n  background-color: #065f46;\n  border: none;\n  font-size: 2.5rem;\n  transition: all 300ms;\n  margin-top: 1.8rem;\n  border-radius: 10rem;\n  &:hover {\n    background-color: #064e3b;\n  }\n"]))),je=ue.b.button(Y||(Y=Object(de.a)(["\n  width: 100%;\n  height: 5.2rem;\n  color: white;\n  margin-top: 2rem;\n  background-color: #de5246;\n  border: none;\n  font-size: 2.5rem;\n  transition: all 300ms;\n  border-radius: 10rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 1.5rem;\n  &:hover {\n    background-color: #b91c1c;\n  }\n"]))),ge=ue.b.h1(H||(H=Object(de.a)(["\n  position: relative;\n  font-size: 4.2rem;\n  color: #065f46;\n  margin: 2rem 0 6rem 0;\n  text-transform: uppercase;\n"]))),fe=ue.b.div(P||(P=Object(de.a)(["\n  margin-top: 15px;\n  text-align: center;\n"]))),xe=ue.b.p(V||(V=Object(de.a)(["\n  color: red;\n  font-size: 1.6rem;\n  margin-bottom: 1.6rem;\n"]))),Oe=ue.b.p(W||(W=Object(de.a)(["\n  position: absolute;\n  color: red;\n  font-size: 1.8rem;\n  right: 50%;\n  transform: translate(50%, 2rem);\n"]))),ve=ue.b.div(K||(K=Object(de.a)(["\n  position: relative;\n  width: 80%;\n  margin: 4rem auto 7rem auto;\n"]))),we=Object(ue.c)(Q||(Q=Object(de.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),ye=ue.b.div(Z||(Z=Object(de.a)(['\n  display: inline-block;\n  width: 38px;\n  height: 38px;\n\n  &::after {\n    content: " ";\n    display: inline-block;\n    width: 38px;\n    height: 38px;\n    border-radius: 50%;\n    border: 6px solid #fff;\n    border-color: #fff transparent #fff transparent;\n    animation: '," 1.2s linear infinite;\n  }\n"])),we),Se=n(35),Ee=n(0);var ke,Ae=Object(i.b)(null,{googleAuth:ae})((function(e){var t=e.googleAuth,n=e.text;return Object(Ee.jsx)("div",{children:Object(Ee.jsx)(Se.GoogleLogin,{render:function(e){return Object(Ee.jsx)("span",{onClick:e.onClick,children:n})},clientId:"326110060194-telj65nuuhr9boqm2ru1fknvg0e73dvl.apps.googleusercontent.com",buttonText:"Login",onSuccess:function(e){t(e.tokenId)},onFailure:function(e){console.log("LOGGIN FAILED")},cookiePolicy:"single_host_origin",style:{marginTop:"100px"}})})})),Ce=n(21),Te=function(e){Object(A.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={username:"",password:"",email:"",usernameError:"",passwordError:"",emailError:"",loading:!1},e.usernameChange=function(t){e.setState({username:t.target.value})},e.passwordChange=function(t){e.setState({password:t.target.value})},e.emailChange=function(t){e.setState({email:t.target.value})},e.handleSubmit=function(t){t.preventDefault();var n=ie.validate({username:e.state.username}).error;n&&e.setState({usernameError:n.details[0].message});var r=le.validate({password:e.state.password}).error;r&&e.setState({passwordError:r.details[0].message});var a=ce.validate({email:e.state.email}).error;a&&e.setState({emailError:a.details[0].message}),n||r||a||(e.props.register(e.state),e.setState({loading:!0}))},e}return Object(k.a)(n,[{key:"render",value:function(){var e=this;return this.props.user&&this.props.user.loggedIn&&I.push("/"),Object(Ee.jsxs)(ve,{children:[Object(Ee.jsx)(fe,{children:Object(Ee.jsxs)(ge,{children:["sign up",this.props.user.error&&Object(Ee.jsx)(Oe,{children:this.props.user.error})]})}),Object(Ee.jsx)(pe,{children:Object(Ee.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(be,{htmlFor:"username",children:"Email"}),Object(Ee.jsx)(me,{value:this.state.email,onChange:this.emailChange,name:"email",type:"text",error:this.state.emailError,onBlur:function(t){ce.validate({email:t.target.value}).error?e.setState({emailError:ce.validate({email:t.target.value}).error.details[0].message}):e.setState({emailError:""})}}),Object(Ee.jsx)(xe,{children:this.state.emailError})]}),Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(be,{htmlFor:"username",children:"Username"}),Object(Ee.jsx)(me,{value:this.state.username,onChange:this.usernameChange,name:"username",type:"text",error:this.state.usernameError,onBlur:function(t){ie.validate({username:t.target.value}).error?e.setState({usernameError:ie.validate({username:t.target.value}).error.details[0].message}):e.setState({usernameError:""})}}),Object(Ee.jsx)(xe,{children:this.state.usernameError})]}),Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(be,{htmlFor:"password",children:"Password"}),Object(Ee.jsx)(me,{value:this.state.password,onChange:this.passwordChange,name:"password",type:"password",error:this.state.passwordError,onBlur:function(t){le.validate({password:t.target.value}).error?e.setState({passwordError:le.validate({password:t.target.value}).error.details[0].message}):e.setState({passwordError:""})}}),Object(Ee.jsx)(xe,{children:this.state.passwordError})]}),Object(Ee.jsxs)(he,{type:"submit",children:[this.state.loading&&Object(Ee.jsx)(ye,{}),"SIGN UP"]}),Object(Ee.jsx)(fe,{children:"Or"}),Object(Ee.jsx)(Ae,{text:Object(Ee.jsxs)(je,{children:["SIGN UP WITH ",Object(Ee.jsx)(Ce.f,{style:{fontSize:"30px"}})]})})]})})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.loading&&e.user.error?{loading:!1}:null}}]),n}(a.a.Component),Ie=Object(i.b)((function(e){return{user:e.user}}),{register:function(e){return function(t){Object(z.a)(L.a.mark((function n(){var r,a;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M.post("/register",e);case 2:r=n.sent,(a=r.data).username?(t({type:"REGISTER",payload:a}),"POP"!==I.action?I.goBack():I.push("/")):G(t,{type:"ERROR",payload:a});case 5:case"end":return n.stop()}}),n)})))()}}})(Te),Re=se.a.object({username:se.a.string().pattern(new RegExp("^[A-Za-z0-9_-]*$")).message({"string.pattern.base":"Invalid username"}).min(5).max(30).required()}),_e=se.a.object({password:se.a.string().pattern(new RegExp("^[A-Za-z0-9_@./#&+-]*$")).message({"string.pattern.base":"Invalid password"}).max(20).required()}),Le=function(e){Object(A.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={username:"",password:"",usernameError:"",passwordError:"",loading:!1},e.usernameChange=function(t){e.setState({username:t.target.value})},e.passwordChange=function(t){e.setState({password:t.target.value})},e.handleSubmit=function(t){t.preventDefault();var n=Re.validate({username:e.state.username}).error;n&&e.setState({usernameError:n.details[0].message});var r=_e.validate({password:e.state.password}).error;r&&e.setState({passwordError:r.details[0].message}),n||r||(e.props.login(e.state),e.setState({loading:!0}))},e}return Object(k.a)(n,[{key:"render",value:function(){var e=this;return this.props.user&&this.props.user.loggedIn&&I.push("/"),Object(Ee.jsxs)(ve,{children:[Object(Ee.jsx)(fe,{children:Object(Ee.jsxs)(ge,{children:["Login",this.props.user.error&&Object(Ee.jsx)(Oe,{children:this.props.user.error})]})}),Object(Ee.jsx)(pe,{children:Object(Ee.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(be,{htmlFor:"username",children:"Username"}),Object(Ee.jsx)(me,{error:this.state.usernameError,value:this.state.username,onChange:this.usernameChange,name:"username",type:"text",onBlur:function(t){Re.validate({username:t.target.value}).error?e.setState({usernameError:Re.validate({username:t.target.value}).error.details[0].message}):e.setState({usernameError:""})}}),Object(Ee.jsx)(xe,{children:this.state.usernameError})]}),Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(be,{htmlFor:"password",children:"Password"}),Object(Ee.jsx)(me,{error:this.state.passwordError,value:this.state.password,onChange:this.passwordChange,name:"password",type:"password",onBlur:function(t){_e.validate({password:t.target.value}).error?(console.log(),e.setState({passwordError:_e.validate({password:t.target.value}).error.details[0].message})):e.setState({passwordError:""})}}),Object(Ee.jsx)(xe,{children:this.state.passwordError})]}),Object(Ee.jsxs)(he,{type:"submit",children:[this.state.loading&&Object(Ee.jsx)(ye,{}),"LOGIN"]}),Object(Ee.jsx)(fe,{children:"Or"}),Object(Ee.jsx)(Ae,{text:Object(Ee.jsxs)(je,{children:["LOGIN WITH ",Object(Ee.jsx)(Ce.f,{style:{fontSize:"30px"}})]})})]})})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.loading&&e.user.error?{loading:!1}:null}}]),n}(a.a.Component),ze=Object(i.b)((function(e){return{user:e.user}}),{login:function(e){return function(t){Object(z.a)(L.a.mark((function n(){var r,a;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M.post("/login",e);case 2:r=n.sent,(a=r.data).username?(t({type:"LOG_IN",payload:a}),"POP"!==I.action?I.goBack():I.push("/")):G(t,{type:"ERROR",payload:a});case 5:case"end":return n.stop()}}),n)})))()}}})(Le),Ne=n(32),De=n(10),Me=ue.b.nav(ke||(ke=Object(de.a)(["\n  @keyframes moveDown {\n    0% {\n      opacity: 0;\n      transform: translateY(-1rem);\n    }\n\n    100% {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  display: flex;\n  text-decoration: none;\n  background-color: transparent;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0.6rem 6rem;\n  gap: 3rem;\n  height: 4.6rem;\n  width: 100%;\n  margin-top: 1rem;\n  position: relative;\n  z-index: 100;\n  animation: moveDown 1s;\n\n  @media (max-width: 1040px) {\n    flex-direction: column;\n    margin-bottom: ",";\n    padding: 1.4rem 0;\n    gap: 0;\n    background-color: ",";\n    margin: 0;\n  }\n\n  .brand {\n    text-decoration: none;\n    font-size: 2rem;\n    color: ",";\n    font-weight: 800;\n    text-transform: uppercase;\n    margin-right: 2rem;\n    white-space: nowrap;\n    letter-spacing: 1.1px;\n\n    @media (max-width: 1040px) {\n      margin-bottom: ",";\n    }\n  }\n\n  .brand:hover,\n  .brand:active {\n    color: ",";\n  }\n\n  .nav-links {\n    display: flex;\n    justify-content: space-between;\n    gap: 2.6rem;\n    align-items: center;\n    transition: all 0.3s;\n\n    @media (max-width: 1040px) {\n      width: 100%;\n      flex-direction: column;\n      background-color: inherit;\n      width: 100%;\n      background-color: #065f46;\n      padding: 2rem 0;\n      display: ",";\n      font-size: 2rem;\n    }\n  }\n\n  .link {\n    text-decoration: none;\n    color: ",";\n    white-space: nowrap;\n    font-weight: 700;\n    letter-spacing: 1.1px;\n    text-transform: uppercase;\n    border: none;\n    @media (max-width: 1040px) {\n      color: white;\n    }\n  }\n\n  .link:hover {\n    color: #10b981;\n    color: ",";\n\n    @media (max-width: 1040px) {\n      color: #a7f3d0;\n    }\n  }\n\n  .auth-btn {\n    background-color: ",";\n    padding: 9px 18px;\n    color: ",";\n    border-radius: 100px;\n    box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.2);\n\n    @media (max-width: 1040px) {\n      color: #065f46;\n      background-color: white;\n      font-size: 2rem;\n    }\n  }\n\n  .auth-btn:hover {\n    color: ",";\n    background-color: ",";\n\n    @media (max-width: 1040px) {\n      color: #10b981;\n      background-color: white;\n    }\n  }\n\n  .sign-up-btn {\n    padding: 8px 16px;\n    color: ",";\n    background-color: ",";\n    border-radius: 100px;\n    box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.3);\n\n    @media (max-width: 1040px) {\n      color: #065f46;\n      background-color: white;\n      font-size: 2rem;\n    }\n  }\n\n  .sign-up-btn:hover {\n    color: ",";\n    background-color: ",";\n\n    @media (max-width: 1040px) {\n      color: #10b981;\n      background-color: white;\n    }\n  }\n\n  .auth-btns {\n    display: flex;\n    align-items: center;\n    gap: 2rem;\n    text-align: center;\n    white-space: nowrap;\n    transition: all 0.3s;\n    @media (max-width: 1040px) {\n      flex-direction: column;\n      background-color: #065f46;\n      width: 100%;\n      padding: 2rem 0;\n      opacity: ",";\n      display: ",";\n    }\n  }\n\n  .menu-btn {\n    display: none;\n    color: ",";\n    font-size: 4rem;\n    cursor: pointer;\n\n    @media (max-width: 1040px) {\n      display: block;\n      position: absolute;\n      right: 2rem;\n      top: 0.1rem;\n    }\n  }\n\n  .nav-links-collapsed {\n    display: flex;\n    height: 0;\n    flex-direction: column;\n    gap: 2;\n    top: 4.6rem;\n    background-color: #e5e7eb;\n    padding: 2rem;\n    width: 100%;\n    border-bottom: 1px solid #d1d5db;\n    transition: all 300ms;\n    display: none;\n  }\n"])),(function(e){return e.collapsed?"50rem":"0"}),(function(e){return"white"===e.theme&&e.collapsed?"#065f46":"transparent"}),(function(e){return"white"===e.theme?"white":"#065f46"}),(function(e){return"white"===e.theme?"0":"2rem"}),(function(e){return"white"===e.theme?"white":"#10b981"}),(function(e){return e.collapsed?"":"none"}),(function(e){return"white"===e.theme?"white":"#065f46"}),(function(e){return"white"===e.theme?"white":"#10b981"}),(function(e){return"white"===e.theme?"white":"#065f46"}),(function(e){return"white"===e.theme?"#065f46":"white"}),(function(e){return"white"===e.theme?" #10b981":"white"}),(function(e){return"white"===e.theme?"":" #064E3B"}),(function(e){return"white"===e.theme?"#065f46":"white"}),(function(e){return"white"===e.theme?"white":"#065f46"}),(function(e){return"white"===e.theme?" #10b981":"white"}),(function(e){return"white"===e.theme?"":" #064E3B"}),(function(e){return e.collapsed?"1":"0"}),(function(e){return e.collapsed?"":"none"}),(function(e){return"white"===e.theme?"white":"#065f46"}));var Ge,Be,Fe,Ue,qe,Ye,He,Pe,Ve,We,Ke,Qe,Ze,Xe,Je,$e,et,tt,nt,rt,at,ot,st,it,ct,lt,dt,ut,pt,mt,bt,ht,jt,gt,ft,xt,Ot,vt,wt,yt,St,Et,kt,At,Ct,Tt,It,Rt,_t,Lt,zt,Nt,Dt,Mt,Gt,Bt,Ft,Ut=Object(i.b)(null,{logout:X})((function(e){var t=e.logout;return Object(Ee.jsx)(Se.GoogleLogout,{render:function(e){return Object(Ee.jsx)("span",{onClick:e.onClick,children:"Logout"})},clientId:"326110060194-telj65nuuhr9boqm2ru1fknvg0e73dvl.apps.googleusercontent.com",buttonText:"Logout",onLogoutSuccess:function(){t()}})})),qt=Object(i.b)((function(e){return{user:e.user}}),{logout:X,googleAuth:ae})((function(e){var t=Object(r.useState)(!1),n=Object(Ne.a)(t,2),a=n[0],o=n[1],s=Object(T.f)();return Object(Ee.jsxs)(Me,{collapsed:a,theme:"".concat("/"===s.pathname?"white":"green"),children:[Object(Ee.jsx)(De.a,{className:"brand",to:"/",children:"Mysterious London"}),Object(Ee.jsxs)("div",{onClick:function(){o(!a)},className:"nav-links",children:[Object(Ee.jsx)(De.a,{className:"link",to:"/attractions",children:"Attractions"}),Object(Ee.jsx)(De.a,{className:"link",to:"/attractions/map",children:"Map"}),Object(Ee.jsx)(De.a,{className:"link",to:"/attractions/search",children:"Search"}),Object(Ee.jsx)(De.a,{className:"link",to:"/create",children:"Contribute"}),Object(Ee.jsx)(De.a,{className:"link",to:"/myattractions",children:"Your Lists"})]}),Object(Ee.jsxs)("div",{className:"auth-btns",children:[!e.user.loggedIn&&Object(Ee.jsx)(De.a,{className:"link auth-btn",to:"/login",children:"Login"}),!e.user.loggedIn&&Object(Ee.jsx)(De.a,{className:"link sign-up-btn",to:"/register",children:"Sign Up"}),e.user.loggedIn&&!e.user.oauth&&Object(Ee.jsx)("button",{className:"link auth-btn",onClick:function(){e.logout()},children:"Logout"}),e.user.loggedIn&&e.user.oauth&&Object(Ee.jsx)("button",{to:"",className:"link auth-btn",children:Object(Ee.jsx)(Ut,{})})]}),Object(Ee.jsx)("div",{onClick:function(){o(!a)},className:"menu-btn",children:Object(Ee.jsx)(Ce.g,{})})]})})),Yt=se.a.object({name:se.a.string().min(3).max(50).required()}),Ht=se.a.object({description:se.a.string().min(20).required()}),Pt=se.a.object({location:se.a.string().required()}),Vt=ue.b.div(Ge||(Ge=Object(de.a)(["\n  width: 60rem;\n  margin: 0 auto;\n  margin-top: 4.8rem;\n  display: flex;\n  justify-content: center;\n  padding: 4.4rem 5.5rem;\n  box-shadow: 0 2px 2rem rgba(0, 0, 0, 0.15);\n\n  @media (max-width: 1024px) {\n    width: 50rem;\n    \n  }\n  \n  @media (max-width: 768px) {\n    width: 40rem;\n  }\n\n"]))),Wt=ue.b.input(Be||(Be=Object(de.a)(["\n  width: 100%;\n  height: 5.2rem;\n  margin: 1.2rem 0;\n  font-family: sans-serif;\n  outline: none;\n  border: none;\n  \n  padding: 1rem;\n  font-size: 1.8rem;\n  background-color:#E5E7EB\n;\n  border: ",";\n\n  &:focus{\n    border:1px solid #065f46;\n  }\n"])),(function(e){return e.error?"1px solid red":"none"})),Kt=ue.b.label(Fe||(Fe=Object(de.a)(["\n  color: #212529;\n  font-size: 2.4rem;\n  font-weight: bold;\n"]))),Qt=ue.b.button(Ue||(Ue=Object(de.a)(["\n  display: flex;\n  align-items: center;\n  gap: 30px;\n  justify-content: center;\n  width: 100%;\n  height: 5.2rem;\n  color: white;\n  background-color: #065f46;\n  border: none;\n  font-size: 2.5rem;\n  transition: all 300ms;\n  border-radius: 10rem;\n  text-transform: uppercase;\n  letter-spacing: 1.1px;\n  &:hover {\n    background-color: #064e3b;\n  }\n"]))),Zt=ue.b.h1(qe||(qe=Object(de.a)(["\n  position: relative;\n  font-size: 4.2rem;\n  color: #065f46;\n  text-transform: uppercase;\n  margin: 4.2rem 0 9.2rem 0;\n"]))),Xt=ue.b.div(Ye||(Ye=Object(de.a)(["\n  text-align: center;\n"]))),Jt=ue.b.textarea(He||(He=Object(de.a)(["\n  width: 100%;\n  height: 16rem;\n  border: none;\n  outline: none;\n  margin: 1.2rem 0;\n  padding: 1.2rem;\n  line-height: 1.3;\n  background-color:#E5E7EB;\n  border: ",";\n"])),(function(e){return e.error?"1px solid red":"none"})),$t=ue.b.select(Pe||(Pe=Object(de.a)(["\n  width: 100%;\n  height: 5.2rem;\n  border: none;\n  outline: none;\n  margin-bottom: 3rem;\n  padding: 1.2rem;\n  background-color: #f3f4f6;\n"]))),en=ue.b.p(Ve||(Ve=Object(de.a)(["\n  position: absolute;\n  font-size: 2.5rem;\n  color: #064e3b;\n  background-color: #d1fae5;\n  border-radius: 1rem;\n  right: 50%;\n  transform: translate(50%, 2rem);\n  padding: 1.2rem;\n  border-radius: 1rem;\n  margin-bottom: 3rem;\n"]))),tn=function(e){Object(A.a)(n,e);var t=Object(C.a)(n);function n(e){var r;return Object(E.a)(this,n),(r=t.call(this,e)).onNameChange=function(e){r.setState({name:e.target.value})},r.onDescriptionChange=function(e){r.setState({description:e.target.value})},r.onTermChange=function(e){r.setState({term:e.target.value}),f.a.debounce((function(){r.props.getAdresses(r.state.term),0===r.props.addresses.length?r.setState({locationError:"It must be a valid UK address"}):r.setState({locationError:""})}),500)()},r.onLocationChange=function(e){r.setState({location:e.target.value})},r.onImageChange=function(e){r.setState({images:e.target.files}),r.setState({imagesError:""})},r.handleSubmit=function(e){e.preventDefault();var t=Yt.validate({name:r.state.name}).error;t&&r.setState({nameError:t.details[0].message});var n=Ht.validate({description:r.state.description}).error;n&&r.setState({descriptionError:n.details[0].message});var a=r.props.addresses,o="";a.length>0&&""===r.state.location&&(r.setState({location:a[0].address}),o=a[0].address);var s=Pt.validate({location:r.state.location||o}).error;s&&r.setState({locationError:s.details[0].message});var i=r.state.images?"":"You must upload at least one image";i&&r.setState({imagesError:i}),t||s||n||i||(r.props.createAttraction(r.state),r.setState({location:""}),r.setState({loading:!0}))},r.renderAdressDropdown=function(){var e=r.props.addresses;return Object(Ee.jsx)($t,{onClick:r.onLocationChange,children:e.map((function(e,t){var n=e.address;return Object(Ee.jsx)("option",{value:n,children:n},t)}))})},r.state={name:"",description:"",location:"",images:null,term:"",nameError:"",descriptionError:"",locationError:"",imagesError:"",loading:!1},r}return Object(k.a)(n,[{key:"renderForm",value:function(){var e=this;return this.props.user.loggedIn||I.push("/login"),Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(Xt,{children:Object(Ee.jsxs)(Zt,{children:["Add Attraction",this.props.message&&Object(Ee.jsx)(en,{children:this.props.message})]})}),Object(Ee.jsx)(Vt,{children:Object(Ee.jsxs)("form",{autoComplete:"off",onSubmit:this.handleSubmit,encType:"multipart/form-data",children:[Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(Kt,{htmlFor:"name",children:"Name"}),Object(Ee.jsx)(Wt,{type:"text",name:"name",onChange:this.onNameChange,value:this.state.name,error:this.state.nameError,onBlur:function(t){var n=Yt.validate({name:t.target.value}).error;n?e.setState({nameError:n.details[0].message}):e.setState({nameError:""})}}),Object(Ee.jsx)(xe,{children:this.state.nameError})]}),Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(Kt,{htmlFor:"description",children:"Description"}),Object(Ee.jsx)(Jt,{name:"description",onChange:this.onDescriptionChange,value:this.state.description,error:this.state.descriptionError,onBlur:function(t){var n=Ht.validate({description:t.target.value}).error;n?e.setState({descriptionError:n.details[0].message}):e.setState({descriptionError:""})}}),Object(Ee.jsx)(xe,{children:this.state.descriptionError})]}),Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(Kt,{htmlFor:"location",children:"Address"}),Object(Ee.jsx)(Wt,{type:"text",name:"location",onChange:this.onTermChange,value:this.state.term,error:this.state.locationError,onBlur:function(t){var n=Pt.validate({location:t.target.value}).error;n?e.setState({locationError:n.details[0].message}):0!==e.props.addresses.length&&e.setState({locationError:""})}}),Object(Ee.jsx)(xe,{children:this.state.locationError})]}),this.props.addresses.length>0&&this.renderAdressDropdown(),Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(Kt,{htmlFor:"image",children:"Upload images"}),Object(Ee.jsx)(Wt,{style:{backgroundColor:"#F9FAFB"},onChange:this.onImageChange,type:"file",name:"images",multiple:!0}),Object(Ee.jsx)(xe,{children:this.state.imagesError})]}),Object(Ee.jsxs)(Qt,{type:"submit",children:[this.state.loading&&Object(Ee.jsx)(ye,{}),"Submit Attraction"]})]})})]})}},{key:"render",value:function(){return Object(Ee.jsx)(ve,{children:this.renderForm()})}}]),n}(a.a.Component),nn=Object(i.b)((function(e){return{addresses:e.addresses,user:e.user,message:e.flashMessage.data}}),{createAttraction:function(e){var t=e.name,n=e.location,r=e.description,a=e.images,o=new FormData;o.append("name",t),o.append("description",r),o.append("location",n);var s,i=Object(R.a)(a);try{for(i.s();!(s=i.n()).done;){var c=s.value;o.append("images",c)}}catch(l){i.e(l)}finally{i.f()}return function(e){Object(z.a)(L.a.mark((function t(){var n,r;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.post("/attractions",o);case 2:n=t.sent,r=n.data,e({type:"CREAT_ATTRACTION",payload:r}),G(e,{type:"FLASH_MESSAGE",payload:"Attraction has been created"}),I.push("/attractions/".concat(r._id));case 7:case"end":return t.stop()}}),t)})))()}},getAdresses:re,isLoggedIn:ne})(tn),rn=ue.b.div(We||(We=Object(de.a)(["\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  row-gap: 4rem;\n  column-gap: 4rem;\n  margin-top: 64px;\n  width: 90%;\n  margin: 0 auto;\n  margin-top: 4.8rem;\n  justify-items: center;\n  /* white-space: nowrap; */\n\n  @media (max-width: 1024px) {\n    grid-template-columns: repeat(3, 1fr);\n  }\n\n  @media (max-width: 768px) {\n    grid-template-columns: repeat(2, 1fr);\n  }\n  @media (max-width: 600px) {\n    grid-template-columns: repeat(1, 1fr);\n  }\n"]))),an=ue.b.img(Ke||(Ke=Object(de.a)(["\n  width: 100%;\n  height: 16rem;\n  object-fit: cover;\n  transition: all 0.6s;\n"]))),on=ue.b.figure(Qe||(Qe=Object(de.a)(["\n  @keyframes moveDown {\n    0% {\n      opacity: 0;\n      transform: translateY(-1rem);\n    }\n\n    100% {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n\n  width: 24rem;\n  background-color: rgba(255, 255, 255, 0.8);\n  overflow: hidden;\n  cursor: pointer;\n  align-self: start;\n  transition: all 0.3s;\n  justify-content: space-between;\n  box-shadow: 0 0.2rem 2rem rgba(0, 0, 0, 0.15);\n\n  z-index: 10;\n  animation: moveDown 1s;\n  .link {\n    text-decoration: none;\n  }\n\n  &:hover {\n    transform: translateY(-7px);\n    box-shadow: 0 0.2rem 4rem rgba(0, 0, 0, 0.2);\n\n    "," {\n      transform: scale(1.05);\n    }\n  }\n"])),an),sn=ue.b.div(Ze||(Ze=Object(de.a)(['\n  padding: 2rem;\n  font-size: 1.6rem;\n  align-self: start;\n\n  .name {\n    text-decoration: none;\n    color: #065f46;\n    margin-bottom: 0.6rem;\n    font-size: 2.5rem;\n    font-weight: 500;\n  }\n  .subtitle {\n    font-family: "Times New Roman", Times, serif;\n    text-transform: lowercase;\n    color: black;\n    font-size: 1.8rem;\n    font-weight: 500;\n    hyphens: auto;\n    line-height: 2.2rem;\n  }\n\n  .subtitle::first-letter {\n    text-transform: uppercase;\n  }\n']))),cn=ue.b.div(Xe||(Xe=Object(de.a)(["\n  width: 40rem;\n  margin: 2.4rem auto;\n"]))),ln=ue.b.button(Je||(Je=Object(de.a)(["\n  width: 100%;\n  color: white;\n  background-color: #065f46;\n  border: none;\n  border-radius: 100px;\n  font-size: 2.5rem;\n  transition: all 300ms;\n  padding: 1.2rem 2.4rem;\n  text-transform: uppercase;\n  white-space: nowrap;\n  letter-spacing: 0.15rem;\n  box-shadow: 0 1rem 1rem rgba(0, 0, 0, 0.15);\n  transition: all 0.3s;\n\n  &:hover {\n    background-color: #064e3b;\n    box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.3);\n    transform: translateY(-0.4rem);\n\n  }\n"]))),dn=ue.b.h1($e||($e=Object(de.a)(["\n  position: relative;\n  font-size: 4.2rem;\n  color: #212529;\n  margin: 4rem 0 10rem 0;\n  color: #065f46;\n  letter-spacing: 3px;\n  text-transform: uppercase;\n  animation: moveDown 1s;\n"]))),un=ue.b.div(et||(et=Object(de.a)(["\n  text-align: center;\n"]))),pn=ue.b.p(tt||(tt=Object(de.a)(["\n  position: absolute;\n  font-size: 1.8rem;\n  color: #064e3b;\n  top: 0;\n  right: 50%;\n  background-color: #d1fae5;\n  padding: 1.2rem;\n  border-radius: 1rem;\n  transform: translate(50%, 6.5rem);\n"]))),mn=ue.b.button(nt||(nt=Object(de.a)(['\nborder: none;\n  text-decoration: none;\n  color: white;\n  padding: 0.7rem 1.8rem;\n  margin-left: 0.5rem;\n  background-color: #065f46;\n  font-family: "Lato";\n  white-space: nowrap;\n  margin-top: 0.4rem;\n  display: inline-block;\n  text-transform: uppercase;\n  border-radius: 10rem;\n  box-shadow: 0 1rem 1rem rgba(0, 0, 0, 0.15);\n  transition: all 0.3s;\n  letter-spacing: 0.5px;\n\n  &:hover {\n    background-color: #064e3b;\n    color: white;\n    transform: translateY(-0.4rem);\n    box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.3);\n  }\n']))),bn=ue.b.div(rt||(rt=Object(de.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  row-gap: 4.8rem;\n  margin-top: 3.2rem;\n  margin-bottom: 4.8rem;\n  animation: moveDown 1s;\n  align-items: center;\n\n  @media (max-width: 980px) {\n    grid-template-columns: 1fr;\n  }\n"]))),hn=ue.b.h1(at||(at=Object(de.a)(["\n  font-size: 4.8rem;\n  color: #065f46;\n  position: relative;\n  .location {\n    font-size: 2rem;\n    margin-top: 1rem;\n    margin-bottom: 1.6rem;\n  }\n"]))),jn=ue.b.div(ot||(ot=Object(de.a)(["\n  @media (max-width: 900px) {\n    justify-self: center;\n  }\n"]))),gn=ue.b.div(st||(st=Object(de.a)(["\n  justify-self: right;\n\n  @media (max-width: 900px) {\n    justify-self: center;\n  }\n"]))),fn=ue.b.button(it||(it=Object(de.a)(["\n  padding: 1.2rem;\n  border: none;\n  background-color: white;\n  color: #065f46;\n  background-color: #f7f7f7;\n\n  .number {\n    font-size: 1.8rem;\n    font-weight: bold;\n  }\n\n  .text {\n    font-size: 1.4rem;\n    font-weight: bold;\n    text-transform: uppercase;\n    letter-spacing: 0.7px;\n  }\n\n  &:hover {\n    color: #10b981;\n  }\n"]))),xn=Object(ue.b)(Ce.d)(ct||(ct=Object(de.a)(["\n  color: inherit;\n  font-size: 1.5rem;\n  margin-bottom: 1rem;\n"]))),On=Object(ue.b)(Ce.i)(lt||(lt=Object(de.a)(["\n  color: inherit;\n  font-size: 2rem;\n  margin-bottom: 1rem;\n"]))),vn=Object(ue.b)(Ce.e)(dt||(dt=Object(de.a)(["\n  color: inherit;\n  font-size: 2rem;\n  margin-bottom: 1rem;\n"]))),wn=ue.b.div(ut||(ut=Object(de.a)(["\n  position: relative;\n  animation: movedown 1s;\n"]))),yn=ue.b.div(pt||(pt=Object(de.a)(["\n  display: flex;\n  overflow: hidden;\n  gap: 1rem;\n  margin-bottom: 5rem;\n  position: relative;\n"]))),Sn=ue.b.img(mt||(mt=Object(de.a)(["\n  height: 40rem;\n  width: auto;\n  transition: all 0.5s;\n  cursor: pointer;\n"]))),En=ue.b.img(bt||(bt=Object(de.a)(["\n  height: 60rem;\n  width: auto;\n  transition: all 0.5s;\n  cursor: auto;\n\n  @media (max-width: 800px) {\n    height: 50rem;\n  }\n\n  @media (max-width: 550px) {\n    height: 35rem;\n  }\n\n  @media (max-width: 400px) {\n    height: 25rem;\n  }\n"]))),kn=Object(ue.b)(Ce.c)(ht||(ht=Object(de.a)(["\n  position: absolute;\n  right: -6rem;\n  top: -6rem;\n  font-size: 5rem;\n  color: #065f46;\n  cursor: auto;\n"]))),An=Object(ue.b)(Ce.a)(jt||(jt=Object(de.a)(["\n  position: absolute;\n  left: -7rem;\n  top: 50%;\n  z-index: 10;\n  cursor: pointer;\n  font-size: 5rem;\n  transform: translate(0, -50%);\n  color: #065f46;\n  &:hover {\n    color: #10b981;\n  }\n\n\n  @media (max-width: 768px) {\n    font-size: 3rem;\n    left: -4rem;\n  }\n"]))),Cn=Object(ue.b)(Ce.b)(gt||(gt=Object(de.a)(["\n  position: absolute;\n  right: -7rem;\n  top: 50%;\n  z-index: 10;\n  font-size: 5rem;\n  transform: translate(0, -50%);\n  cursor: pointer;\n  color: #065f46;\n\n  &:hover {\n    color: #10b981;\n  }\n\n  @media (max-width: 768px) {\n    font-size: 3rem;\n    right: -4rem;\n  }\n"]))),Tn=ue.b.div(ft||(ft=Object(de.a)(["\n  background-color: #ecfdf5;\n"]))),In=ue.b.div(xt||(xt=Object(de.a)(["\n  width: 80%;\n  display: grid;\n  grid-template-columns: 3fr 1fr;\n  column-gap: 3rem;\n  padding: 6.4rem;\n  margin: 0 auto;\n\n  @media (max-width: 1024px) {\n    grid-template-columns: 1fr;\n    justify-items: center;\n    width: 100%;\n  }\n"]))),Rn=ue.b.p(Ot||(Ot=Object(de.a)(['\n  font-size: 2rem;\n  font-family: "IBM Plex Serif", serif;\n  line-height: 1.5;\n  color: #111827;\n  margin-bottom: 4.8rem;\n  /* word-break: break-all; */\n  @media (max-width: 1024px) {\n    font-size: 1.8rem;\n  }\n']))),_n=ue.b.div(vt||(vt=Object(de.a)(["\n  width: 60%;\n  grid-column: 1 / -1;\n  margin-bottom: 4.8rem;\n  margin-top: 2.5rem;\n  @media (max-width: 900px) {\n    width: 100%;\n    align-self: center;\n    text-align: center;\n  }\n"]))),Ln=ue.b.textarea(wt||(wt=Object(de.a)(["\n  background-color: #f9fafb;\n  width: 100%;\n  display: block;\n  margin-bottom: 1.2rem;\n  border: none;\n  padding: 1.2rem;\n  outline: none;\n  border: ",";\n  &:focus {\n    box-shadow: 0 0 0 1px #065f46;\n  }\n"])),(function(e){return e.error?"1px solid red":"none"})),zn=ue.b.button(yt||(yt=Object(de.a)(["\n  width: 100%;\n  padding: 1.2rem;\n  border: none;\n  background-color: #065f46;\n  color: #fff;\n  transition: all 0.3s;\n  border-radius: 10rem;\n  text-transform: uppercase;\n  &:hover {\n    background-color: #064e3b;\n  }\n"]))),Nn=ue.b.div(St||(St=Object(de.a)(["\n  margin: 1.2rem 0;\n"]))),Dn=Object(ue.b)(Ce.h)(Et||(Et=Object(de.a)(["\n  color: #065f46;\n  font-size: 5rem;\n"]))),Mn=ue.b.div(kt||(kt=Object(de.a)(["\n  display: flex;\n  gap: 0.6rem;\n  align-items: center;\n  .name {\n    font-weight: bold;\n    margin: 0;\n    font-size: 1.7rem;\n  }\n\n  @media (max-width: 900px) {\n    text-align: center;\n  }\n"]))),Gn=ue.b.button(At||(At=Object(de.a)(["\n  margin-left: 1rem;\n  border: none;\n  background-color: #065f46;\n  padding: 0.8rem 1.6rem;\n  color: white;\n  border-radius: 10rem;\n"]))),Bn=ue.b.div(Ct||(Ct=Object(de.a)(["\n  text-align: left;\n  @media (max-width: 900px) {\n    text-align: center;\n  }\n"]))),Fn=ue.b.div(Tt||(Tt=Object(de.a)(["\n  .title {\n    font-size: 4rem;\n    margin-bottom: 2.5rem;\n  }\n"]))),Un=ue.b.div(It||(It=Object(de.a)(["\n  margin-bottom: 4.8rem;\n  .content {\n    font-size: 2rem;\n    line-height: 1.3;\n    font-family: Arial, Helvetica, sans-serif;\n    /* letter-spacing: 0.01px; */\n  }\n"]))),qn=ue.b.div(Rt||(Rt=Object(de.a)(["\n  border: 2px solid #065f46;\n  padding: 1rem;\n  align-self: start;\n  border-radius: 10px;\n  margin-bottom: 3rem;\n"]))),Yn=ue.b.button(_t||(_t=Object(de.a)(["\n  background-color: #f87171;\n  border: none;\n  padding: 0.8rem 1.6rem;\n  color: black;\n  border-radius: 10rem;\n"]))),Hn=ue.b.button(Lt||(Lt=Object(de.a)(["\n  background-color: #fde68a;\n  border: none;\n  padding: 0.8rem 1.6rem;\n  margin-right: 2rem;\n  border-radius: 10rem;\n  .link {\n    text-decoration: none;\n    color: black;\n  }\n"]))),Pn=ue.b.p(zt||(zt=Object(de.a)(["\n  font-size: 2.5rem;\n  margin-bottom: 3rem;\n  font-weight: bold;\n"]))),Vn=ue.b.button(Nt||(Nt=Object(de.a)(["\n  padding: 1.2rem 3rem;\n  border: none;\n  background-color: #065f46;\n  transition: all 0.3s;\n  margin-right: 3rem;\n  margin-left: 1rem;\n  border-radius: 10rem;\n  text-transform: uppercase;\n  .link {\n    color: #fff;\n    text-decoration: none;\n  }\n\n  &:hover {\n    background-color: #064e3b;\n  }\n"]))),Wn=ue.b.button(Dt||(Dt=Object(de.a)(["\n  padding: 1.2rem 3rem;\n  border: none;\n  background-color: #d1fae5;\n  transition: all 0.3s;\n  border-radius: 10rem;\n  text-transform: uppercase;\n\n  .link {\n    color: #064e3b;\n    text-decoration: none;\n  }\n\n  &:hover {\n    background-color: #a7f3d0;\n  }\n"]))),Kn=ue.b.p(Mt||(Mt=Object(de.a)(["\n  position: absolute;\n  font-size: 1.8rem;\n  color: #064e3b;\n  top: -25px;\n  left: 50%;\n  transform: translateX(50%);\n  background-color: #d1fae5;\n  padding: 1rem;\n  border-radius: 1rem;\n  white-space: nowrap;\n"]))),Qn=ue.b.div(Gt||(Gt=Object(de.a)(["\n  margin: 0;\n  margin-bottom: 1.5rem;\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n"]))),Zn=ue.b.p(Bt||(Bt=Object(de.a)(["\n  color: #064e3b;\n  margin-bottom: 0;\n  padding: 0;\n\n  .text {\n    font-size: 1.8rem;\n  }\n"]))),Xn=n(25),Jn=n.n(Xn),$n=function(e){Object(A.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={buttonVisibilty:""},e.renderAttractions=function(){return e.props.attractions?Object(Ee.jsx)(rn,{children:e.props.attractions.map((function(e){var t=e.name,n=e.description,r=e._id,a=e.images,o=e.averageRating;e.reviews;return Object(Ee.jsx)(on,{children:Object(Ee.jsxs)(De.a,{style:{textDecoration:"none"},to:"/attractions/".concat(r),children:[Object(Ee.jsx)(an,{src:a[0].url,alt:"pic"}),Object(Ee.jsxs)(sn,{children:[Object(Ee.jsx)("p",{className:"name",children:t}),Object(Ee.jsx)(Qn,{children:Object(Ee.jsx)(Jn.a,{rating:o,starDimension:"1.8rem",starSpacing:"1px",starRatedColor:"#065f46"})}),Object(Ee.jsxs)("p",{className:"subtitle",children:[n.split(/\s+/).slice(0,16).join(" "),"..."]}),Object(Ee.jsx)(un,{children:Object(Ee.jsx)(mn,{children:"Read More \u2192"})})]})]})},r)}))}):""},e.renderGetAllButton=function(){return!e.props.attractions||e.props.count<=8||e.props.attractions.length>8?"":Object(Ee.jsxs)(ln,{style:{visibility:e.state.buttonVisibilty},onClick:function(){e.props.getAllAttractions(),e.setState({buttonVisibilty:"hidden"})},children:["See All ",e.props.count," Attractions"]})},e}return Object(k.a)(n,[{key:"componentDidMount",value:function(){this.props.getAttractions(),this.props.getAttractionCount()}},{key:"render",value:function(){return Object(Ee.jsxs)(ve,{children:[Object(Ee.jsx)(un,{children:Object(Ee.jsxs)(dn,{children:["All the places in London",this.props.flashMessage&&Object(Ee.jsx)(pn,{children:this.props.flashMessage})]})}),this.renderAttractions(),Object(Ee.jsx)("br",{}),Object(Ee.jsx)(cn,{children:this.renderGetAllButton()})]})}}]),n}(a.a.Component),er=Object(i.b)((function(e){var t=e.attractions,n=e.attractionsCount,r=e.flashMessage;return{attractions:f.a.values(t),count:n.count,flashMessage:r.data}}),{getAttractions:function(){return function(e){Object(z.a)(L.a.mark((function t(){var n,r;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.get("/attractions");case 2:n=t.sent,r=n.data,e({type:"GET_ATTRACTIONS",payload:r});case 5:case"end":return t.stop()}}),t)})))()}},getAllAttractions:ee,getAttractionCount:function(){return function(e){Object(z.a)(L.a.mark((function t(){var n,r;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.get("/attractions/count");case 2:n=t.sent,r=n.data,e({type:"GET_ATTRACTION_COUNT",payload:r.count});case 5:case"end":return t.stop()}}),t)})))()}}})($n),tr=n(36),nr=n(37),rr=function(){return Object(Ee.jsx)("div",{children:Object(Ee.jsx)("img",{style:{transform:"translate(0,-100%)"},alt:"marker",src:"/marker.png",height:"20px",width:"20px"})})},ar=function(e){Object(A.a)(n,e);var t=Object(C.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"render",value:function(){return this.props.geocode?Object(Ee.jsx)("div",{style:{height:"40rem",width:"40rem"},children:Object(Ee.jsx)(nr.a,{bootstrapURLKeys:{key:"AIzaSyCkM2KZSzCVr9aS-Vuq_KhGDnLYR3vboEk"},defaultCenter:this.props.geocode,defaultZoom:11,children:Object(Ee.jsx)(rr,{lat:this.props.geocode.lat,lng:this.props.geocode.lng})})}):""}}]),n}(r.Component),or=n(46),sr=n.n(or),ir=ue.b.h1(Ft||(Ft=Object(de.a)(["\n  position: fixed;\n  font-weight: bold;\n  white-space: nowrap;\n  text-transform: uppercase;\n  letter-spacing: 1.1px;\n  font-size: 4rem;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),cr=se.a.object({content:se.a.string().required()});sr.a.setAppElement("#root");var lr,dr,ur,pr,mr,br,hr,jr,gr,fr=function(e){Object(A.a)(n,e);var t=Object(C.a)(n);function n(e){var r;return Object(E.a)(this,n),(r=t.call(this,e)).renderScrollButtons=function(){var e=r.imgsContainer.current;if(r.props.attraction&&e){for(var t=r.props.attraction.images.length,n=Object(tr.a)(e.querySelectorAll("Img")),a=[],o=0;o<n.length;o++)a.push(n[o].clientWidth);if(r.state.loadedImages===t&&e.scrollWidth>e.clientWidth)return!0}return!1},r.renderReviews=function(){return r.props.attraction.reviews.length<1?"":Object(Ee.jsxs)(Fn,{children:[Object(Ee.jsx)(Bn,{children:Object(Ee.jsx)("h3",{className:"title",children:"Reviews"})}),Object(Ee.jsx)("ul",{children:r.props.attraction.reviews.map((function(e){var t=e.content,n=e._id,a=e.stars,o=e.author;return Object(Ee.jsxs)(Un,{children:[Object(Ee.jsxs)(Mn,{children:[Object(Ee.jsx)(Dn,{}),Object(Ee.jsx)("p",{className:"name",children:o.username}),r.props.user.loggedIn&&r.props.user.id===o._id&&Object(Ee.jsx)(Gn,{onClick:function(){r.props.deleteAttrationReview({attractionId:r.props.attraction._id,reviewId:n})},children:"delete"})]}),Object(Ee.jsx)(Qn,{children:Object(Ee.jsx)(Jn.a,{rating:a,starDimension:"16px",starSpacing:"2px",starRatedColor:"#065f46"})}),Object(Ee.jsx)("p",{className:"content",children:t})]},n)}))})]})},r.changeRating=function(e){r.setState({stars:e})},r.renderAddReview=function(){if(!r.props.user.loggedIn)return Object(Ee.jsxs)(_n,{children:[Object(Ee.jsx)(Pn,{children:"Log in or Signup to leave a review"}),Object(Ee.jsx)(Vn,{children:Object(Ee.jsx)(De.a,{className:"link",to:"/login",children:"Login"})}),Object(Ee.jsx)(Wn,{children:Object(Ee.jsx)(De.a,{className:"link",to:"/register",children:"SIGN UP"})})]});return Object(Ee.jsx)(_n,{children:Object(Ee.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=r.props.attraction._id,n=cr.validate({content:r.state.review}).error;n?r.setState({reviewError:n.details[0].message}):(r.props.addAttractionReview({attractionId:t,content:r.state.review,stars:r.state.stars}),r.setState({review:"",stars:0}),r.setState({reviewError:""}))},method:"post",children:[Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(Pn,{children:"How was your experience?"}),Object(Ee.jsx)(Nn,{children:Object(Ee.jsx)(Jn.a,{rating:r.state.stars,starRatedColor:" #065f46",changeRating:r.changeRating,numberOfStars:5,name:"rating",starHoverColor:" #065f46",starDimension:"32px"})})]}),Object(Ee.jsx)(Ln,{className:"text-area",value:r.state.review,error:r.state.reviewError,onChange:function(e){r.setState({review:e.target.value})},name:"review",id:"review",cols:"30",rows:"10"}),Object(Ee.jsx)(xe,{children:r.state.reviewError}),Object(Ee.jsx)(zn,{type:"submit",children:"Add Review"})]})})},r.renderDeleteButton=function(){return r.props.user&&r.props.user.id===r.props.attraction.addedBy?Object(Ee.jsx)(Yn,{variant:"danger",onClick:function(){r.props.deleteAttraction(r.props.attraction._id)},children:"Delete"}):""},r.renderEditButton=function(){return r.props.user.loggedIn&&r.props.user.id===r.props.attraction.addedBy?Object(Ee.jsx)(Hn,{variant:"warning",children:Object(Ee.jsx)(De.a,{className:"link",to:"/attractions/".concat(r.props.attraction._id,"/edit"),children:"Edit"})}):""},r.isOnList=function(){return!(!r.props.user.list||!r.props.user.list.some((function(e){return e._id===r.props.attraction._id})))},r.renderAddToListButton=function(e){return r.props.user.loggedIn&&r.isOnList()?Object(Ee.jsxs)(fn,{onClick:function(){r.props.removeFromList(e)},children:[Object(Ee.jsx)(vn,{}),Object(Ee.jsx)("p",{className:"text",children:"Remove "})]}):Object(Ee.jsxs)(fn,{onClick:function(){r.props.addToList(e)},children:[Object(Ee.jsx)(vn,{}),Object(Ee.jsx)("p",{className:"text",children:"Add to List"})]})},r.renderButtons=function(e){var t=r.props.attraction,n=t.visited,a=t.wantToVisit;return Object(Ee.jsxs)(gn,{onClick:function(){r.props.user.loggedIn||I.push("/login")},children:[Object(Ee.jsxs)(fn,{onClick:function(){r.props.addToWantToVisit(e)},children:[Object(Ee.jsx)(On,{}),Object(Ee.jsx)("p",{className:"text",children:"Want to Vist"}),Object(Ee.jsx)("p",{className:"number",children:a})]}),Object(Ee.jsxs)(fn,{onClick:function(){r.props.addToBeenThere(e)},children:[Object(Ee.jsx)(xn,{}),Object(Ee.jsx)("p",{className:"text",children:"Been Here?"}),Object(Ee.jsx)("p",{className:"number",children:n})]}),r.renderAddToListButton(e)]})},r.openModal=function(){r.setState({modalIsOpen:!0}),document.body.style.overflow="hidden"},r.closeModal=function(){r.setState({modalIsOpen:!1}),document.body.style.overflow="unset"},r.renderImageModal=function(){return Object(Ee.jsx)("div",{children:Object(Ee.jsxs)(sr.a,{style:{content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",padding:0,overflow:"visible"},overlay:{zIndex:1e3}},isOpen:r.state.modalIsOpen,children:[Object(Ee.jsx)(kn,{onClick:r.closeModal}),Object(Ee.jsx)(En,{src:r.state.currentImage})]})})},r.renderImages=function(e){return e.length>0?e.map((function(e){var t=e.url,n=e.public_id;return Object(Ee.jsx)(Sn,{onClick:function(){r.setState({currentImage:t}),r.openModal()},src:t,alt:n,onLoad:function(){var e=r.state.loadedImages;r.setState({loadedImages:e+1})}},n)})):""},r.renderAttraction=function(){if(r.props.attraction){var e=r.props.attraction,t=e.name,n=e.description,a=e.images,o=e.location,s=e._id,i=e.geocode,c=e.averageRating,l=e.reviews;return Object(Ee.jsxs)("div",{children:[Object(Ee.jsxs)(ve,{children:[r.renderImageModal(),Object(Ee.jsxs)(bn,{children:[Object(Ee.jsxs)(jn,{children:[Object(Ee.jsxs)(hn,{children:[t," ",Object(Ee.jsx)("p",{className:"location",children:o}),r.props.flashMessage&&Object(Ee.jsx)(Kn,{children:r.props.flashMessage})]}),Object(Ee.jsxs)(Qn,{children:[Object(Ee.jsx)(Jn.a,{rating:c,starDimension:"1.8rem",starSpacing:"2px",starRatedColor:"#065f46"}),Object(Ee.jsx)(Zn,{children:Object(Ee.jsxs)("span",{className:"text",children:[l.length," ","".concat(l.length>1||0===l.length?"ratings":"rating")]})})]}),r.renderEditButton(s),r.renderDeleteButton()]}),r.renderButtons(s)]}),Object(Ee.jsxs)(wn,{children:[r.renderScrollButtons()&&Object(Ee.jsx)(An,{onClick:function(){r.sideScroll(r.imgsContainer.current,7,300,-20)}}),r.renderScrollButtons()&&Object(Ee.jsx)(Cn,{onClick:function(){r.sideScroll(r.imgsContainer.current,7,300,20)}}),Object(Ee.jsx)("div",{style:{transform:" translate(0, 0)"},children:Object(Ee.jsx)(yn,{ref:r.imgsContainer,children:r.renderImages(a)})})]})]}),Object(Ee.jsx)(Tn,{children:Object(Ee.jsxs)(In,{children:[Object(Ee.jsx)(Rn,{children:n}),Object(Ee.jsx)(qn,{children:Object(Ee.jsx)(ar,{geocode:i})}),r.renderAddReview(),r.renderReviews()]})})]})}return Object(Ee.jsx)(ir,{children:"Attraction not found"})},r.state={review:"",stars:0,reviewError:"",scroll:!1,modalIsOpen:!1,currentImage:0,loadedImages:0,widths:[]},r.imgsContainer=a.a.createRef(),r}return Object(k.a)(n,[{key:"componentDidMount",value:function(){this.props.getAttraction(this.props.match.params.id),this.props.user.loggedIn&&this.props.getUserAttractions(),window.scrollTo(0,0)}},{key:"sideScroll",value:function(e,t,n,r){var a=0,o=setInterval((function(){e.scrollLeft+=r,(a+=Math.abs(r))>=n&&clearInterval(o)}),t)}},{key:"render",value:function(){return Object(Ee.jsx)("div",{children:this.renderAttraction()})}}]),n}(a.a.Component),xr=Object(i.b)((function(e,t){var n=e.attractions,r=e.user,a=e.flashMessage;return{attraction:n[t.match.params.id],user:r,flashMessage:a.data}}),{getAttraction:J,addAttractionReview:function(e){var t=e.attractionId,n=e.content,r=e.stars;return function(e){Object(z.a)(L.a.mark((function a(){var o,s;return L.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,M.post("/attractions/".concat(t,"/reviews"),{content:n,stars:r});case 2:o=a.sent,s=o.data,e({type:"GET_ATTRACTION",payload:s});case 5:case"end":return a.stop()}}),a)})))()}},deleteAttrationReview:function(e){var t=e.attractionId,n=e.reviewId;return function(e){Object(z.a)(L.a.mark((function r(){var a,o;return L.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,M.delete("/attractions/".concat(t,"/reviews/").concat(n));case 2:a=r.sent,o=a.data,e({type:"GET_ATTRACTION",payload:o});case 5:case"end":return r.stop()}}),r)})))()}},addToWantToVisit:function(e){return function(t){Object(z.a)(L.a.mark((function n(){var r,a;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M.post("/attractions/".concat(e,"/wanttovist"));case 2:r=n.sent,"ALREADY ADDED"!==(a=r.data)&&(t(J(e)),t({type:"UPDATE_USER_LIST",payload:a}),t({type:"FLASH_MESSAGE",payload:"Attraction has been added to your list"}),setTimeout((function(){t({type:"FLASH_MESSAGE",payload:""})}),5e3));case 5:case"end":return n.stop()}}),n)})))()}},addToBeenThere:function(e){return function(t){Object(z.a)(L.a.mark((function n(){var r,a;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M.post("/attractions/".concat(e,"/beenthere"));case 2:r=n.sent,"ALREADY ADDED"!==(a=r.data)&&(t(J(e)),t({type:"UPDATE_USER_LIST",payload:a}),t({type:"FLASH_MESSAGE",payload:"Attraction has been to your list"}),setTimeout((function(){t({type:"FLASH_MESSAGE",payload:""})}),5e3));case 5:case"end":return n.stop()}}),n)})))()}},addToList:function(e){return function(t){Object(z.a)(L.a.mark((function n(){var r,a;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M.post("/attractions/".concat(e,"/list"));case 2:r=n.sent,"WRONG REQUEST"!==(a=r.data)&&(t({type:"UPDATE_USER_LIST",payload:a}),t({type:"FLASH_MESSAGE",payload:"Attraction has been added to your list"}),setTimeout((function(){t({type:"FLASH_MESSAGE",payload:""})}),5e3));case 5:case"end":return n.stop()}}),n)})))()}},deleteAttraction:function(e){return function(t){Object(z.a)(L.a.mark((function n(){var r,a;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M.delete("/attractions/".concat(e));case 2:r=n.sent,a=r.data,t({type:"DELETE_ATTRACTION",payload:a}),t({type:"FLASH_MESSAGE",payload:"Attraction has been deleted"}),setTimeout((function(){t({type:"FLASH_MESSAGE",payload:""})}),5e3),I.push("/");case 8:case"end":return n.stop()}}),n)})))()}},getUserAttractions:te,removeFromList:function(e){return function(t){Object(z.a)(L.a.mark((function n(){var r,a;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,M.delete("/attractions/".concat(e,"/list"));case 2:r=n.sent,"WRONG REQUEST"!==(a=r.data)&&(t({type:"UPDATE_USER_LIST",payload:a}),t({type:"FLASH_MESSAGE",payload:"Attraction has been removed to your list"}),setTimeout((function(){t({type:"FLASH_MESSAGE",payload:""})}),5e3));case 5:case"end":return n.stop()}}),n)})))()}}})(fr),Or=function(e){Object(A.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).renderAttractions=function(e){return e&&0!==e.length?Object(Ee.jsx)(rn,{children:e.map((function(e){var t=e.name,n=e.description,r=e._id,a=e.images,o=e.averageRating;return Object(Ee.jsx)(on,{children:Object(Ee.jsxs)(De.a,{style:{textDecoration:"none"},to:"/attractions/".concat(r),children:[Object(Ee.jsx)(an,{src:a[0].url,alt:"pic"}),Object(Ee.jsxs)(sn,{children:[Object(Ee.jsx)("p",{className:"name",children:t}),Object(Ee.jsx)(Qn,{children:Object(Ee.jsx)(Jn.a,{rating:o,starDimension:"1.8rem",starSpacing:"1px",starRatedColor:"#065f46"})}),Object(Ee.jsxs)("p",{className:"subtitle",children:[n.substring(0,101),"..."]}),Object(Ee.jsx)(Bn,{children:Object(Ee.jsx)(mn,{children:"Read More \u2192"})})]})]})},r)}))}):Object(Ee.jsx)("p",{style:{fontSize:"25px"},children:"Nothing yet"})},e}return Object(k.a)(n,[{key:"componentDidMount",value:function(){this.props.user&&this.props.user.loggedIn&&this.props.getUserAttractions()}},{key:"render",value:function(){return this.props.user.loggedIn||I.push("/login"),Object(Ee.jsxs)(ve,{children:[Object(Ee.jsx)(dn,{children:"Places Where You Want To Go"}),this.renderAttractions(this.props.user.wantToVisit),Object(Ee.jsx)(dn,{children:"Places Where You've been"}),this.renderAttractions(this.props.user.beenThere),Object(Ee.jsx)(dn,{children:"Your List "}),this.renderAttractions(this.props.user.list)]})}}]),n}(a.a.Component),vr=Object(i.b)((function(e){return{user:e.user}}),{getUserAttractions:te})(Or),wr=ue.b.input(lr||(lr=Object(de.a)(['\n  width: 100%;\n  height:5rem;\n  font-family: "Inter";\n  padding: 1.2rem;\n  text-decoration: none;\n  border: none;\n  outline: none;\n  background-color: white;\n  box-shadow: 0 0.2rem 2rem rgba(0, 0, 0, 0.15);\n\n  &:focus {\n    box-shadow: 0 0 0 1px #065f46;\n  }\n\n  &::placeholder {\n    font-weight: 400;\n    text-decoration: none;\n    font-family: "Inter";\n    color: #065f46;\n    font-size: 2rem;\n  }\n']))),yr=ue.b.div(dr||(dr=Object(de.a)(["\n  width: 50%;\n  margin: 0 auto;\n  margin-bottom: 7rem;\n  @media (max-width: 900px) {\n    width: 100%;\n  }\n"]))),Sr=(ue.b.h1(ur||(ur=Object(de.a)(["\n  margin-top: 2.5rem;\n  "]))),function(e){Object(A.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={query:""},e.onQueryChange=function(t){e.setState({query:t.target.value}),f.a.debounce((function(){e.props.searchAttractions(e.state.query)}),300)()},e}return Object(k.a)(n,[{key:"render",value:function(){var e=this;return Object(Ee.jsx)(wr,{placeholder:"Look for your next destination!!",onChange:this.onQueryChange,value:this.state.query,type:"text",onBlur:function(){e.setState({query:""}),e.props.emptyQuery()}})}}]),n}(a.a.Component)),Er=Object(i.b)(null,{searchAttractions:$,emptyQuery:function(){return{type:"QUERY",payload:""}}})(Sr),kr=function(e){Object(A.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).onQueryChange=function(t){e.setState({query:t.target.value}),f.a.debounce((function(){e.props.searchAttractions(e.state.query)}),300)()},e.renderAttractions=function(){if(!e.props.attractions)return"";if(0===e.props.attractions.length){var t=e.props.query.length>0?'No results were found for "'.concat(e.props.query,'"'):"";return Object(Ee.jsx)(rn,{children:Object(Ee.jsx)("div",{style:{whiteSpace:"nowrap"},children:t})})}return Object(Ee.jsx)(rn,{children:e.props.attractions.map((function(e){var t=e.name,n=e.description,r=e._id,a=e.images,o=e.averageRating;return Object(Ee.jsx)(on,{children:Object(Ee.jsxs)(De.a,{style:{textDecoration:"none"},to:"/attractions/".concat(r),children:[Object(Ee.jsx)(an,{src:a[0].url,alt:"pic"}),Object(Ee.jsxs)(sn,{children:[Object(Ee.jsx)("p",{className:"name",children:t}),Object(Ee.jsx)(Qn,{children:Object(Ee.jsx)(Jn.a,{rating:o,starDimension:"1.8rem",starSpacing:"1px",starRatedColor:"#065f46"})}),Object(Ee.jsxs)("p",{className:"subtitle",children:[n.substring(0,101),"..."]}),Object(Ee.jsx)(fe,{children:Object(Ee.jsx)(mn,{children:"Read More \u2192"})})]})]})},r)}))})},e}return Object(k.a)(n,[{key:"render",value:function(){return Object(Ee.jsxs)(ve,{children:[Object(Ee.jsx)(fe,{children:Object(Ee.jsx)(ge,{children:"Search"})}),Object(Ee.jsx)(yr,{children:Object(Ee.jsx)(Er,{})}),Object(Ee.jsx)("div",{children:this.renderAttractions()})]})}}]),n}(a.a.Component),Ar=Object(i.b)((function(e){var t=e.attractionsSearchResults,n=e.query;return{attractions:f.a.values(t),query:n}}),{searchAttractions:$})(kr),Cr=function(e){Object(A.a)(n,e);var t=Object(C.a)(n);function n(e){var r;return Object(E.a)(this,n),(r=t.call(this,e)).componentDidMount=function(){r.props.getAttraction(r.props.match.params.id)},r.onTermChange=function(e){r.setState({term:e.target.value}),f.a.debounce((function(){r.props.getAdresses(r.state.term),console.log(r.props.addresses),0===r.props.addresses.length?r.setState({locationError:"It must be a valid UK address"}):r.setState({locationError:""})}),400)()},r.onNameChange=function(e){r.setState({name:e.target.value})},r.onDescriptionChange=function(e){r.setState({description:e.target.value})},r.onLocationChange=function(e){r.setState({location:e.target.value})},r.onImageChange=function(e){r.setState({images:e.target.files})},r.handleSubmit=function(e){e.preventDefault();var t=r.props.attraction._id,n=r.state.nameError,a=r.state.locationError,o=r.state.descriptionError;n||o||a||(r.state.deleteImages.length!==r.props.attraction.images.length||r.state.images?(r.props.editAttraction(Object(b.a)(Object(b.a)({},r.state),{},{_id:t})),r.setState({loading:!0})):r.setState({imagesError:"You must upload at least one image"}))},r.renderImages=function(e){return e?e.map((function(e){return Object(Ee.jsx)("img",{onClick:function(){var t=Object(tr.a)(r.state.deleteImages),n=t.indexOf(e.public_id);n<0?(t.push(e.public_id),r.setState({deleteImages:t})):(t.splice(n,1),r.setState({deleteImages:t}))},src:e.url,alt:e.public_id,style:{width:"150px",height:"auto",marginRight:"10px",marginBottom:"30px",opacity:"".concat(r.state.deleteImages.indexOf(e.public_id)<0?"":"0.3")}},e.public_id)})):""},r.renderAdressDropdown=function(){return Object(Ee.jsx)($t,{onClick:r.onLocationChange,children:r.props.addresses.map((function(e,t){var n=e.address;return Object(Ee.jsx)("option",{value:n,children:n},t)}))})},r.state={name:null,description:null,location:null,images:null,deleteImages:[],term:"",nameError:"",descriptionError:"",locationError:"",imagesError:"",loading:!1},r}return Object(k.a)(n,[{key:"render",value:function(){var e=this;return this.props.user.loggedIn||I.push("/"),this.props.attraction?Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(Xt,{children:Object(Ee.jsxs)(Zt,{children:["Edit Attraction",this.props.message&&Object(Ee.jsx)(en,{children:this.props.message})]})}),Object(Ee.jsx)(Vt,{style:{width:"50%",marginBottom:"50px"},children:Object(Ee.jsxs)("form",{onSubmit:this.handleSubmit,encType:"multipart/form-data",children:[Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(Kt,{style:{marginBottom:"20px"},children:"Select To Delete Images:"}),Object(Ee.jsx)("div",{children:this.props.attraction&&this.renderImages(this.props.attraction.images)})]}),Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(Kt,{htmlFor:"name",children:"Name"}),Object(Ee.jsx)(Wt,{type:"text",name:"name",onChange:this.onNameChange,value:this.state.name,error:this.state.nameError,onBlur:function(t){var n=Yt.validate({name:t.target.value}).error;n?e.setState({nameError:n.details[0].message}):e.setState({nameError:""})}}),Object(Ee.jsx)(xe,{children:this.state.nameError})]}),Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(Kt,{htmlFor:"description",children:"Description"}),Object(Ee.jsx)(Jt,{name:"description",onChange:this.onDescriptionChange,value:this.state.description,error:this.state.descriptionError,onBlur:function(t){var n=Ht.validate({description:t.target.value}).error;n?e.setState({descriptionError:n.details[0].message}):e.setState({descriptionError:""})}}),Object(Ee.jsx)(xe,{children:this.state.descriptionError})]}),Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(Kt,{htmlFor:"location",children:"Address"}),Object(Ee.jsx)(Wt,{type:"text",name:"location",onChange:this.onTermChange,value:this.state.term,error:this.state.locationError,onBlur:function(t){var n=Pt.validate({location:t.target.value}).error;n?e.setState({locationError:n.details[0].message}):0!==e.props.addresses.length&&e.setState({locationError:""})}}),Object(Ee.jsx)(xe,{children:this.state.locationError})]}),this.props.addresses.length>0&&this.renderAdressDropdown(),Object(Ee.jsxs)("div",{children:[Object(Ee.jsx)(Kt,{htmlFor:"image",children:"Upload images"}),Object(Ee.jsx)(Wt,{style:{backgroundColor:"#F9FAFB"},onChange:this.onImageChange,type:"file",name:"images",multiple:!0}),Object(Ee.jsx)(xe,{children:this.state.imagesError})]}),Object(Ee.jsxs)(Qt,{type:"submit",children:[this.state.loading&&Object(Ee.jsx)(ye,{}),"Edit Attraction"]})]})})]}):"loading..."}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(null==t.name&&e.attraction){var n=e.attraction,r=n.name,a=n.description,o=n.location;return{name:r,description:a,location:o,term:o}}return null}}]),n}(a.a.Component),Tr=Object(i.b)((function(e,t){var n=e.attractions,r=e.user,a=e.addresses,o=e.flashMessage;return{attraction:n[t.match.params.id],user:r,addresses:a,message:o.data}}),{getAttraction:J,editAttraction:function(e){var t=e.name,n=e.location,r=e.description,a=e.images,o=e._id,s=e.deleteImages,i=new FormData;if(i.append("name",t),i.append("description",r),i.append("location",n),i.append("deleteImages",JSON.stringify(s)),a){var c,l=Object(R.a)(a);try{for(l.s();!(c=l.n()).done;){var d=c.value;i.append("images",d)}}catch(u){l.e(u)}finally{l.f()}}return function(e){Object(z.a)(L.a.mark((function t(){var n,r;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M.put("/attractions/".concat(o),i);case 2:n=t.sent,r=n.data,e({type:"CREAT_ATTRACTION",payload:r}),G(e,{type:"FLASH_MESSAGE",payload:"Attraction has been edited"}),I.push("/attractions/".concat(r._id));case 7:case"end":return t.stop()}}),t)})))()}},getAdresses:re})(Cr),Ir=function(e){var t=e.attraction,n=Object(r.useState)(!1),a=Object(Ne.a)(n,2),o=a[0],s=a[1],i=Object(r.useState)(0),c=Object(Ne.a)(i,2),l=c[0],d=c[1];return Object(Ee.jsxs)("div",{style:{position:"absolute",transform:"translate(-50%, -40%) scale(0.8)",zIndex:l},onMouseOver:function(){s(!0),d(10)},onMouseLeave:function(){s(!1),d(0)},children:[o&&Object(Ee.jsx)(on,{style:{animation:"none",backgroundColor:"white"},children:Object(Ee.jsxs)(De.a,{style:{textDecoration:"none"},to:"/attractions/".concat(t._id),children:[Object(Ee.jsx)(an,{src:t.images[0].url,alt:"pic"}),Object(Ee.jsxs)(sn,{children:[Object(Ee.jsx)("p",{className:"name",children:t.name}),Object(Ee.jsx)(Qn,{children:Object(Ee.jsx)(Jn.a,{rating:t.averageRating,starDimension:"1.8rem",starSpacing:"1px",starRatedColor:"#065f46"})}),Object(Ee.jsxs)("p",{className:"subtitle",children:[t.description.substring(0,101),"..."]}),Object(Ee.jsx)(un,{children:Object(Ee.jsx)(mn,{children:"Read More \u2192"})})]})]})},t._id),!o&&Object(Ee.jsx)("img",{style:{transform:"translate(0,-100%)"},alt:"marker",src:"/marker.png",height:"25px",width:"25px"})]})},Rr=function(e){Object(A.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).renderMarkers=function(){return e.props.attractions.map((function(e){var t=e.geocode,n=e._id;return Object(Ee.jsx)(Ir,{lat:t.lat,lng:t.lng,attraction:e},n)}))},e}return Object(k.a)(n,[{key:"componentDidMount",value:function(){this.props.getAllAttractions()}},{key:"render",value:function(){return Object(Ee.jsx)(ve,{children:Object(Ee.jsx)("div",{style:{height:"80vh",width:"100%",marginTop:"20px",position:"relative"},children:Object(Ee.jsx)(nr.a,{bootstrapURLKeys:{key:"AIzaSyCkM2KZSzCVr9aS-Vuq_KhGDnLYR3vboEk"},defaultCenter:{lat:51.50809,lng:-.129137},defaultZoom:11,children:this.renderMarkers()})})})}}]),n}(r.Component),_r=Object(i.b)((function(e){var t=e.attractions;return{attractions:f.a.values(t)}}),{getAllAttractions:ee})(Rr),Lr=Object(ue.a)(pr||(pr=Object(de.a)(["\n   * {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nhtml {\n  /* overflow-y: scroll; */\n  \n  font-size: 63.5%;\n\n  @media (max-width: 1200px){\n  font-size: 55%;\n} \n\n@media (max-width:900px){\n  font-size:45%;\n\n} \n\n  @media (max-width:600px){\n  font-size:45%;\n\n } \n\n@media (min-width:1800px){\n  font-size: 75%;\n\n} \n}\nbody {\n  font-size: 18px;\n  font-family: 'Lato', Arial, Helvetica, sans-serif;\n  line-height: 1;\n  font-weight: 400;\n  color: #555;\n  -webkit-user-select: none; /* Safari */\n  -webkit-touch-callout: none; /* iOS Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n  -moz-user-select: none; /* Old versions of Firefox */\n  user-select: none;\n  background-color: #f7f7f7;\n\n\n /* @media (max-width:900px){\n  font-size:45%;\n\n}  */\n\n\n}\n"]))),zr=function(){return Object(Ee.jsx)("div",{children:Object(Ee.jsx)(ir,{children:"PAGE NOT FOUND"})})},Nr=ue.b.div(mr||(mr=Object(de.a)(["\n  position: absolute;\n  top: 0;\n  width: 100%;\n"]))),Dr=ue.b.div(br||(br=Object(de.a)(['\n  position: relative;\n  height: 100vh;\n  background-image: linear-gradient(\n      rgba(85, 197, 122, 0.4),\n      rgba(40, 180, 133, 0.4)\n    ),\n    url("../../nicolas-lysandrou-pncTHnpCtaM-unsplash.jpg");\n  background-size: cover;\n  background-position: top;\n  /* position: relative; */\n']))),Mr=ue.b.a(hr||(hr=Object(de.a)(['\n  @keyframes moveInTop {\n    0% {\n      opacity: 0;\n      transform: translate(-50%, -50%) translateY(3rem);\n    }\n\n    80% {\n      transform: translate(-50%, -50%) translateY(-2px);\n    }\n\n    100% {\n      opacity: 1;\n      transform: translate(-50%, -50%) translateY(0);\n    }\n  }\n\n  cursor: pointer;\n  display: inline-block;\n  position: absolute;\n  background-color: white;\n  color: #065f46;\n  padding: 1.5rem 4rem;\n  border-radius: 10rem;\n  text-decoration: none;\n  top: 60%;\n  left: 50%;\n  text-transform: uppercase;\n  transition: all 0.2s;\n  transform: translate(-50%, -50%);\n  animation: moveInTop 1s;\n  animation-fill-mode: backwards;\n  box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.3);\n  white-space: nowrap;\n  font-weight: bold;\n\n  @media (max-width: 600px) {\n    font-size: 1.5rem;\n    top: 50%;\n\n  }\n  &::after {\n    content: "";\n    display: inline-block;\n    height: 100%;\n    width: 100%;\n    border-radius: 10rem;\n    position: absolute;\n    top: 0;\n    left: 0;\n    z-index: -1;\n    transition: all 0.4s;\n    background-color: white;\n  }\n\n  &:hover {\n    transform: translate(-50%, -50%) translateY(-3px);\n    box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.5);\n    color: #065f46;\n\n    &::after {\n      transform: scaleX(1.4) scaleY(1.6);\n      opacity: 0;\n    }\n  }\n\n  &:focus,\n  :active {\n    outline: none;\n    transform: translate(-50%, -50%) translateY(-1px);\n    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.2);\n  }\n']))),Gr=ue.b.h1(jr||(jr=Object(de.a)(["\n  display: block;\n  font-size: 5rem;\n  font-weight: 400;\n  letter-spacing: 1rem;\n  animation-name: moveInLeft;\n  animation-duration: 1s;\n  animation-timing-function: ease-out;\n  color: #fff;\n  text-transform: uppercase;\n  backface-visibility: hidden;\n  position: absolute;\n  top: 30%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  white-space: nowrap;\n\n  @media (max-width: 600px) {\n    font-size: 3.5rem;\n    letter-spacing: 1.5px;\n  }\n\n  @keyframes moveInLeft {\n    0% {\n      opacity: 0;\n      transform: translate(-50%, -50%) translateX(-10rem);\n    }\n\n    80% {\n      transform: translate(-50%, -50%) translateX(10rem);\n    }\n\n    100% {\n      opacity: 1;\n      transform: translate(-50%, -50%) translateX(0);\n    }\n  }\n"]))),Br=ue.b.h2(gr||(gr=Object(de.a)(["\n  display: block;\n  font-size: 1.8rem;\n  font-weight: 400;\n  letter-spacing: 0.35rem;\n  animation-name: moveInRight;\n  animation-duration: 1s;\n  animation-timing-function: ease-out;\n  color: #fff;\n  text-transform: uppercase;\n  backface-visibility: hidden;\n  position: absolute;\n  top: 40%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-weight: 700;\n  white-space: nowrap;\n\n  @media (max-width: 600px) {\n    font-size: 1.4rem;\n    letter-spacing: 1.1px;\n    top: 38%;\n  }\n\n  @keyframes moveInRight {\n    0% {\n      opacity: 0;\n      transform: translate(-50%, -50%) translateX(10rem);\n    }\n\n    80% {\n      transform: translate(-50%, -50%) translateX(-1rem);\n    }\n\n    100% {\n      opacity: 1;\n      transform: translate(-50%, -50%) translateX(0);\n    }\n  }\n"]))),Fr=function(){return Object(Ee.jsx)(Nr,{children:Object(Ee.jsxs)(Dr,{children:[Object(Ee.jsx)(Gr,{children:"Mysterious London"}),Object(Ee.jsxs)(Br,{children:["discover places you never thought existed",Object(Ee.jsx)("div",{style:{textAlign:"center",marginTop:"10px"},children:"in london"})]}),Object(Ee.jsx)(Mr,{as:De.a,to:"/attractions",children:"discover Now"})]})})},Ur=function(e){Object(A.a)(n,e);var t=Object(C.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(k.a)(n,[{key:"componentDidMount",value:function(){this.props.isLoggedIn()}},{key:"render",value:function(){return Object(Ee.jsxs)(T.b,{history:I,children:[Object(Ee.jsx)(Lr,{}),Object(Ee.jsx)(qt,{}),Object(Ee.jsxs)(T.c,{children:[Object(Ee.jsx)(T.a,{exact:!0,path:"/",component:Fr}),Object(Ee.jsx)(T.a,{exact:!0,path:"/attractions",component:er}),Object(Ee.jsx)(T.a,{exact:!0,path:"/register",component:Ie}),Object(Ee.jsx)(T.a,{exact:!0,path:"/login",component:ze}),Object(Ee.jsx)(T.a,{exact:!0,path:"/create",component:nn}),Object(Ee.jsx)(T.a,{exact:!0,path:"/attractions/search",component:Ar}),Object(Ee.jsx)(T.a,{exact:!0,path:"/attractions/map",component:_r}),Object(Ee.jsx)(T.a,{exact:!0,path:"/attractions/:id/edit",component:Tr}),Object(Ee.jsx)(T.a,{exact:!0,path:"/attractions/:id",component:xr}),Object(Ee.jsx)(T.a,{exact:!0,path:"/myattractions",component:vr}),Object(Ee.jsx)(T.a,{path:"*",component:zr})]})]})}}]),n}(a.a.Component),qr=Object(i.b)(null,{isLoggedIn:ne})(Ur);n(144).config();var Yr={key:"root",storage:u.a,whitelist:["user"]},Hr=Object(l.a)(Yr,S),Pr=Object(c.c)(Hr,Object(c.a)(m.a)),Vr=Object(l.b)(Pr);s.a.render(Object(Ee.jsx)(i.a,{store:Pr,children:Object(Ee.jsx)(p.a,{loading:null,persistor:Vr,children:Object(Ee.jsx)(qr,{})})}),document.getElementById("root"))}},[[148,1,2]]]);
//# sourceMappingURL=main.17049fd6.chunk.js.map